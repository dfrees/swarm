"use strict";(self.webpackChunkswarm=self.webpackChunkswarm||[]).push([[543,486,55],{24837:function(e,t,r){var a=r(87462),n=r(45987),o=r(67294),l=(r(65122),r(86010)),i=r(93871),c=r(59693),s=r(52543);r(282).Z.styles;var d=o.forwardRef((function(e,t){var r=e.children,c=e.classes,s=e.className,d=e.color,u=void 0===d?"default":d,p=e.component,f=void 0===p?"div":p,m=e.disabled,b=void 0!==m&&m,h=e.disableElevation,g=void 0!==h&&h,v=e.disableFocusRipple,y=void 0!==v&&v,E=e.disableRipple,w=void 0!==E&&E,Z=e.fullWidth,C=void 0!==Z&&Z,x=e.orientation,j=void 0===x?"horizontal":x,R=e.size,N=void 0===R?"medium":R,T=e.variant,O=void 0===T?"outlined":T,S=(0,n.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),P=(0,l.Z)(c.grouped,c["grouped".concat((0,i.Z)(j))],c["grouped".concat((0,i.Z)(O))],c["grouped".concat((0,i.Z)(O)).concat((0,i.Z)(j))],c["grouped".concat((0,i.Z)(O)).concat("default"!==u?(0,i.Z)(u):"")],b&&c.disabled);return o.createElement(f,(0,a.Z)({role:"group",className:(0,l.Z)(c.root,s,C&&c.fullWidth,g&&c.disableElevation,"contained"===O&&c.contained,"vertical"===j&&c.vertical),ref:t},S),o.Children.map(r,(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:(0,l.Z)(P,e.props.className),color:e.props.color||u,disabled:e.props.disabled||b,disableElevation:e.props.disableElevation||g,disableFocusRipple:y,disableRipple:w,fullWidth:C,size:e.props.size||N,variant:e.props.variant||O}):null})))}));t.Z=(0,s.Z)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:(0,c.Fq)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:(0,c.Fq)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(d)},28358:function(e,t,r){var a=r(87462),n=r(45987),o=r(4942),l=r(67294),i=r(86010),c=r(52543),s=l.forwardRef((function(e,t){var r=e.classes,o=e.className,c=e.component,s=void 0===c?"div":c,d=e.disableGutters,u=void 0!==d&&d,p=e.variant,f=void 0===p?"regular":p,m=(0,n.Z)(e,["classes","className","component","disableGutters","variant"]);return l.createElement(s,(0,a.Z)({className:(0,i.Z)(r.root,r[f],o,!u&&r.gutters),ref:t},m))}));t.Z=(0,c.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,o.Z)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(s)},90486:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var a=r(67294),n=r(45697),o=r.n(n),l=r(26793);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var c=function(e){var t,r,n=(0,a.useRef)(null),o=e.initialTrail,l=e.id,c=(t=(0,a.useState)(o.replace(/\/$/,"").replace(new RegExp("^".concat(l)),"").replace(/.*\/([^/]*)*/,"/$1")),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],d=c[1];return(0,a.useEffect)((function(){if(null!==s){var e=function(e){d(e.detail)},t=n.current;return t.addEventListener("change-breadcrumb",e),function(){t.removeEventListener("change-breadcrumb",e)}}return""}),[]),null!==s?a.createElement("span",{ref:n,className:"breadcrumb-trail"},s):null},s=function(e){var t=(0,l.$)("menu").t,r=e.title,n=e.id,o=e["*"],i=e.legacyPage;return(0,a.useEffect)((function(){var e;return i?((e=document.createEvent("Event")).initEvent("reloadPhpPage",!0,!1),document.dispatchEvent(e)):function(){var e=document.createEvent("Event");e.initEvent("clearPhpPage",!0,!1),document.dispatchEvent(e)}(),function(){}}),[i]),a.createElement("h1",{className:"page-heading".concat(r?" module-".concat(r):"").concat(i?" legacy-page":"")},r?a.createElement("span",{className:"module-id"},t(r)):"","files"!==r?a.createElement(a.Fragment,null,r&&n?"/":"",a.createElement("span",{className:"page-id"},n),a.createElement(c,{id:(o||"").replace(/^([^/]+)/,"$1"),initialTrail:o||""})):a.createElement(c,{initialTrail:(n?"/".concat(n,"/"):"")+o}))},d=s;s.propTypes={title:o().string,id:o().oneOfType([o().string,o().number]),"*":o().string,legacyPage:o().bool},c.propTypes={initialTrail:o().string,id:o().string},s.defaultProps={id:null,title:null,"*":null,legacyPage:!1},c.defaultProps={id:null,initialTrail:""}},77506:function(e,t,r){var a=r(67294),n=r(282),o=r(26793),l=r(868),i=r(32427),c=r(45697),s=r.n(c),d=r(28889),u=(0,i.Z)((function(){return{button:{textTransform:"none","&:hover":{backgroundColor:"transparent"}},disabled:{cursor:"not-allowed"}}})),p=function(e){var t=e.disabled,r=e.onClick,i=(0,o.$)("common").t,c=u();return a.createElement(l.ZP,{title:i("clearAllFilters"),arrow:!0,placement:"top",className:"manual-tooltip"},a.createElement(d.Z,{className:"clearFilterWrapper ".concat(t?c.disabled:"")},a.createElement(n.Z,{color:"primary",disabled:t,onClick:function(){return r()},className:"filterClearButton ".concat(c.button)},i("clearAll"))))};t.Z=p,p.propTypes={disabled:s().bool,onClick:s().func},p.defaultProps={disabled:!1,onClick:function(){}}},43543:function(e,t,r){r.r(t),r.d(t,{default:function(){return me}});var a=r(67294),n=r(28216),o=r(41749),l=r(45697),i=r.n(l),c=r(74823),s=r(59031),d=r(28358),u=r(32427),p=r(28889),f=r(77506),m=function(e){var t=e.disabled,r=(0,n.I0)();return a.createElement(p.Z,{className:"dashboardClearFilter"},a.createElement(f.Z,{disabled:t,onClick:function(){return r((0,s.PC)())}}))},b=m;m.propTypes={disabled:i().bool},m.defaultProps={disabled:!1};var h=r(26793),g=r(12877),v=r(43230),y=r(20351),E=r(64460);function w(e){var t=e.authors,r=e.disabled,o=(0,h.$)(["review"]).t,l=(0,n.v9)((0,y.YN)(t)),i=(0,a.useMemo)((function(){var e=[{id:"",fullName:o("allAuthors")},{id:"divider",fullName:""}],t=l?l.map((function(e){return{id:e.id,fullName:(0,v.eo)(e)}})).sort((function(e,t){return-t.fullName.localeCompare(e.fullName)})):null;return e.concat(t||[])}),[l]),c=(0,n.I0)(),d=(0,n.v9)(E.ah);return a.createElement(p.Z,{className:"dashboardAuthorFilter"},a.createElement(g.Z,{tooltipText:o("dashboardAuthorFilterTooltip"),disabled:r,optionsArray:i,searchText:"fullName",placeholderLabel:o("author"),placeholderValue:o("allAuthors"),classNamePrefix:"dashboardAuthor",optionLabel:"fullName",verifySelectedOption:function(e,t){return null===e.id||e.id===t.id},selectedValue:function(){var e=null;if(null!==d)for(var t=0;t<i.length;t+=1)if(i[t].id===d){e=i[t];break}return e}(),onChange:function(e,t){var r=t?t.id:null;c((0,s.AP)(r))}}))}w.propTypes={authors:i().arrayOf(i().string).isRequired,disabled:i().bool},w.defaultProps={disabled:!1};var Z=r(22318),C=r(41120),x=r(24837),j=r(282),R=r(868),N=r(89420);function T(e){var t=e.fill,r=e.rotate,n=e.rotateCount,o=e.rotateSeconds,l=e.size,i="".concat(l,"px"),c="".concat(l,"px");return a.createElement("svg",{className:"svgIcon check",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:i,width:c}},a.createElement("path",{fill:t,d:"M3.644,7.999h2.178l-2.893,2.895L0,7.999h2.179c0-1.046,0.268-2.021,0.802-2.929c0.51-0.882,1.208-1.579, 2.091-2.091C5.979,2.445,6.954,2.179,8,2.179c0.559,0,1.102,0.077,1.631,0.234c0.527,0.156,1.02, 0.386,1.473,0.688L10.04,4.147C9.423,3.812,8.744,3.643,8,3.643c-0.79,0-1.52,0.194-2.187,0.584c-0.669, 0.39-1.197,0.918-1.587,1.586C3.838,6.479,3.644,7.209,3.644,7.999z M13.072,5.105L16,7.999h-2.18c0, 1.046-0.268,2.021-0.801,2.93c-0.513,0.883-1.209,1.579-2.092,2.09c-0.906,0.535-1.883,0.803-2.929, 0.803c-0.546,0-1.087-0.08-1.621-0.244c-0.534-0.162-1.028-0.391-1.481-0.68l1.063-1.045c0.616, 0.336,1.296,0.504,2.039,0.504c0.79,0,1.519-0.193,2.188-0.582c0.668-0.391,1.194-0.918, 1.586-1.588c0.39-0.668,0.584-1.396,0.584-2.188h-2.18L13.072,5.105z"},r?a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"360 8 8",to:"0 8 8",dur:"".concat(o,"s"),repeatCount:null!=n?n:"indefinite"}):null))}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}T.propTypes={fill:i().string,rotate:i().bool,rotateCount:i().number,rotateSeconds:i().number,size:i().number},T.defaultProps={fill:N.Z[300],rotate:!1,rotateCount:null,rotateSeconds:5,size:16};var S=(0,C.Z)((function(e){return{caption:{verticalAlign:"text-bottom",marginRight:e.spacing(1)},refreshGroup:{backgroundColor:e.palette.colors.black[100],"&.disabled":{cursor:"not-allowed",backgroundColor:"transparent"}},refreshButton:{backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main,minHeight:e.spacing(3.875),"&:hover":{backgroundColor:e.palette.primary.main,opacity:.9},fill:e.palette.colors.white[0]}}})),P=function(){var e,t,r=(0,h.$)("review").t,n=S(),o=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],i=o[1];return a.createElement(p.Z,{className:"dashboardRefresh"},a.createElement(Z.Z,{variant:"caption",className:"subTitle ".concat(n.caption)},r("dashboardChanged")),a.createElement(R.ZP,{arrow:!0,placement:"top",title:r("dashboardRefresh")},a.createElement(x.Z,{className:"".concat(n.refreshGroup).concat(l?" disabled":"")},a.createElement(j.Z,{className:"refreshButton ".concat(n.refreshButton),variant:"outlined",onClick:function(){i(!0),window.location.reload()},disabled:l},a.createElement(T,{rotate:l,fill:"parent"})))))},A=r(44055);function k(e){var t=e.roles,r=e.disabled,o=(0,h.$)(["review"]).t,l=(0,a.useMemo)((function(){var e=[{id:"",value:o("allRoles")},{id:"divider",value:""}],r=t.map((function(e){return{id:e,value:o(e)}})).sort((function(e,t){return-t.value.localeCompare(e.value)}));return e.concat(r)}),[t]),i=(0,n.v9)(E.GR),c=(0,n.I0)();return a.createElement(p.Z,{className:"dashboardRoleFilter"},a.createElement(g.Z,{tooltipText:o("dashboardRoleFilterTooltip"),disabled:r,optionsArray:l,searchText:"value",placeholderLabel:o("role"),placeholderValue:o("allRoles"),classNamePrefix:"dashboardRole",optionLabel:"value",verifySelectedOption:function(e,t){return null===e.id||e.id===t.id},selectedValue:function(){var e=null;if(null!==i)for(var t=0;t<l.length;t+=1)if(l[t].id===i){e=l[t];break}return e}(),onChange:function(e,t){var r=t?t.id:null;c((0,s.gD)(r))}}))}k.propTypes={roles:i().arrayOf(i().string).isRequired,disabled:i().bool},k.defaultProps={disabled:!1};var I=r(47878),B=function(e){var t=e.disabled,r=(0,h.$)(["review"]).t,o=(0,n.I0)(),l=(0,n.v9)(E.R7)||"";return a.createElement(I.Z,{disabled:t,changeHandler:function(e){o((0,s.qP)(e))},placeholder:r("searchForReview"),classes:"dashboardSearch",defaultValue:l})},L=B;B.propTypes={disabled:i().bool},B.defaultProps={disabled:!1};var F=(0,u.Z)((function(e){return{root:{"& .leftHandSide":{paddingTop:e.spacing(.75),paddingBottom:e.spacing(1)},"& .filterBarItem":{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},"& .filterBarItem:first-child":{paddingLeft:0},"& .filterBarItem:last-child":{paddingRight:0}}}})),M=function(e){var t=e.projects,r=e.roles,n=e.authors,l=e.disabled,i=e.refreshRequired,c=F();return a.createElement(d.Z,{variant:"dense",disableGutters:!0},a.createElement(o.Z,{className:"filterBar ".concat(c.root),container:!0,direction:"row",justifyContent:"space-between"},a.createElement(o.Z,{className:"leftHandSide"},a.createElement(o.Z,{container:!0,direction:"row"},a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(A.default,{projectIds:t,disabled:l})),a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(k,{roles:r,disabled:l})),a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(w,{authors:n,disabled:l})))),a.createElement(o.Z,{className:"rightHandSide"},a.createElement(o.Z,{container:!0,direction:"row"},i?a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(P,null)):null,a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(b,{disabled:l})),a.createElement(o.Z,{className:"filterBarItem",item:!0},a.createElement(L,{disabled:l}))))))},z=M;M.propTypes={projects:i().arrayOf(i().string).isRequired,roles:i().arrayOf(i().string).isRequired,authors:i().arrayOf(i().string).isRequired,disabled:i().bool,refreshRequired:i().bool},M.defaultProps={disabled:!1,refreshRequired:!1};var $=r(90486),q=r(85444),V=r(91691),H=(0,u.Z)((function(e){return{root:{display:"inline-block",width:"calc(100% - 8px)","& .loginMessage":{width:"100%",display:"inherit",textAlign:"center",color:e.palette.colors.grey[250]},"& .session-container":{position:"inherit",display:"inline","& > div":{verticalAlign:"inherit"},"& label, & .footer":{letterSpacing:"normal"},"& .login-close-box .svgIcon":{verticalAlign:"middle"},"& .modal-overlay::after":{left:0},"& .suspense":{visibility:"hidden",margin:0,width:47},"& .login-btn":{height:22,border:"none",textTransform:"none",padding:0,verticalAlign:"baseline",minWidth:0,fontSize:18,color:e.palette.colors.blue[500],"&:hover":{backgroundColor:"transparent",textDecoration:"underline"}}}}}})),U=function(){var e=H(),t=document.getElementsByTagName("BODY")[0].getAttribute("class"),r=t&&t.includes("route-login"),o=(0,n.I0)(),l=function(){o((0,V.or)(!0))},i=function(){return a.createElement(p.Z,{onClick:l,className:"session-container"},a.createElement(q.c,{i18nKey:"session:login"},"Log in"))};return!r&&a.createElement(p.Z,{className:"dashboardLogin ".concat(e.root)},a.createElement(Z.Z,{variant:"body2",className:"loginMessage large"},a.createElement(q.c,{i18nKey:"review:dashboardLoginMessage"},a.createElement(i,null))))},D=r(87462),W=r(45987),G=r(86010),_=r(79895),K=r(52543),Y=a.forwardRef((function(e,t){var r=e.classes,n=e.className,o=e.raised,l=void 0!==o&&o,i=(0,W.Z)(e,["classes","className","raised"]);return a.createElement(_.Z,(0,D.Z)({className:(0,G.Z)(r.root,n),elevation:l?8:1,ref:t},i))})),J=(0,K.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(Y),Q=r(79612),X=r(66565),ee=r(2934);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var re=(0,u.Z)((function(e){return{root:{padding:e.spacing(2),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5),marginTop:e.spacing(2.5),marginBottom:e.spacing(1),backgroundColor:e.palette.colors.grey[30],borderColor:e.palette.colors.grey[80],position:"relative","& .help .svgIcon":{fill:e.palette.primary.main},"& .dismissButton":{position:"absolute",top:0,right:0,color:e.palette.primary.main,textTransform:"none","& .svgIcon":{paddingLeft:e.spacing(1),fill:e.palette.primary.main},"&:hover":{backgroundColor:"transparent"}}},explanatoryMessage:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),ae=function(){var e,t,r=(0,h.$)("review").t,n=re(),o=(e=(0,a.useState)((0,v.WH)(Q.jP)),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],i=o[1];return"true"===l?null:a.createElement(J,{className:"dashboardExplanation ".concat(n.root),square:!0,variant:"outlined"},a.createElement(Z.Z,{className:"large bolder",variant:"h2"},r("dashboardHeading")),a.createElement(j.Z,{className:"dismissButton",variant:"text",disableRipple:!0,onClick:function(){return i((0,v.ZP)(Q.jP,"true"))}},r("dismissDashboardExplanation"),a.createElement(ee.Z,{fill:"parent"})),a.createElement(Z.Z,{className:"medium ".concat(n.explanatoryMessage)},r("dashboardExplanation")),a.createElement(X.Z,{section:"/Content/Swarm/basics.dashboard.html",text:r("dashboardLearn")}))},ne=r(74489),oe=r(71476),le=function(){return(0,oe.ib)("reviews/dashboard",{queryParams:{metadata:!0}})};function ie(e,t,r,a,n,o,l){try{var i=e[o](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,n)}function ce(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function l(e){ie(o,a,n,l,i,"next",e)}function i(e){ie(o,a,n,l,i,"throw",e)}l(void 0)}))}}var se=function(e){var t=e.onComplete,r=e.onError;function a(){return(a=ce(regeneratorRuntime.mark((function e(t,r){var a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:a=e.sent,n=a.data,o=a.messages,n&&n.reviews?t(n.totalCount):r(o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return new Promise((function(e,t){return a.apply(this,arguments)})).then((function(e){t(e)})).catch((function(e){r(e)})),null},de=se;se.propTypes={onComplete:i().func.isRequired,onError:i().func},se.defaultProps={onError:function(){}};var ue=r(58524);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function me(e){var t=e.checkForUpdates,r=(0,a.useContext)(ne.ZP).config.users,l="dashboard",i=(0,n.I0)(),d=le(),u=d.data,p=d.fetching,f=d.messages,m=pe((0,a.useState)(null),2),b=m[0],h=m[1],g=pe((0,a.useState)(null),2),v=g[0],y=g[1],w=(0,n.v9)(E.E1),Z=w.projectFilter,C=w.roleFilter,x=w.authorFilter,j=w.descriptionFilter,R=(0,n.v9)(ue.dy),N=null!==R,T=pe((0,a.useState)({projects:[],roles:[],authors:[]}),2),O=T[0],S=T[1],P=pe((0,a.useState)(!1),2),A=P[0],k=P[1],I=pe((0,a.useState)(null),2),B=I[0],L=I[1],F=function(){L(!1),setTimeout((function(){L(!0)}),r.dashboard_refresh_interval)};return(0,a.useEffect)((function(){var e=[];if(i((0,s.t3)(l)),u&&u.reviews){var n=u.reviews,o={},c={},d={};n.forEach((function(t){var a=!0;Object.keys(t.projects).forEach((function(e){o[e]=!0})),(t.roles||[]).forEach((function(e){c[e]=!0})),d[t.author]=!0,e.length<r.maximum_dashboard_display&&(a&&(null!=Z?Z:[]).length>0&&(a=!1,Object.keys(t.projects).forEach((function(e){a=a||Z.indexOf(e)>=0||-1!==Z.indexOf("projects-for-user:".concat(R))&&-1!==u.projectsForUser.indexOf(e)}))),a&&C&&(a=!1,(t.roles||[]).forEach((function(e){a=a||C===e}))),a&&x&&(a=-1!==t.author.indexOf(x)),a&&j&&(a=-1!==t.description.toLocaleLowerCase().indexOf(j.toLocaleLowerCase())),a&&e.push(t))})),S({projects:Object.keys(o),roles:Object.keys(c),authors:Object.keys(d)}),h(e),!0===t&&F()}else f&&(f.filter((function(e){return e.text.indexOf("401")>=0})).length>0?y([{type:"plain",text:a.createElement(U,null)}]):y(f));i((0,s.RV)({query:l,count:u?{totalCount:e.length,reviewCount:e.length,lastSeen:u.lastSeen,afterUpdated:u.afterUpdated}:null}))}),[u,f,j,C,Z,x]),a.createElement(o.Z,{className:"dashboard"},a.createElement($.default,{title:"my dashboard"}),a.createElement(ae,null),a.createElement(z,{projects:O.projects,roles:O.roles,authors:O.authors,disabled:!(N&&u&&u.reviews&&u.reviews.length>0),refreshRequired:A}),a.createElement(c.default,{footerMessageKeys:{noReviews:"dashboardNoReviews"},loading:p,fields:["author","description","dashboardRole","lastActivity","state","testStatus","complexity","votes"],reviews:b,messages:v}),B?a.createElement(de,{onComplete:function(e){return e!==u.totalCount?void k(!0):F()},onError:function(e){return y(e)}}):null)}me.propTypes={checkForUpdates:i().bool},me.defaultProps={checkForUpdates:!0}},44055:function(e,t,r){r.r(t);var a=r(67294),n=r(28216),o=r(26793),l=r(28889),i=r(22318),c=r(45697),s=r.n(c),d=r(59031),u=r(47006),p=r(12877),f=r(64460),m=r(58524);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){return 0===e.name.toLowerCase().localeCompare(e.id.replace(/-/g," "))?e.name:"".concat(e.name," ").concat(e.id)},y=function(e){var t=e.projectIds,r=e.disabled,c=(0,n.v9)(f.j3),s=r?(0,u.Z)({empty:!0}):(0,u.Z)(h(h({},t?{ids:t}:{}),{},{fields:["id","name"],useSwarmCache:!0})),b=s.data,g=s.fetching,y=(0,n.I0)(),E=(0,o.$)("project").t,w=(0,a.useMemo)((function(){return a.createElement(i.Z,{variant:"body2",className:"small list-group group-atoz"},E("aToz"))})),Z=(0,a.useMemo)((function(){return a.createElement(i.Z,{variant:"body2",className:"small list-group group-projects"},E("projects"))})),C=(0,n.v9)(m.dy),x="projects-for-user:".concat(C),j=(0,a.useMemo)((function(){var e=C?[{groupBy:Z,id:x,name:E("myProjects"),searchText:E("myProjects")},{groupBy:Z,id:"divider",name:""}]:[],t=b&&b.projects?b.projects.map((function(e){return{id:e.id,name:e.name,searchText:v(e)}})):null;return e.concat((t||(g?[{id:"loading",name:""}]:[])).sort((function(e,t){return-t.name.localeCompare(e.name)})))}),[b,C]);return a.createElement(l.Z,{className:"reviewProjectFilter"},a.createElement(p.Z,{tooltipText:E("projectFilterTooltip"),multiple:!0,disabled:r,optionsArray:j,searchText:"searchText",verifySelectedOption:function(e,t){return null===e.id||e.id===t.id},selectedValue:function(){var e=[];if(null!==c)for(var t=0;t<j.length;t+=1)c.includes(j[t].id)&&e.push(j[t]);return e}(),placeholderValue:E("allProjects"),placeholderLabel:E("project"),groupBy:function(e){return e.groupBy||w},optionLabel:"name",onChange:function(e,t){var r=[];Object.values(t).forEach((function(e){r.push(e.id)})),y((0,d.a0)(r))},classNamePrefix:"project"}))};t.default=y,y.propTypes={projectIds:s().arrayOf(s().string),disabled:s().bool},y.defaultProps={projectIds:null,disabled:!1}}}]);
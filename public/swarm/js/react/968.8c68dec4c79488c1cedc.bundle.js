"use strict";(self.webpackChunkswarm=self.webpackChunkswarm||[]).push([[968,486,950,473,615],{90486:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(67294),a=n(45697),o=n.n(a),i=n(26793);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t,n,a=(0,r.useRef)(null),o=e.initialTrail,i=e.id,c=(t=(0,r.useState)(o.replace(/\/$/,"").replace(new RegExp("^".concat(i)),"").replace(/.*\/([^/]*)*/,"/$1")),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1];return(0,r.useEffect)((function(){if(null!==s){var e=function(e){u(e.detail)},t=a.current;return t.addEventListener("change-breadcrumb",e),function(){t.removeEventListener("change-breadcrumb",e)}}return""}),[]),null!==s?r.createElement("span",{ref:a,className:"breadcrumb-trail"},s):null},s=function(e){var t=(0,i.$)("menu").t,n=e.title,a=e.id,o=e["*"],l=e.legacyPage;return(0,r.useEffect)((function(){var e;return l?((e=document.createEvent("Event")).initEvent("reloadPhpPage",!0,!1),document.dispatchEvent(e)):function(){var e=document.createEvent("Event");e.initEvent("clearPhpPage",!0,!1),document.dispatchEvent(e)}(),function(){}}),[l]),r.createElement("h1",{className:"page-heading".concat(n?" module-".concat(n):"").concat(l?" legacy-page":"")},n?r.createElement("span",{className:"module-id"},t(n)):"","files"!==n?r.createElement(r.Fragment,null,n&&a?"/":"",r.createElement("span",{className:"page-id"},a),r.createElement(c,{id:(o||"").replace(/^([^/]+)/,"$1"),initialTrail:o||""})):r.createElement(c,{initialTrail:(a?"/".concat(a,"/"):"")+o}))},u=s;s.propTypes={title:o().string,id:o().oneOfType([o().string,o().number]),"*":o().string,legacyPage:o().bool},c.propTypes={initialTrail:o().string,id:o().string},s.defaultProps={id:null,title:null,"*":null,legacyPage:!1},c.defaultProps={id:null,initialTrail:""}},35035:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon activity",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"activityPath",fill:t,d:"M8.111,13.443C8.602,13.443,9,13.842,9,14.334c0,0.49-0.398,0.889-0.889,0.889H1.889 C1.398,15.223,1,14.824,1,14.334c0-0.492,0.398-0.891,0.889-0.891H8.111z M16.111,8.111C16.602,8.111,17,8.509,17,9 s-0.398,0.889-0.889,0.889H1.889C1.398,9.889,1,9.491,1,9s0.398-0.889,0.889-0.889H16.111z M10.777,2.778 c0.49,0,0.889,0.398,0.889,0.889c0,0.491-0.398,0.889-0.889,0.889H1.889C1.398,4.556,1,4.158,1,3.667 c0-0.491,0.398-0.889,0.889-0.889H10.777z"}))}l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[300],size:16}},31828:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon cog",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"cogPath",fill:t,d:"M16,7.484c0.24,0.042,0.467,0.159,0.68,0.352S17,8.266,17,8.547v1c0,0.271-0.107,0.49-0.32,0.656S16.24, 10.484,16,10.547l-1.297,0.312c-0.053,0.156-0.107,0.305-0.164,0.445s-0.123,0.279-0.195,0.414l0.688, 1.156c0.135,0.209,0.219,0.447,0.25,0.719s-0.053,0.506-0.25,0.703L14.328,15c-0.197,0.197-0.438, 0.289-0.719,0.273s-0.525-0.092-0.734-0.227l-1.125-0.719c-0.146,0.072-0.291,0.141-0.438,0.203s-0.303, 0.119-0.469,0.172L10.562,16c-0.041,0.24-0.158,0.467-0.352,0.68S9.781,17,9.5,17h-1c-0.271, 0-0.49-0.107-0.656-0.32S7.562,16.24,7.5, 16l-0.312-1.281c-0.167-0.053-0.333-0.111-0.5-0.18s-0.328-0.143-0.484-0.227l-1.156, 0.734c-0.198,0.135-0.44,0.211-0.727,0.227S3.797,15.197,3.609, 15l-0.719-0.703c-0.188-0.197-0.266-0.432-0.234-0.703s0.109-0.51, 0.234-0.719l0.734-1.219c-0.062-0.125-0.123-0.252-0.18-0.383s-0.107-0.268-0.148-0.414L2, 10.547c-0.24-0.062-0.466-0.178-0.68-0.344S1,9.818,1,9.547v-1c0-0.281,0.107-0.518, 0.32-0.711S1.76,7.526,2,7.484l1.281-0.281c0.042-0.146,0.094-0.292,0.156-0.438s0.125-0.287, 0.188-0.422L2.891,5.125C2.766,4.917,2.688,4.677,2.656,4.406s0.047-0.505,0.234-0.703L3.609,3C3.797, 2.802,4.034,2.711,4.32,2.727s0.529,0.091,0.727,0.227l1.156,0.734C6.359,3.604,6.518,3.529,6.68, 3.461s0.326-0.127,0.492-0.18L7.5,2c0.052-0.24,0.162-0.466,0.328-0.68S8.219,1,8.5,1h1c0.281, 0,0.516,0.107,0.703,0.32s0.307,0.435,0.359,0.664l0.281,1.312C11,3.349,11.154,3.406, 11.305,3.469s0.299,0.13,0.445,0.203l1.125-0.719c0.209-0.135,0.453-0.211,0.734-0.227S14.131, 2.802,14.328,3l0.703,0.703c0.197,0.198,0.281,0.432,0.25,0.703s-0.115,0.51-0.25,0.719l-0.688, 1.156c0.072,0.146,0.143,0.294,0.211,0.445s0.123,0.31,0.164,0.477L16,7.484z M16, 9.469l0.016-0.891c-0.01-0.01-0.037-0.029-0.078-0.055s-0.088-0.044-0.141-0.055l-1.859-0.422L13.766, 7.5c-0.031-0.125-0.072-0.25-0.125-0.375s-0.115-0.255-0.188-0.391l-0.25-0.5l0.984-1.641c0.031-0.042, 0.055-0.083,0.07-0.125s0.023-0.073,0.023-0.094l-0.656-0.641c-0.031,0-0.064,0.005-0.102,0.016s-0.07, 0.026-0.102,0.047l-1.609, 1.031l-0.516-0.266c-0.125-0.062-0.25-0.123-0.375-0.18s-0.256-0.102-0.391-0.133L9.984, 4.062L9.578,2.172C9.568,2.13,9.553,2.091,9.531,2.055L9.5,2H8.578C8.557,2.021,8.537,2.052, 8.516,2.094S8.479,2.188,8.469,2.25L8.016,4.062L7.484,4.234C7.349,4.276,7.213,4.326,7.078, 4.383S6.807,4.505,6.672,4.578L6.156,4.844L4.484,3.781L4.406,3.742C4.375,3.727,4.344,3.713, 4.312,3.703L3.656,4.359c0,0.031,0.008,0.068,0.023,0.109s0.039,0.088,0.07,0.141l1.016,1.688l-0.25, 0.484c-0.062,0.135-0.117,0.26-0.164,0.375S4.266,7.385,4.234,7.5L4.062,8.047L2.172,8.469C2.141,8.479, 2.107,8.495,2.07,8.516S2.01,8.547,2,8.547v0.922C2.021,9.49,2.052,9.508,2.094,9.523S2.188,9.553,2.25, 9.562l1.828,0.469l0.172,0.531c0.031,0.104,0.07,0.211,0.117,0.32s0.102,0.221,0.164,0.336l0.234, 0.484L3.75,13.406c-0.031,0.041-0.055,0.084-0.07,0.125s-0.023,0.078-0.023,0.109l0.656,0.641c0.031, 0,0.065-0.008,0.102-0.023s0.07-0.033,0.102-0.055l1.641-1.047l0.516,0.266c0.135,0.072,0.271,0.139, 0.406,0.195s0.271,0.107,0.406,0.148l0.531,0.172l0.469,1.844c0.01,0.053,0.023,0.096,0.039,0.133S8.557, 15.979,8.578,16h0.906c0.01-0.01,0.029-0.037,0.055-0.078s0.045-0.084,0.055-0.125L10, 13.938l0.547-0.188c0.125-0.041,0.25-0.088,0.375-0.141s0.25-0.109,0.375-0.172l0.516-0.266l1.641, 1.047l0.078,0.039c0.031,0.016, 0.062,0.029,0.094, 0.039l0.656-0.656c0-0.031-0.008-0.068-0.023-0.109s-0.039-0.088-0.07-0.141l-0.984-1.625l0.25-0.5c 0.062-0.115,0.117-0.232,0.164-0.352s0.092-0.242, 0.133-0.367l0.172-0.516l1.859-0.469c0.053-0.01,0.096-0.023,0.133-0.039S15.979, 9.49,16,9.469z M9,6c0.834,0,1.545,0.292,2.133,0.875S12.016,8.167,12.016,9c0,0.834-0.295, 1.541-0.883,2.125S9.834,12,9,12c-0.823,0-1.529-0.291-2.117-0.875S6,9.834,6,9c0-0.833, 0.294-1.542,0.883-2.125S8.177,6,9,6z M9,11c0.553,0,1.023-0.195,1.414-0.586S11,9.553, 11,9c0-0.552-0.195-1.023-0.586-1.414S9.553,7,9,7C8.448,7,7.977,7.195,7.586,7.586S7,8.448,7, 9c0,0.553,0.195,1.023,0.586,1.414S8.448,11,9,11z"}))}l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[300],size:16}},39204:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(56021),l=n(36227),c=function(e){var t=e.fill,n=t.circle,a=t.add,o=e.size,c="".concat(o,"px"),s="".concat(o,"px");return r.createElement("svg",{className:"svgIcon filledAddInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:c,width:s}},r.createElement("path",{fill:n||i.Z[700],d:"M9,1.5c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5S1.5,13.1,1.5,9S4.9,1.5,9,1.5z"}),r.createElement("polygon",{fill:a||l.Z[0],points:"10.1,4.7 7.9,4.7 7.9,7.9 4.7,7.9 4.7,10.1 7.9,10.1 7.9,13.3 10.1,13.3 10.1,10.1 13.3,10.1 13.3, 7.9,10.1,7.9"}))};t.Z=c,c.propTypes={fill:o().objectOf(o().string),size:o().number},c.defaultProps={fill:{},size:16}},66860:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(65557),l=n(36227),c=function(e){var t=e.fill,n=t.circle,a=t.edit,o=e.size,c="".concat(o,"px"),s="".concat(o,"px");return r.createElement("svg",{style:{height:c,width:s},className:"svgIcon filledEditPencilInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18;"},r.createElement("path",{fill:n||i.Z.primary.main,d:"M9,1.5c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5S1.5,13.1,1.5,9S4.9,1.5,9,1.5z"}),r.createElement("path",{fill:a||l.Z[0],d:"M9.5,6.9l1.6,1.6l-4.8,4.8H4.7v-1.6L9.5,6.9z M13.1,6.2l-1.3-1.3c-0.1-0.1-0.2-0.2-0.4-0.2c-0.2,0-0.3, 0.1-0.4,0.2l-1,1l2.1,2.1l1-1c0.1-0.1,0.2-0.2,0.2-0.4C13.3,6.4,13.2,6.3,13.1,6.2z"}))};t.Z=c,c.propTypes={fill:o().objectOf(o().string),size:o().number},c.defaultProps={fill:{},size:16}},39411:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(89420),l=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{style:{height:a,width:o},className:"svgIcon filledInTrayInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18"},r.createElement("path",{fill:t,d:"M5.093,10.666h2.24c0,0.294,0.075,0.568,0.227,0.827c0.151,0.258,0.355,0.462,0.613,0.612 C8.431,12.257, 8.707,12.334,9,12.334s0.568-0.076,0.826-0.229c0.258-0.151,0.463-0.354,0.613-0.612 c0.15-0.259, 0.227-0.533,0.227-0.827h2.214V5.12H5.093V10.666z M6.5,6h5C11.775,6,12,6.224,12,6.5S11.775,7,11.5, 7h-5 C6.224,7,6,6.776,6,6.5S6.224,6,6.5,6z M6.5,8h5C11.775,8,12,8.224,12,8.5S11.775,9,11.5,9h-5C6.224, 9,6,8.776,6,8.5S6.224,8,6.5,8z M9,0C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18, 4.029,13.971,0,9,0z M14,12.88 c0,0.302-0.111,0.563-0.334,0.786S13.182,14,12.88,14H5.093c-0.311, 0-0.571-0.111-0.78-0.334S4,13.182,4,12.88V5.12 c0-0.302,0.104-0.564,0.313-0.787S4.782,4,5.093, 4h7.787c0.302,0,0.563,0.111,0.786,0.333C13.889,4.556,14,4.818,14,5.12V12.88z"}))};t.Z=l,l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[200],size:16}},29122:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(46750),l=n(36227),c=function(e){var t=e.fill,n=t.circle,a=t.minus,o=e.size,c="".concat(o,"px"),s="".concat(o,"px");return r.createElement("svg",{className:"svgIcon filledMinusInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:c,width:s}},r.createElement("path",{fill:n||i.Z[700],d:"M9,1.5c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5S1.5,13.1,1.5,9S4.9,1.5,9,1.5z"}),r.createElement("polygon",{fill:a||l.Z[0],points:"13.3,7.9 4.7,7.9 4.7,10.1 13.3,10.1 13.3,7.9"}))};t.Z=c,c.propTypes={fill:o().objectOf(o().string),size:o().number},c.defaultProps={fill:{},size:16}},67019:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(89420),l=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon filledSpeechBubble",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M3.583,2.5h10.833c0.598,0,1.084,0.485,1.084,1.083v7.075c0,0.598-0.486,1.082-1.084,1.082H7.95l0,0 L3.674,15.5l-0.01-3.76H3.583c-0.598,0-1.083-0.484-1.083-1.082V3.583C2.5,2.986,2.986,2.5,3.583,2.5z"}))};t.Z=l,l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[250],size:16}},56354:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.down,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotateX(".concat(t?180:0,"deg");return r.createElement("svg",{className:"svgIcon filledThumb",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{className:"FilledThumbHandPath",fill:n,d:"M3.9,12.199c0-0.328-0.272-0.602-0.6-0.602c-0.337,0-0.6,0.271-0.6,0.602c0,0.336,0.263, 0.6,0.6,0.6C3.628,12.799,3.9,12.537,3.9,12.199z M5.4,7.399v6C5.4,13.729,5.128,14, 4.8,14H2.1c-0.328,0-0.6-0.271-0.6-0.602v-6c0-0.328,0.272-0.6,0.6-0.6h2.7C5.128,6.8,5.4,7.072,5.4, 7.399z M16.5,7.399c0,0.496-0.197,1.031-0.516,1.397c0.102,0.299,0.141,0.58,0.141,0.711c0.02,0.472-0.123, 0.91-0.404,1.285c0.104,0.349,0.104,0.724,0,1.099c-0.094,0.348-0.271,0.655-0.506,0.881c0.057, 0.703-0.104,1.272-0.46,1.696c-0.401,0.479-1.021,0.724-1.847,0.73c-0.037,0-0.17,0-0.338,0h-0.871c-1.342, 0-2.606-0.441-3.619-0.789C7.491,14.205,6.928,14.01,6.6,14C6.281,13.99,6,13.729,6,13.398V7.391c0-0.31, 0.263-0.571,0.572-0.6c0.346-0.028,1.247-1.145,1.659-1.688c0.337-0.432,0.656-0.835,0.948-1.125C9.545, 3.611,9.648,3.051,9.76,2.507c0.104-0.554,0.215-1.134,0.619-1.529c0.111-0.11,0.262-0.177, 0.421-0.177c2.101,0,2.101,1.678,2.101,2.4c0,0.769-0.271,1.312-0.523,1.8c-0.104,0.206-0.197,0.3-0.271, 0.601H14.7C15.675,5.6,16.5,6.425,16.5,7.399z"}))}l.propTypes={fill:o().string,down:o().bool,size:o().number},l.defaultProps={fill:i.Z[10],down:!1,size:16}},70473:function(e,t,n){n.r(t);var r=n(67294),a=n(45697),o=n.n(a),i=n(46750),l=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon hexagonExclamation",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M13.286,5.123l0.812-1.479L16.5,5.088v2.84h-1.639V6.075L13.286,5.123z M14.751,10.011H16.5v3.275L9, 17.571l-7.5-4.285V4.714L9,0.429l2.478,1.406l-0.883,1.491L9,2.435L3.25,5.708v6.584L9, 15.565l5.751-3.273V10.011zM7.929,13.286v-2.144h2.143v2.144H7.929z M8.117,10.071L7.929, 4.714h2.143l-0.188,5.357H8.117z"}))};t.default=l,l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[600],size:16}},80615:function(e,t,n){n.r(t);var r=n(67294),a=n(45697),o=n.n(a),i=n(56021),l=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon hexagonTicked",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M9,0.478l7.5,4.261v8.523L9,17.522l-7.5-4.261V4.739L9,0.478z M14.745,12.271V5.727L9,2.472L3.254,5.727 v6.546L9,15.528L14.745,12.271z M5.897,7.943l2.165,2.13l4.397-4.346l1.33,1.296l-5.728,5.641L4.568,9.239 L5.897,7.943z"}))};t.default=l,l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[500],size:16}},88971:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon speechBubbles",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"speechBubblesPath",fill:t,d:"M1.5,1.488v6.917h3v0.988h-4V0.5h10.99v3.953h-0.996V1.488H1.5z M5.5, 5.441h12v8.893h-2v1.977V17.5l-3.209-3.166H5.5V5.441z M16.5,13.342V6.429h-10v6.913h5.977l2.023, 1.98v-1.98H16.5z"}))}l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[300],size:16}},12429:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(89420),l=function(e){var t=e.fill,n=e.down,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotateX(".concat(n?180:0,"deg");return r.createElement("svg",{className:"svgIcon thumb",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{fill:t,d:"M10.992,2.807c0.771,0.049,0.908,0.42,0.908,1.395c0,0.508-0.163,0.86-0.417,1.351 c-0.02,0.039-0.039, 0.072-0.058,0.104c-0.086,0.149-0.204,0.353-0.291,0.707l-0.306,1.239h1.276h2.599 c0.424,0,0.796,0.373, 0.796,0.797c0,0.253-0.111,0.558-0.27,0.74l-0.378,0.434l0.185,0.544c0.068,0.199,0.087,0.363,0.089, 0.431 c0.01,0.236-0.058,0.447-0.205,0.645l-0.303,0.403l0.145,0.483c0.05,0.167,0.049,0.351-0.008, 0.551 c-0.046,0.171-0.128,0.32-0.232,0.42l-0.343,0.328l0.038,0.474c0.034,0.425-0.042,0.752-0.229, 0.975 c-0.076,0.09-0.307,0.365-1.08,0.372H12.57h-0.871c-1.154,0-2.315-0.398-3.295-0.735C7.878,14.281, 7.406,14.117,7,14.043V8.717 C7.36,8.58,7.931,8.152,9.02,6.718c0.313-0.401,0.614-0.782, 0.868-1.034c0.564-0.566,0.717-1.316,0.84-1.919l0.016-0.074 C10.805,3.359,10.868,3.018,10.992, 2.807 M10.8,1.801c-0.159,0-0.31,0.067-0.421,0.177C9.975,2.373,9.863,2.953,9.76,3.507 C9.648,4.051,9.545, 4.611,9.179,4.978c-0.292,0.29-0.611,0.693-0.948,1.125c-0.412,0.543-1.313,1.66-1.659,1.688 C6.263,7.82,6, 8.081,6,8.391v6.007C6,14.729,6.281,14.99,6.6,15c0.328,0.01,0.891,0.205,1.48,0.409 c1.013,0.348,2.277, 0.789,3.619,0.789h0.871c0.168,0,0.301,0,0.338,0c0.826-0.007,1.445-0.251,1.847-0.73 c0.356-0.424, 0.517-0.993,0.46-1.696c0.235-0.226,0.412-0.533,0.506-0.881c0.104-0.375,0.104-0.75,0-1.099 c0.281-0.375, 0.424-0.813,0.404-1.285c0-0.131-0.039-0.412-0.141-0.711C16.303,9.43,16.5,8.895,16.5, 8.399 c0-0.973-0.823-1.797-1.796-1.797c-0.002,0-0.003,0-0.004,0h-2.595c0.074-0.301,0.168-0.395, 0.271-0.601 C12.63,5.513,12.9,4.97,12.9,4.201C12.9,3.479,12.9,1.801,10.8,1.801L10.8,1.801z"}),r.createElement("path",{fill:t,d:"M4.8,7.798H2.1c-0.328,0-0.6,0.272-0.6,0.6v6C1.5,14.729,1.772,15,2.1,15h2.7 C5.128,15,5.4,14.729,5.4, 14.398v-6C5.4,8.072,5.128,7.8,4.8,7.798z M3.3,13.799c-0.337,0-0.6-0.264-0.6-0.6 c0-0.331,0.263-0.602, 0.6-0.602c0.328,0,0.601,0.273,0.601,0.602C3.9,13.537,3.628,13.799,3.3,13.799z"}))};t.Z=l,l.propTypes={fill:o().string,down:o().bool,size:o().number},l.defaultProps={fill:i.Z[400],down:!1,size:16}},34906:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.direction,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotate(".concat({up:0,right:90,down:180,left:270}[t],"deg)");return r.createElement("svg",{className:"svgIcon circledTriangle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{className:"circledTrianglePath",fill:n,d:"M9,1c4.418,0,8,3.582,8,8c0,4.418-3.582,8-8,8c-4.418,0-8-3.582-8-8C1,4.582,4.582,1,9,1z M9,2C5.134, 2,2,5.134,2,9s3.134,7,7,7s7-3.134,7-7S12.866,2,9,2z M9,5l4,6.5H5L9,5z"}))}l.propTypes={direction:o().string,fill:o().string,size:o().number},l.defaultProps={direction:"up",fill:i.Z[300],size:16}},3918:function(e,t,n){var r=n(67294),a=n(45697),o=n.n(a),i=n(89420),l=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon userWithCross",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("rect",{id:"Rectangle",opacity:"0",x:"0",y:"0",width:"18",height:"18"}),r.createElement("path",{fill:t,d:"M6.549,9.195 C6.76338385,9.195 6.98300858,9.20317576 7.20804043,9.21958271 C6.74312234, 9.97925842 6.475,10.8723175 6.475,11.828 C6.475,12.6451231 6.67101112,13.4164653 7.01857925, 14.0975725 L0,14.097 L0,12.451 C0,11.785 0.404,11.182 1.215,10.648 C1.896,10.189 2.784,9.824 3.882, 9.546 C4.85,9.315 5.741,9.195 6.549,9.195 Z M6.549,1 C7.137,1 7.679,1.147 8.177,1.442 C8.673, 1.736 9.069,2.138 9.364,2.647 C9.657,3.158 9.804,3.706 9.804,4.294 C9.804,4.882 9.657,5.426 9.364, 5.921 C9.069,6.419 8.676,6.815 8.177,7.109 C7.678,7.403 7.137,7.549 6.549,7.549 C5.961,7.549 5.418, 7.403 4.921,7.109 C4.425,6.815 4.03,6.419 3.736,5.921 C3.442,5.426 3.293,4.882 3.293,4.294 C3.293, 3.705 3.441,3.157 3.735,2.647 C4.029,2.138 4.424,1.736 4.921,1.442 C5.418,1.148 5.961,1 6.549, 1 Z M12.9296592,12.0785177 L14.7239646,13.8728231 L13.5187877,15.078 L11.7244823,13.2836946 L9.93121225, 15.078 L8.725,13.8728231 L10.5193054,12.0785177 L8.725,10.2831769 L9.93017688,9.07903538 L11.7244823, 10.8733408 L13.5198231,9.078 L14.725,10.2831769 L12.9296592,12.0785177 Z"}))};t.Z=l,l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[300],size:16}},34221:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),a=n(45697),o=n.n(a),i=n(89420);function l(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon wrench",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"wrenchPath",fill:t,d:"M16.719,4.375c0.084,0.042,0.15,0.102,0.203,0.18S17,4.719,17,4.812c0,0.281-0.006,0.633-0.016, 1.055s-0.053,0.865-0.125,1.328s-0.188,0.912-0.344,1.344s-0.381,0.795-0.672,1.086l-0.203,0.219c-0.375, 0.375-0.797,0.664-1.266,0.867s-0.959,0.305-1.469,0.305c-0.312, 0-0.646-0.047-1-0.141s-0.672-0.213-0.953-0.359l-5.844,5.906c-0.198,0.197-0.419,0.344-0.664,0.438S3.948, 17,3.688,17c-0.25,0-0.498-0.047-0.742-0.141s-0.466-0.24-0.664-0.438l-0.703-0.719C1.193,15.307,1,14.83,1, 14.273s0.193-1.033,0.578-1.43l5.781-5.891c-0.156-0.365-0.258-0.75-0.305-1.156S7.013,4.984,7.07, 4.578s0.172-0.794,0.344-1.164s0.398-0.701,0.68-0.992l0.219-0.219c0.271-0.271,0.612-0.487, 1.023-0.648c0.412-0.162,0.844-0.284,1.297-0.367s0.904-0.135,1.352-0.156S12.834,1,13.188,1h0.125c0.094,0, 0.18,0.023,0.258,0.07s0.139,0.112,0.18,0.195s0.055,0.172,0.039,0.266s-0.055,0.177-0.117, 0.25l-2.25,2.594l2.266,2.344l2.531-2.266c0.072-0.062,0.154-0.102,0.242-0.117S16.635,4.333,16.719, 4.375z M15.156,8.953c0.303-0.312,0.516-0.776,0.641-1.391S16,6.391,16.031,5.891l-2.047,1.844c-0.094, 0.083-0.203,0.123-0.328, 0.117s-0.234-0.055-0.328-0.148l-2.891-2.969c-0.084-0.094-0.127-0.203-0.133-0.328s0.033-0.234, 0.117-0.328l1.828-2.109c-0.469,0.021-1.049,0.094-1.742,0.219S9.307,2.542,8.984,2.875L8.766,3.094C8.391, 3.479,8.156,3.969,8.062,4.562S7.984,5.698,8.109,6.188c0.042,0.177, 0.099,0.346,0.172,0.508s0.162,0.32,0.266,0.477l-6.266,6.391C2.094,13.76,2,13.998,2,14.273s0.094, 0.514,0.281,0.711l0.703,0.719c0.094,0.094,0.203,0.166,0.328,0.219S3.562,16,3.688,16c0.135,0,0.266-0.025, 0.391-0.078s0.234-0.125,0.328-0.219l6.406-6.469c0.125,0.125,0.26,0.234,0.406,0.328s0.297,0.172,0.453, 0.234c0.178,0.072,0.381,0.127,0.609,0.164s0.438,0.055,0.625,0.055c0.385,0,0.756-0.07, 1.109-0.211s0.672-0.352,0.953-0.633L15.156,8.953z"}))}l.propTypes={fill:o().string,size:o().number},l.defaultProps={fill:i.Z[300],size:16}},30968:function(e,t,n){n.r(t),n.d(t,{default:function(){return vm}});var r=n(67294),a=n(31252),o=n(45697),i=n.n(o),l=n(28216),c=n(90486),s=n(56398),u=n(32427),m=n(41749),d=n(71744),p=n(28889),f=n(868),v=n(26793),g=n(282),y=n(22318),h=n(98497),b=n(43225),E=n(89420),w=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon edit",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M2,13.676h14V16H2V13.676z M14.082,4.352L12.934,5.5L10.75,3.316l1.148-1.148 C12.01,2.056, 12.148,2,12.312,2c0.165,0,0.301,0.056,0.412,0.167l1.358,1.359c0.113,0.111,0.168,0.249,0.168, 0.412 S14.195,4.24,14.082,4.352z M12.359,6.074l-5.851,5.852H4.324V9.742l5.852-5.852L12.359,6.074z"}))},Z=w;w.propTypes={fill:i().string,size:i().number},w.defaultProps={fill:E.Z[600],size:16};var C=n(41120),N=n(87343),x=n(48623),S=n(66083),k=n(17812),I=n(29525),T=n(66856),A=n(2934),j=(0,C.Z)((function(e){return{root:{"& .messages":{marginBottom:e.spacing(2.5)},"& .dialogHeader":{padding:e.spacing(0),minWidth:e.spacing(60),minHeight:e.spacing(10.25),"& .dialogTitle":{padding:e.spacing(3.75,3.75,2.5,3.75)},"& .closeButton":{float:"right",padding:e.spacing(.5),margin:e.spacing(1),"& path":{fill:e.palette.colors.grey[600]},"&:hover":{"& path":{fill:e.palette.colors.grey[800]}}}},"& .dialogBody":{margin:e.spacing(0,3.75,1),padding:e.spacing(0),minWidth:e.spacing(60),minHeight:e.spacing(8.25)},"& .dialogFooter":{padding:e.spacing(0),minWidth:e.spacing(60),minHeight:e.spacing(7.25),backgroundColor:e.palette.colors.grey[70],borderTopStyle:"solid",borderTopWidth:e.spacing(.125),borderTopColor:e.palette.colors.grey[100]},"& .dialogButton":{minWidth:e.spacing(0),padding:e.spacing(.25,1.5),textTransform:"capitalize","& .MuiTouchRipple-root":{visibility:"hidden"},"&.actionButton":{marginRight:e.spacing(3.75)},"&.cancelButton":{color:e.palette.colors.grey[600],"&:hover":{color:e.palette.colors.grey[800]}}}}}})),O=function(e){var t=e.title,n=e.body,a=e.footer,o=e.handleClose,i=e.classNames,l=e.disablePortal,c=j().root,s=(0,v.$)("common").t,u="dialog ".concat(c).concat(i?" ".concat(i):"");return r.createElement(x.Z,{open:!0,disablePortal:l,onClose:o,maxWidth:!1,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",PaperProps:{className:u}},r.createElement(S.Z,{id:"dialog-title",className:"dialogHeader"},r.createElement(k.Z,{onClick:o,className:"dialogButton closeButton"},r.createElement(A.Z,{size:20})),r.createElement(p.Z,{className:"dialogTitle"},t)),r.createElement(I.Z,{className:"dialogBody"},n),a?r.createElement(T.Z,{className:"dialogFooter"},a.left,r.createElement(g.Z,{onClick:o,className:"dialogButton cancelButton"},s("cancel")),a.actionButton):null)},M=O;O.propTypes={title:i().oneOfType([i().arrayOf(i().node),i().node,i().elementType]).isRequired,body:i().oneOfType([i().arrayOf(i().node),i().node,i().elementType]).isRequired,footer:i().shape({left:i().oneOfType([i().arrayOf(i().node),i().node,i().elementType]),actionButton:i().shape({disabled:i().bool,onClick:i().func,buttonTitle:i().string})}),handleClose:i().func.isRequired,classNames:i().string.isRequired,disablePortal:i().bool},O.defaultProps={footer:{left:null},disablePortal:!0};var R=n(90981),P=function(e){return e.reviewDescription},z=function(e){return e.reviewDescription.dialogOpen},L=n(59542);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=(0,C.Z)((function(e){return{reviewDescriptionDialog:{"& .typeahead":{marginTop:e.spacing(10),marginLeft:e.spacing(3)},"&.dialog":{overflow:"visible"}},textArea:{minWidth:"calc(100% - ".concat(e.spacing(2)).concat("px)")}}})),V=function(e){var t,n,a=e.rawDescription,o=(0,v.$)(["review","common"]).t,i=q(),c=i.reviewDescriptionDialog,s=i.textArea,u=(0,l.I0)(),m=(0,l.v9)(P),f=m.error,h=m.loading,b=(t=(0,r.useState)(a),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=b[0],w=b[1];return r.createElement(M,{title:"".concat(o("descriptionReview")),body:r.createElement(p.Z,{className:"descriptionBody"},h?r.createElement(d.Z,{variant:"overlay"}):null,f?r.createElement(L.Z,{messages:f}):null,r.createElement(N.Z,{className:"".concat(s," mentionable"),autoFocus:!0,margin:"normal",type:"string",minRows:20,onBlur:function(e){w(e.target.value)},defaultValue:E})),footer:{actionButton:r.createElement(g.Z,{variant:"contained",onClick:function(){u((0,R.YW)({description:E,translate:o}))},color:"primary",className:"dialogButton actionButton confirmButton"},r.createElement(y.Z,{variant:"body2",className:"smaller"},o("update")))},handleClose:function(){u((0,R.bt)())},classNames:"".concat(c," reviewDescriptionDialog")})},H=V;V.propTypes={rawDescription:i().string.isRequired};var $=n(58524),D=(0,u.Z)((function(e){return{reviewPageDescription:{paddingTop:e.spacing(1.5)},editSvgFill:{fill:e.palette.colors.grey[600]}}})),F=function(){var e=D(),t=e.reviewPageDescription,n=e.editSvgFill,a=(0,v.$)("review").t,o=(0,l.v9)(b.Q7),i=!(0,l.v9)($.qG),c=(0,l.v9)(z),s=(0,l.I0)();return r.createElement(m.Z,{className:"reviewDescriptionBox ".concat(t),container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0,key:"reviewPageDescription"},r.createElement(h.Z,{description:o,variant:"markdown"})),r.createElement(m.Z,{item:!0,key:"editButton"},r.createElement(f.ZP,{title:a(i?"editReviewDescriptionDisabled":"descriptionReview"),arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(p.Z,{className:"editButtonWrapper"},r.createElement(g.Z,{startIcon:r.createElement(Z,{className:"".concat(n)}),className:"editReviewDescriptionButton",onClick:function(){s((0,R.U5)())},disabled:i},r.createElement(y.Z,{variant:"body2",className:"smaller"},a("editDescriptionButton")))))),c?r.createElement(H,{rawDescription:o}):null)},W=n(21889),U=n(32256),K=n(24837),G=n(80551),J=n(2928),_=function(e){return e.reviewVote},X={up:"upVote",down:"downVote",staleVote:"staleVote",clear:"clearVote"},Y=function(){var e=(0,l.v9)(b.yA),t=e.participantsData,n=e.author,a=(0,l.v9)($.dy),o=(0,l.v9)($.qG),i=(0,l.v9)(_),c=i.loading,s=i.value,u=(0,v.$)("review").t,m=c||!o||a===n,d=((t[a]||[]).vote||[]).isStale||!1,g=1===s?d?"staleVote":"clear":"up",y=-1===s?d?"staleVote":"clear":"down",h=u("votingDisabled"),E=(0,l.I0)(),w=function(e){var t,n=-1===e.currentTarget.className.indexOf("upButton")?-1:1;switch(n===s?0:n){case 1:t="up";break;case-1:t="down";break;default:t=d?1===n?"up":"down":"clear"}E((0,J.rJ)({value:t,t:u}))};return r.createElement(p.Z,{className:"reviewVote"},r.createElement(f.ZP,{title:m?h:"",arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(K.Z,{className:"filterButtonGroup",disabled:m},r.createElement(G.Z,{variant:"up",onClick:w,active:1===s,title:X[g],stale:1===s&&d}),r.createElement(G.Z,{variant:"down",onClick:w,active:-1===s,title:X[y],stale:-1===s&&d}))))},Q=n(85639),ee=n(38396),te=n(36227),ne=n(51182),re=n(6362);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=(0,u.Z)((function(e){return{button:{minWidth:e.spacing(0),"& .MuiButton-endIcon":{marginLeft:e.spacing(.625),marginRight:"unset"}},paper:{borderRadius:e.spacing(.375),borderStyle:"solid",borderWidth:e.spacing(.125),borderColor:e.palette.colors.grey[200],boxShadow:"0 0 4px 0 rgba(0,0,0,0.1)"}}})),ie=function(e){var t,n,a=e.open,o=e.name,i=e.text,l=e.icon,c=e.color,s=e.anchor,u=e.outlined,m=e.disabled,d=e.disableArrow,v=e.closeOnClickAway,h=e.handleToggle,b=e.className,E=e.menuClassName,w=e.buttonClassName,Z=e.children,C=e.tooltipOptions,N=oe(),x=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=x[0],k=x[1],I="inherit"===c?"inherit":"default"===c?re.Z[0]:te.Z[0],T="".concat(o,"Dropdown ").concat(N.paper," ").concat(E),A=function(e){h(),k(e.currentTarget)},j=function(){return r.createElement(p.Z,null,r.createElement(g.Z,{"aria-controls":"".concat(o),"aria-haspopup":"true",className:"".concat(o,"Button smaller ").concat(N.button," ").concat(w),onClick:A,endIcon:d?null:r.createElement(ne.Z,{fill:I,direction:a?"up":"down"}),disabled:m,variant:u?"outlined":"contained",color:c,disableRipple:!0},i?r.createElement(y.Z,{variant:"body2",className:"smaller"},i):null,l?r.createElement(y.Z,{variant:"body2",className:"smaller"},l):null))};return r.createElement(p.Z,{className:"".concat(o,"Wrapper ").concat(b)},C?r.createElement(f.ZP,C,j()):j(),S?r.createElement(ee.Z,{open:a,disablePortal:!0,id:"".concat(o),anchorEl:S,getContentAnchorEl:null,anchorOrigin:{vertical:s,horizontal:"right"},transformOrigin:{vertical:"top"===s?"bottom":"top",horizontal:"right"},onClose:v?A:void 0,PaperProps:{className:T}},Z):null)},le=ie;ie.propTypes={open:i().bool.isRequired,name:i().string.isRequired,text:i().string,icon:i().element,color:i().oneOf(["default","primary","secondary","inherit"]),anchor:i().oneOf(["top","bottom"]),outlined:i().bool,disabled:i().bool,disableArrow:i().bool,closeOnClickAway:i().bool,handleToggle:i().func,className:i().string,menuClassName:i().string,buttonClassName:i().string,children:i().oneOfType([i().node,i().arrayOf(i().node)]),tooltipOptions:i().object},ie.defaultProps={text:null,icon:null,color:"default",anchor:"bottom",outlined:!1,disabled:!1,disableArrow:!1,closeOnClickAway:!0,handleToggle:function(){},className:"",menuClassName:"",buttonClassName:"",children:null,tooltipOptions:void 0};var ce=function(e){return e.reviewTransition},se=function(e){return e.reviewTransition.transitionTo},ue=n(99225);function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=(0,u.Z)((function(e){return{button:{margin:e.spacing(0,0,0,1.5),padding:e.spacing(.75,1.25,.75,1.5),whiteSpace:"nowrap"}}})),pe=function(){var e,t,n=de(),a=(0,v.$)("review").t,o=(0,l.v9)(b.bz),i=(0,l.v9)($.RT),c=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],m=(0,l.I0)(),d=(0,l.v9)(ce),p=d.error,f=d.transitions,g=function(e){var t=e.currentTarget.dataset.value;m((0,ue.V8)(t)),u(!1)},y=(0,r.useMemo)((function(){return 0===Object.keys(f).length&&!p||!i}),[i,p,f]),h=(0,r.useCallback)((function(e){return"approved:commit"===e&&"approved"===o?a("commit"):void 0}),[o]);return r.createElement(le,{open:s,name:"reviewStateMenu",text:a("changeState"),color:"primary",disabled:y,handleToggle:function(){u(!s)},buttonClassName:n.button},p?r.createElement(Q.Z,{key:"error",disabled:!0},r.createElement(L.Z,{messages:p})):Object.keys(f).map((function(e){return e!==o?r.createElement(Q.Z,{key:e,"data-value":e,onClick:g,disableRipple:!0},r.createElement(U.default,{state:e,label:h(e)})):null})))},fe=n(85444),ve=n(43230),ge=function(e){return e.spec.job},ye=n(61384);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=(0,u.Z)((function(e){return{fixStatus:{"&.sameFixStatus":{borderBottom:"solid ".concat(e.spacing(.125)).concat("px ").concat(e.palette.colors.grey[400])},minWidth:e.spacing(9)},fixStatusLabel:{textTransform:"capitalize"},fixStatusText:{display:"inline-block",margin:e.spacing(.625,2,0,0)},wrapper:{display:"inline-block"},button:{fill:e.palette.colors.grey[300],borderColor:e.palette.colors.grey[300]},paper:{marginTop:e.spacing(-.5),maxHeight:e.spacing(18),boxShadow:"2px 2px 6px 0 rgba(0,0,0,0.5)"},grey:{color:e.palette.colors.grey[300]}}})),we=function(e){var t,n=e.onChange,a=(0,v.$)("common").t,o=Ee(),i=he((0,r.useState)([]),2),c=i[0],s=i[1],u=he((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)(""),g=null!==(t=(0,r.useMemo)((function(){c.filter((function(e){return e!==f.current}))}),[f.current]))&&void 0!==t?t:c,h=(0,l.v9)(ge),b=h.fields,E=h.loading,w=h.error;return(0,r.useEffect)((function(){if(b){var e=b.Status.default,t=(e||"").split("fix/").pop();f.current=t!==e?t:"same",s(["same"].concat(b.Status.options))}}),[b]),r.createElement(m.Z,{className:"fixStatusMenu"},r.createElement("label",{id:"fixStatusText",htmlFor:"fixStatusText",className:"".concat(o.fixStatusText," ").concat(o.grey)},a("jobFixStatusLabel")),r.createElement(le,{open:d,name:"fixStatusMenu",text:(0,ve.RY)(f.current),color:"inherit",anchor:"top",outlined:!0,disabled:E||0===c.length,handleToggle:function(){p(!d)},className:o.wrapper,menuClassName:o.paper,buttonClassName:"".concat(o.button," ").concat(o.fixStatusLabel," ").concat(o.grey)},w?r.createElement(Q.Z,{key:"FixStatusError",className:"".concat(o.fixStatus," FixStatusError")},r.createElement(ye.Z,{type:"error",text:w})):null,g.map((function(e){return r.createElement(Q.Z,{key:"".concat(e,"FixStatus"),className:"".concat(o.fixStatus," ").concat(e,"FixStatus"),onClick:function(){return t=e,f.current=t,n(t),void p(!1);var t}},r.createElement(y.Z,{variant:"body2",className:"".concat(o.fixStatusLabel," smaller ").concat((0,ve.RY)(e)," fixStatusOption")},(0,ve.RY)(e)))}))))},Ze=we;we.propTypes={onChange:i().func.isRequired};var Ce=n(62822),Ne=n(50998),xe=n(46869),Se=n(95757),ke=n(13258),Ie=function(e){return e.changeJobs};function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=(0,u.Z)((function(e){return{root:{width:e.spacing(100),paddingBottom:e.spacing(1.875),background:e.palette.colors.white[0],"& ul":{paddingTop:0,"& li":{color:e.palette.colors.grey[600],"& .MuiListItemIcon-root":{minWidth:"unset"},"& .fixStatus":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",textTransform:"capitalize"},"& .jobDescription":{marginRight:0,width:"calc(100% - 200px)","&.collapsed":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&::after":{content:"â€¦",color:"transparent",cursor:"pointer",position:"absolute",top:0,right:0,backgroundColor:"transparent",paddingLeft:e.spacing(.375)}}}},"& .job":{paddingLeft:e.spacing(1.5),paddingRight:e.spacing(3)},"& .MuiListItem-dense":{paddingTop:0,paddingBottom:0}},"& .suspense":{paddingLeft:e.spacing(3)}}}})),je=function(e){var t,n,a=(0,r.useRef)([]),o=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1],s=e.handleJobSelection,u=(0,l.v9)(Ie),m=u.jobs,f=u.errors,v=Ae(),g=function(e,t){if(e.target.className.includes("collapsed"))a.current.includes(t)||a.current.push(t);else{var n=a.current.indexOf(t);n>=0&&a.current.splice(n,1)}c(!i)},y=function(e){return a.current.includes(e.job)?"expanded":"collapsed"};return r.createElement(p.Z,{className:"jobListContainer ".concat(v.root)},m?r.createElement(Ce.Z,{className:"jobList",dense:!0},m.map((function(e){return r.createElement(Ne.Z,{id:e.job,className:"job",key:e.job},r.createElement(xe.Z,null,r.createElement(ke.Z,{defaultChecked:!0,name:e.job,onChange:s,color:"primary"})),r.createElement(Se.Z,{className:"jobLink",disableTypography:!0},r.createElement("a",{href:e.link,rel:"noreferrer",target:"_blank"},e.job)),r.createElement(Se.Z,{className:"fixStatus",disableTypography:!0},(0,ve.RY)(e.fixStatus)),r.createElement(Se.Z,{className:"jobDescription ".concat(y(e)),onClick:function(t){g(t,e.job)},role:"button",tabIndex:"0",onKeyPress:function(t){g(t,e.job)},disableTypography:!0},e.description))}))):f?r.createElement(L.Z,{messages:f}):r.createElement(d.Z,null))},Oe=je;je.propTypes={handleJobSelection:i().func.isRequired};var Me=n(53522),Re=(0,u.Z)((function(e){return{root:{"& .jobSection":{"& .fix":{marginBottom:e.spacing(2),"& .linkedJobsLabel":{display:"inline-block",fontFamily:e.typography.highlighted.fontFamily,marginTop:e.spacing(1),marginBottom:0}},"& .fixStatusMenu":{float:"right"},"& .job":{paddingLeft:0,paddingRight:0}}}}})),Pe=function(e){var t=(0,r.useRef)([]),n=(0,v.$)("review").t,a=e.handleFixedStatus,o=e.handleJobSelect,i=(0,l.v9)(Ie),c=i.jobs,s=i.loading,u=Re();return(0,r.useEffect)((function(){c.map((function(e){return t.current.push(e.job)})),o&&o(t.current)}),[]),r.createElement(p.Z,{className:"".concat(u.root," jobSectionWrapper")},null!==c&&c.length>0&&!s?r.createElement(p.Z,{className:"jobSection"},r.createElement(p.Z,{className:"fix"},r.createElement("label",{id:"linkedJobsLabel",htmlFor:"fixStatus",className:"linkedJobsLabel"},n("linkedJobs")),r.createElement(Ze,{onChange:a})),r.createElement(Oe,{handleJobSelection:function(e){if(e.target.checked)t.current.includes(e.target.name)||t.current.push(e.target.name);else{var n=t.current.indexOf(e.target.name);n>=0&&t.current.splice(n,1)}(0,Me.s)("ReviewChangeStateJobList","Selected Jobs are: [".concat(t.current,"]")),o&&o(t.current)}})):null)},ze=Pe;Pe.propTypes={handleFixedStatus:i().func.isRequired,handleJobSelect:i().func.isRequired};var Le=n(43700),Be=n(66565),qe=n(74489),Ve=(0,C.Z)((function(e){return{root:{position:"absolute",marginLeft:e.spacing(3.75),bottom:e.spacing(2.5),"& .removePendingCheckbox":{display:"inline-block"},"& .removePendingLabel":{display:"inline",verticalAlign:"middle",paddingLeft:e.spacing(.125),fontSize:"13px",color:e.palette.colors.grey[600]},"& .removePendingHelp":{display:"inline",verticalAlign:"middle",paddingLeft:e.spacing(1.25)}}}})),He=function(e){var t,n=(0,v.$)(["review","common"]).t,a=e.handleClearChangeLists,o=(0,r.useContext)(qe.ZP),i=Ve();return"user"===o.config.reviews.cleanup.mode?r.createElement(p.Z,{className:"removePending ".concat(i.root)},r.createElement(ke.Z,{onChange:a,defaultChecked:(t=o.config.reviews.cleanup.default,!0===t&&a({target:{checked:!0}}),t),id:"removePending",className:"removePendingCheckbox",disableRipple:!0,color:"primary"}),r.createElement(Le.Z,{htmlFor:"removePending",key:"clearchanges",className:"removePendingLabel"},n("removePendingChangeLists")),r.createElement(Be.Z,{title:n("common:featureDoc"),href:"/docs/Content/Swarm/code_reviews.states.html#code_reviews.states.state_actions",className:"removePendingHelp"})):null},$e=He;He.propTypes={handleClearChangeLists:i().func.isRequired};var De=(0,u.Z)((function(e){return{root:{"& .dialogBody .dialogTextArea":{minWidth:"calc(100% - ".concat(e.spacing(2)).concat("px)")},"& .dialogFooter .removePending":{position:"unset",marginLeft:e.spacing(3.75),marginRight:"auto"}}}})),Fe=function(e){var t=e.transitionTo,n=e.defaultText,a="approved:commit"===t?{transitionTo:"approvedCommit",placeholderI18nKey:"commitInstructions"}:{transitionTo:t,placeholderI18nKey:"transitionInstructions"},o=a.transitionTo,i=a.placeholderI18nKey,c=(0,v.$)("review").t,s=De(),u=(0,l.I0)(),m=(0,r.useRef)(n),f=(0,r.useRef)([]),h=function(e){f.current=e},b=(0,r.useRef)(null),E=function(e){b.current=e},w=(0,r.useRef)(!1),Z=function(){w.current=!w.current},C=(0,l.v9)(ce),x=C.loading,S=C.error,k=(0,r.useCallback)((function(){u((0,ue.bK)({transition:t,comment:m.current,jobs:f.current,cleanup:w.current,fixStatus:b.current,translate:c}))})),I=(0,r.useCallback)((function(){u((0,ue.gk)())}),[]),T=(0,r.useMemo)((function(){return"approvedCommit"===o?r.createElement(ze,{handleFixedStatus:E,handleJobSelect:h}):""}),[]),A=(0,r.useMemo)((function(){return"approvedCommit"===o?r.createElement($e,{handleClearChangeLists:Z}):null}),[]);return r.createElement(M,{title:r.createElement(fe.c,{i18nKey:"transitioningTo",defaults:"Change Review to {{state}}",values:{state:c(o)}}),body:r.createElement(p.Z,{className:"reviewStateChangeBody"},x?r.createElement(d.Z,{variant:"overlay"}):null,S?r.createElement(L.Z,{messages:S}):null,r.createElement(N.Z,{className:"dialogTextArea",autoFocus:!0,margin:"normal",id:"comment",type:"string",minRows:10,onChange:function(e){m.current=e.target.value},placeholder:c(i),defaultValue:n}),T),footer:{left:r.createElement(r.Fragment,null,A),actionButton:r.createElement(g.Z,{variant:"contained",onClick:k,color:"primary",className:"dialogButton actionButton confirmButton"},r.createElement(y.Z,{variant:"body2",className:"smaller"},c(o)))},handleClose:I,classNames:"reviewStateChangeDialog ".concat(s.root)})},We=Fe;Fe.propTypes={transitionTo:i().oneOf(["approved","rejected","archived","needsReview","needsRevision","approved:commit"]).isRequired,defaultText:i().string},Fe.defaultProps={defaultText:null};var Ue=function(){var e=(0,l.v9)(se),t=(0,l.v9)(b.Q7);return r.createElement(p.Z,{className:"reviewChangeState"},r.createElement(pe,null),e?r.createElement(We,{transitionTo:e,defaultText:-1!==e.indexOf("commit")?t:void 0}):null)},Ke=n(44091),Ge=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon add",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"addPath",fill:t,d:"M10.371,2v5.625H16v2.747h-5.629V16H7.625v-5.628H2V7.625h5.625V2H10.371z"}))},Je=Ge;Ge.propTypes={fill:i().string,size:i().number},Ge.defaultProps={fill:E.Z[300],size:16};var _e=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon userInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"userInCirclePath",fill:t,d:"M9,14.789c0.974,0,1.892-0.244,2.75-0.73c0.834-0.449, 1.519-1.07,2.058-1.866c-0.014-0.487-0.314-0.937-0.904-1.347c-0.513-0.346-1.167-0.628-1.961-0.845 c-0.719-0.193-1.368-0.289-1.952-0.289s-1.234,0.095-1.952,0.289c-0.795,0.217-1.443, 0.499-1.942,0.845c-0.59,0.41-0.891,0.859-0.904,1.347c0.54,0.796,1.224,1.417,2.058,1.866C7.122, 14.545,8.038,14.789,9,14.789z M9,3.404c-0.424,0-0.821,0.11-1.192,0.327C7.436,3.95,7.141, 4.244,6.923,4.616C6.705,4.988,6.596,5.385,6.596,5.808c0,0.424,0.109,0.821,0.327, 1.192c0.217,0.372,0.513,0.667,0.884,0.885C8.179,8.103,8.576,8.211,9,8.211s0.821-0.109, 1.192-0.326C10.564,7.667,10.859,7.372,11.076,7c0.219-0.372,0.327-0.769, 0.327-1.192c0-0.423-0.108-0.82-0.327-1.191c-0.217-0.373-0.512-0.667-0.884-0.885C9.821,3.514, 9.424,3.404,9,3.404z M9,1c1.462,0,2.814,0.366,4.058,1.097c1.206,0.692,2.153,1.641,2.845, 2.845C16.635,6.186,17,7.539,17,9c0,1.462-0.365,2.814-1.098,4.059c-0.691,1.205-1.639, 2.153-2.845,2.846C11.814,16.635,10.462,17,9,17s-2.814-0.365-4.058-1.096C3.736,15.2,2.79, 14.245,2.097,13.039C1.365,11.796,1,10.448,1,9c0-1.449,0.365-2.794,1.097-4.038c0.704-1.206, 1.659-2.161,2.865-2.865C6.205,1.366,7.551,1,9,1z"}))},Xe=_e;_e.propTypes={fill:i().string,size:i().number},_e.defaultProps={fill:E.Z[300],size:16};var Ye=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon userWithPlus",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"userWithPlusPath",fill:t,d:"M11.451,10.646c0.81,0,1.698,0.118,2.667,0.354c1.097,0.276,1.986,0.642,2.667,1.1C17.595, 12.636,18,13.236,18,13.902v1.646H4.902v-1.646c0-0.666,0.404-1.267,1.215-1.803c0.681-0.458, 1.569-0.823,2.667-1.1C9.752,10.765,10.642,10.646,11.451,10.646z M4.098, 7.354h2.451V9H4.098v2.451H2.451V9H0V7.354h2.451V4.902h1.646V7.354z M11.451,9c-0.588, 0-1.13-0.146-1.628-0.44C9.327,8.266,8.932,7.87,8.638,7.372C8.344,6.877,8.195,6.333, 8.195,5.745c0-0.589,0.148-1.137,0.442-1.647c0.294-0.509,0.689-0.911,1.186-1.205c0.498-0.294, 1.04-0.442,1.628-0.442s1.13,0.147,1.628,0.442c0.496,0.294,0.892,0.696,1.186,1.205c0.294,0.511, 0.441,1.059,0.441,1.647c0,0.588-0.147,1.132-0.441,1.627c-0.294,0.498-0.689,0.894-1.186, 1.188C12.581,8.854,12.039,9,11.451,9z"}))},Qe=Ye;Ye.propTypes={fill:i().string,size:i().number},Ye.defaultProps={fill:E.Z[300],size:16};var et=n(3918),tt=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon ellipsis",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"ellipsisPath",fill:t,d:"M9.001,7.114c0.509,0,0.949,0.188,1.324,0.562C10.699,8.049,10.886,8.492,10.886, 9c0,0.508-0.187,0.952-0.561,1.325c-0.375,0.374-0.815,0.561-1.324,0.561c-0.509, 0-0.953-0.187-1.326-0.561C7.301,9.952,7.114,9.509,7.114,9c0-0.509,0.188-0.951, 0.562-1.325S8.492,7.114,9.001,7.114z M14.614,7.114c0.509,0,0.949,0.188,1.323,0.562C16.313,8.05, 16.5,8.492,16.5,9c0,0.508-0.187,0.952-0.562,1.325c-0.374,0.374-0.814, 0.561-1.323,0.561s-0.952-0.187-1.325-0.561C12.915,9.952,12.729,9.509,12.729,9c0-0.509,0.186-0.951, 0.561-1.325C13.662,7.301,14.105,7.114,14.614,7.114z M3.387,7.114c0.509,0,0.95,0.188, 1.325,0.562C5.085,8.05,5.272,8.492,5.272,9c0,0.508-0.188,0.952-0.562,1.325c-0.375, 0.374-0.815,0.561-1.325,0.561c-0.509,0-0.952-0.187-1.326-0.561C1.688,9.952,1.5,9.509,1.5,9c0-0.509, 0.188-0.951,0.562-1.325S2.878,7.114,3.387,7.114z"}))},nt=tt;tt.propTypes={fill:i().string,size:i().number},tt.defaultProps={fill:E.Z[300],size:16};var rt=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon plane",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"planePath",fill:t,d:"M15.75,11.885l-5.625-1.73v4.11l1.688,1.118V16.5L9,15.923L6.188,16.5v-1.117l1.688-1.118v-4.11l-5.625, 1.73v-1.443l5.625-3.749V2.618c0-0.313,0.112-0.577,0.334-0.794C8.432,1.608,8.695,1.5, 9,1.5c0.305,0,0.569,0.108,0.791,0.324c0.223,0.217,0.334,0.481,0.334,0.794v4.074l5.625,3.749V11.885z"}))},at=rt;rt.propTypes={fill:i().string,size:i().number},rt.defaultProps={fill:E.Z[300],size:16};var ot=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon squareWithArrow",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"squareWithArrowPath",fill:t,d:"M10.456,2.5H15.5v5.044h-1.456V4.979l-7.073,7.072l-1.022-1.021l7.072-7.073h-2.565V2.5z M14.044, 14.044V9H15.5v5.044c0,0.393-0.145,0.734-0.433,1.023c-0.29,0.289-0.631,0.433-1.023, 0.433H3.956 c-0.404,0-0.747-0.144-1.031-0.433C2.641,14.778,2.5,14.437,2.5,14.044V3.956c0-0.394, 0.141-0.733,0.424-1.022 C3.208,2.645,3.552,2.5,3.956,2.5H9v1.456H3.956v10.088H14.044z"}))},it=ot;ot.propTypes={fill:i().string,size:i().number},ot.defaultProps={fill:E.Z[300],size:16};var lt=n(33681),ct=n(44562),st=n(82285),ut=n(60702),mt=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon download",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"downloadPath",fill:t,d:"M2.844,14.724h12.312V16.5H2.844V14.724z M15.156,6.789L9,12.945L2.844, 6.789h3.512V1.5h5.289v5.289H15.156z"}))},dt=mt;mt.propTypes={fill:i().string,size:i().number},mt.defaultProps={fill:E.Z[300],size:16};var pt=n(50839);function ft(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt="Download",yt=(0,u.Z)((function(e){return{alert:{padding:e.spacing(.75,2),border:"solid ".concat(e.spacing(.125)).concat("px "),"&.MuiAlert-standardInfo":{borderColor:"#0D3C6A"},"&.MuiAlert-standardSuccess":{borderColor:"#4caf50"},"&.MuiAlert-standardError":{borderColor:"#f44336"}},snackbar:{top:0},lineProgress:{width:e.spacing(5),marginLeft:e.spacing(1),marginTop:e.spacing(1)}}})),ht=function(e){var t,n,a=(0,v.$)("common").t,o=yt(),i=o.alert,c=o.snackbar,s=o.lineProgress,u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1],g=e.onComplete,h=e.target,b=(0,l.v9)(Ke.BR),E=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,pt.ZP)(h,{baseUrl:b}).then((function(e){var t,n;null!=e&&null!==(t=e.data)&&void 0!==t&&t.archive&&(f(e.data.archive),e.data.archive.success||setTimeout((function(){E(h)}),500));var r=null==e||null===(n=e.headers)||void 0===n?void 0:n.get("content-type");return 200===(null==e?void 0:e.status)&&r&&-1!==r.indexOf("application/zip")?(f({phase:"complete",progress:100,error:null,success:!0}),window.location.href=e.url,null):null})).catch((function(e){(0,Me.s)(gt,"ArchivePollDownload reported: ".concat(e)),null!=e&&e.message?f({phase:"downloadError",progress:0,error:e.message,success:!1}):f({phase:"downloadError",progress:0,error:e.statusText,success:!1}),setTimeout((function(){g()}),5e3)}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ft(o,r,a,i,l,"next",e)}function l(e){ft(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,r.useEffect)((function(){return(0,Me.s)(gt,"processing download for target : ".concat(h)),f({phase:"requesting",progress:0,error:null,success:!1}),E().then((function(){})),function(){}}),[]);var w=(0,r.useMemo)((function(){var e="info";switch(d.phase){case"complete":e="success";break;case"downloadError":e="error"}return e}),[d.phase]);return r.createElement(p.Z,{className:"applicationNotification"},r.createElement(ut.Z,{open:!0,className:c,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e4,TransitionComponent:st.Z,onClose:g},r.createElement(ct.Z,{variant:"standard",severity:w,iconMapping:{info:r.createElement(dt,null)},className:i},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"medium downloadStatus"},a(d.phase?d.phase:"download"))),"error"!==w?r.createElement(m.Z,{item:!0,className:"downloadProgressBox ".concat(s)},r.createElement(lt.Z,{variant:"determinate",value:Math.round(d.progress),className:"downloadProgressBar"})):""))))},bt=ht;ht.propTypes={onComplete:i().func.isRequired,target:i().string.isRequired};var Et=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon filledCrossInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"filledCrossInCirclePath",fill:t,d:"M9,0C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18,4.029,13.971,0,9,0z M13, 12.189 L12.189,13L9,9.811L5.811,13L5,12.189L8.189,9L5,5.811L5.811,5L9,8.189L12.189,5L13, 5.811L9.811,9L13,12.189z"}))},wt=Et;Et.propTypes={fill:i().string,size:i().number},Et.defaultProps={fill:E.Z[300],size:16};var Zt=n(7212),Ct=n(22930),Nt=n(80330);function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=(0,C.Z)((function(e){return{root:{"& .dialogBody .obliterateBody .description":{minHeight:e.spacing(3.25),padding:e.spacing(.5,1.75),borderRadius:e.spacing(.5),backgroundColor:e.palette.colors.red[10],borderColor:e.palette.colors.red[100],borderStyle:"solid",borderWidth:"1px"},"& .dialogFooter .confirmButton":{color:e.palette.colors.red[600],borderColor:e.palette.colors.red[600],borderStyle:"solid",borderWidth:"1px","&:hover":{backgroundColor:e.palette.colors.red[10]}}}}})),kt=function(e){var t,n,o=e.handleClose,i=(0,l.v9)(b.pW),c=(0,v.$)(["review","common"]).t,s=St(),u=(0,l.I0)(),m=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],f=m[1];return r.createElement(M,{title:"".concat(c("obliterateReview"),"?"),body:r.createElement(p.Z,{className:"obliterateBody"},r.createElement(Zt.Z,{id:"dialog-description",className:"description"},r.createElement(y.Z,{variant:"body2",className:"small semiBold",color:"textSecondary"},r.createElement(fe.c,{i18nKey:"review:confirmObliterate"},r.createElement(y.Z,{variant:"body2",className:"small highlighted",color:"textPrimary"},"obliterate this review?"))))),footer:{actionButton:r.createElement(g.Z,{disabled:d,onClick:function(){f(!0),u((0,Ct.MU)(i)).then((function(e){e.payload.messages&&"review-obliterated"===e.payload.messages[0].code&&((0,a.c4)("./").then((function(){})),u((0,Nt.PJ)({text:e.payload.messages[0].text,severity:"success"})))}))},className:"dialogButton actionButton confirmButton"},c("yes"))},handleClose:o,classNames:"reviewObliterateDialog ".concat(s.root)})},It=kt;kt.propTypes={handleClose:i().func},kt.defaultProps={handleClose:function(){}};var Tt=n(12877),At=n(20351),jt=function(e){return e.reviewChangeAuthor},Ot=function(e){return e.reviewChangeAuthor.loading},Mt=n(69517);function Rt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zt=(0,C.Z)((function(){return{body:{overflowX:"hidden"}}})),Lt=function(e){var t,n,a=e.handleClose,o=zt().body,i=(0,v.$)(["review","common"]).t,c=(0,l.I0)(),s=(0,l.v9)(b.a7),u=(0,l.v9)(At.yw),m=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],y=m[1],h=(0,l.v9)(Ke.$o).users,E=(0,r.useMemo)((function(){return u.filter((function(e){return e.id!==s})).map((function(e){return{id:e.id,fullName:e.fullName,searchable:(0,ve.eo)(e)}})).sort((function(e,t){return-t.fullName.localeCompare(e.fullName)}))}),[u]),w=(0,l.v9)(jt),Z=w.loading,C=w.error,N=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.id,r=f.fullName,e.next=3,c((0,Mt.I2)(n));case 3:null!=(o=e.sent)&&null!==(t=o.payload)&&void 0!==t&&t.error||(l=i("authorChangedTo",{id:"false"===h.display_fullname?n:r}),c((0,Nt.PJ)({text:l,severity:"success"})),a());case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rt(o,r,a,i,l,"next",e)}function l(e){Rt(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.createElement(M,{title:i("chooseAuthor"),body:r.createElement(p.Z,{className:"changeAuthorBody ".concat(o)},Z?r.createElement(d.Z,{variant:"overlay"}):null,C?r.createElement(ye.Z,{type:"error",text:C.text}):null,r.createElement(Tt.Z,{tooltipText:i("chooseAuthor"),optionsArray:E,searchText:"searchable",verifySelectedOption:function(e,t){return e.id===t.id},selectedValue:f,placeholderValue:i("authorName"),placeholderLabel:i("authorName"),optionLabel:"searchable",onChange:function(e,t){c((0,Mt._)()),y(t)},classNamePrefix:"changeAuthor"})),footer:{actionButton:r.createElement(g.Z,{className:"dialogButton actionButton confirmButton",onClick:N,variant:"contained",color:"primary",disabled:null===f||C||Z},i("save"))},handleClose:function(){c((0,Mt._)()),a()},classNames:"reviewChangeAuthorDialog"})},Bt=Lt;Lt.propTypes={handleClose:i().func.isRequired};var qt=n(18200),Vt=n(33331),Ht=n(7397),$t=n(57394),Dt=n(82302),Ft=n(17196),Wt=n(99613),Ut=n(23279),Kt=n.n(Ut),Gt=n(11087),Jt=function(e){return e.changes},_t=n(67329),Xt=function(e){return e.reviewAppendReplaceChange},Yt=n(53659);function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tn=(0,u.Z)((function(e){return{body:{maxWidth:e.spacing(80),width:e.spacing(80),margin:0},list:{maxHeight:e.spacing(15),overflowX:"auto",borderTop:e.spacing(.125,"solid",e.palette.colors.grey[200]),marginTop:e.spacing(1)},subHeading:{width:"100%",borderBottom:e.spacing(.125,"solid",e.palette.colors.grey[200]),marginBottom:e.spacing(1)},path:{width:"65%"},changeNumber:{marginTop:e.spacing(1)},changeAt:{minHeight:e.spacing(3.5),width:e.spacing(3.5),backgroundColor:e.palette.colors.grey[80],marginTop:0,marginLeft:e.spacing(-1),paddingLeft:e.spacing(1),borderRadius:e.spacing(.5,0,0,.5),borderRight:e.spacing(.125,"solid",e.palette.colors.grey[200])},filterFields:{"& label":{transform:"translate(".concat(e.spacing(1.75)).concat("px, ").concat(e.spacing(-.75)).concat("px) scale(0.75)"),backgroundColor:e.palette.colors.white[0],zIndex:1}},row:{cursor:"pointer"},selectedRow:{backgroundColor:e.palette.colors.blue[50]}}})),nn=function(e){var t=e.handleClose,n=e.variant,a=(0,v.$)(["review","common"]).t,o=tn(),i=o.body,c=o.changeAt,s=o.changeNumber,u=o.changeOwner,p=o.filterFields,f=o.list,h=o.selectedRow,E=o.path,w=o.row,Z=o.subHeading,C=(0,l.I0)(),N=Qt((0,r.useState)(!1),2),x=N[0],S=N[1],k=(0,l.v9)(b.yA).author,I=(0,l.v9)(Gt.kW),T=(0,l.v9)(Jt),A=T.loading,j=T.error,O=T.data,R=(0,l.v9)(Xt),P=R.loading,z=R.error,B=Qt(r.useState(-1),2),q=B[0],V=B[1],H=Qt((0,r.useState)(""),2),$=H[0],D=H[1],F=Qt((0,r.useState)(I),2),W=F[0],U=F[1],K=Qt((0,r.useState)(k),2),G=K[0],J=K[1],_=(0,r.useRef)(Kt()((function(e,t){C((0,Yt.Cb)({pending:"replaceCommit"!==n,user:e,rootPath:t}))}),500)).current,X=(0,r.useMemo)((function(){return""===$||x}),[$,x]),Y=Qt((0,r.useMemo)((function(){switch(n){case"replacePending":return[a("replacePendingTitle"),a("addChangeType",{type:"Pending"}),function(){S(!0),C((0,_t.CH)({changeId:$,pending:!0}))}];case"replaceCommit":return[a("replaceCommitTitle"),a("addChangeType",{type:"Committed"}),function(){S(!0),C((0,_t.CH)({changeId:$,pending:!1}))}];default:return[a("appendPendingTitle"),a("addChangeType",{type:"Pending"}),function(){S(!0),C((0,_t.Nm)({changeId:$,pending:!0}))}]}}),[n,$]),3),Q=Y[0],ee=Y[1],te=Y[2];return(0,r.useEffect)((function(){return!x||P||z||(S(!1),t()),S(P)}),[P,x,z]),r.createElement(M,{body:r.createElement(m.Z,{container:!0,className:"body ".concat(i," ").concat(n),spacing:1,direction:"column"},P?r.createElement(m.Z,{item:!0,className:"saving"},r.createElement(d.Z,{variant:"overlay"})):null,z?r.createElement(m.Z,{item:!0,className:"saveError"},r.createElement(L.Z,{messages:z})):null,r.createElement(m.Z,{item:!0,className:"changeNumber ".concat(s)},r.createElement(Vt.Z,{variant:"outlined",label:a("change"),value:$,onChange:function(e){var t=e.target.value.trim();D(t),V(O?O.findIndex((function(e){return"".concat(e.id)===t})):-1)},InputProps:{inputMode:"numeric",pattern:"[0-9]*",startAdornment:r.createElement(Ht.Z,{className:"changeAt ".concat(c),position:"start",disablePointerEvents:!0,disableTypography:!0},"@")}})),r.createElement(m.Z,{item:!0,className:"".concat(Z," subHeading")},r.createElement(y.Z,null,ee)),r.createElement(m.Z,{item:!0,className:"filterFields ".concat(p),container:!0,justifyContent:"space-between"},r.createElement(m.Z,{item:!0,className:"changeRootPath ".concat(E)},r.createElement(Vt.Z,{fullWidth:!0,variant:"outlined",value:W,label:a("rootPath"),onChange:function(e){var t=e.target.value;U(e.target.value),_(G,t)}})),r.createElement(m.Z,{item:!0,className:"changeOwner ".concat(u)},r.createElement(Vt.Z,{fullWidth:!0,variant:"outlined",value:G,label:a("changeOwner"),onChange:function(e){var t=e.target.value.trim();J(t),_(t,W)}}))),r.createElement(m.Z,{item:!0,className:"changesList ".concat(f)},r.createElement(Dt.Z,{size:"small"},r.createElement(Wt.Z,null,A?r.createElement($t.Z,{key:"saving"},r.createElement(Ft.Z,{colSpan:3},r.createElement(d.Z,null))):j?r.createElement($t.Z,{key:"error"},r.createElement(Ft.Z,{colSpan:3},r.createElement(L.Z,{messages:j}))):O.length?O.map((function(e,t){var n=e.id,a=e.description,o=e.user;return r.createElement($t.Z,{className:"change change-".concat(n," ").concat(w)+"".concat(q===t?" ".concat(h):""),key:"change-".concat(n),onClick:function(){return function(e){V(e),D(O[e].id)}(t)}},r.createElement(Ft.Z,{className:"id"},n),r.createElement(Ft.Z,{className:"owner"},o),r.createElement(Ft.Z,{className:"description"},a))})):r.createElement($t.Z,{key:"noChanges"},r.createElement(Ft.Z,{colSpan:3},r.createElement(ye.Z,{type:"warning",text:a("noMatchingChanges"),variant:"plain"}))))))),handleClose:t,title:Q,footer:{actionButton:r.createElement(g.Z,{disabled:X,onClick:te,variant:"contained",color:"primary",className:"dialogButton actionButton selectButton"},a("common:select"))},classNames:"reviewAddChangeDialog"})},rn=nn;nn.propTypes={handleClose:i().func.isRequired,variant:i().string.isRequired};var an=function(e){var t=e.direction,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="scaleX(".concat({topLeft:1,topRight:-1,bottomLeft:1,bottomRight:-1}[t],") scaleY(").concat({topLeft:1,topRight:1,bottomLeft:-1,bottomRight:-1}[t],")");return r.createElement("svg",{className:"svgIcon reply",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{fill:n,d:"M7.432,6.266c2.515,0.348,4.523,1.381,6.029,3.1c1.258,1.442,2.104,3.265,2.539, 5.469c-0.959-1.37-2.135-2.375-3.527-3.015c-1.396-0.641-3.074-0.963-5.041-0.963v3.175L2, 8.6l5.432-5.432V6.266z"}))},on=an;function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}an.propTypes={direction:i().oneOf(["topLeft","topRight","bottomLeft","bottomRight"]),fill:i().string,size:i().number},an.defaultProps={direction:"topLeft",fill:E.Z[300],size:16};var sn=(0,u.Z)((function(e){return{text:{paddingLeft:e.spacing(.8),paddingRight:e.spacing(1.5)},button:{margin:e.spacing(0,0,0,1.5)}}})),un=function(){var e=(0,v.$)("review").t,t=sn(),n=(0,l.v9)(b.yA),a=n.id,o=n.deployDetails,i=n.metadata,c=n.author,s=(null==i?void 0:i.canArchive)||!1,u=(0,l.v9)($.dy),d=(0,l.v9)(Ke.Vk),g=(0,l.v9)(Ke.tX),h=(0,l.v9)((0,b.fc)(u)),E=(0,l.v9)((0,b.XE)(u)),w=(0,l.v9)($.aT),Z=(0,l.v9)(b.yO),C=(0,l.v9)(Gt.kW),N=w||c===u&&d,x=(0,r.useMemo)((function(){return!!u}),[u]),S=ln((0,r.useState)(!1),2),k=S[0],I=S[1],T=ln((0,r.useState)(null),2),A=T[0],j=T[1],O=ln((0,r.useState)(null),2),M=O[0],R=O[1],P=ln((0,r.useState)(null),2),z=P[0],L=P[1],B=o&&o.length>0?o.url:null,q=(w||null!==u)&&g,V=(0,l.v9)(Ot),H=(0,l.I0)(),D=(0,r.useMemo)((function(){if(u&&u!==c){var n=h?"leaveReview":"joinReview",a=E&&h?e("retainedReviewerLeave"):"";return r.createElement(f.ZP,{title:a,arrow:!0,placement:"top"},r.createElement(p.Z,null,r.createElement(Q.Z,{key:n,"data-value":n,className:"listItem ".concat(n),disableRipple:!0,onClick:h?function(){H((0,qt.SK)()),I(!1)}:function(){H((0,qt.TA)()),I(!1)},disabled:E&&h},h?r.createElement(et.Z,null):r.createElement(Qe,null),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e(n)))))}return null}),[h,u,c]),F=function(e){H((0,Yt.Cb)({pending:"replaceCommit"!==e,user:c,rootPath:C})),R(e),j("addChange"),L(null),I(!1)},W=function(){F("appendPending")},U=function(){F("replacePending")},K=function(){F("replaceCommit")},G=function(){j(null),L(null)},J=function(){j(null)},_=(0,r.useMemo)((function(){return z?r.createElement(ee.Z,{anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:G,open:!!z,PaperProps:{className:"addChangeMenu"}},Z?r.createElement(Q.Z,{className:"listItem appendPending",onClick:W,key:"appendPending"},r.createElement(Je,{size:14}),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("appendPending"))):null,r.createElement(Q.Z,{className:"listItem replacePending",onClick:U,key:"replacePending"},r.createElement(on,{size:14,direction:"topRight"}),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("replacePending"))),r.createElement(Q.Z,{className:"listItem replaceCommit",onClick:K,key:"replaceCommit"},r.createElement(on,{size:14,direction:"topRight"}),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("replaceCommit")))):null}),[z,Z]);return r.createElement(p.Z,null,r.createElement(le,{open:k,name:"reviewActionMenu",icon:r.createElement(nt,null),outlined:!0,disableArrow:!0,handleToggle:function(){I(!k)},buttonClassName:t.button},r.createElement(Q.Z,{key:"addChange","data-value":"addChange",className:"listItem addChange",onClick:function(e){L(e.currentTarget),j("addChangeMenu")},disableRipple:!0,disabled:!x},r.createElement(Je,null),r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"addChange"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("addChange"))),r.createElement(m.Z,{item:!0},r.createElement(ne.Z,{direction:"right"})))),s?r.createElement(Q.Z,{key:"download","data-value":"download",onClick:function(){j("download"),I(!1)},className:"listItem downloadButton",disabled:"download"===A},r.createElement(dt,null),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("download"))):null,r.createElement(Q.Z,{key:"changeAuthor","data-value":"changeAuthor",className:"listItem changeAuthor",disableRipple:!0,onClick:function(){j("AuthorChange"),I(!1)},disabled:!1===q||V},r.createElement(Xe,null),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("changeAuthor"))),D,N?r.createElement(Q.Z,{key:"obliterateReview","data-value":"obliterateReview",onClick:function(){j("obliterate"),I(!1)},disableRipple:!0,className:"listItem obliterateReview"},r.createElement(wt,null),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("obliterateReview"))):null,B?r.createElement(Q.Z,{key:"tryMe","data-value":"tryMe",onClick:function(){j("tryMe")},className:"listItem tryOut",disableRipple:!0,disabled:!0},r.createElement(at,null),r.createElement(y.Z,{variant:"body2",className:"smaller ".concat(t.text)},e("tryOut")),r.createElement(it,{className:"open-right"})):null),_,"addChange"===A?r.createElement(rn,{handleClose:function(){H((0,_t.k3)()),j(null)},variant:M}):null,"obliterate"===A?r.createElement(It,{handleClose:J}):"tryMe"===A?{tryMeEvent:function(){window.open(B,"_blank"),J()}}:null,"download"===A?r.createElement(bt,{onComplete:function(){setTimeout(J,5e3)},target:"reviews/".concat(a,"/archive")}):null,"AuthorChange"===A?r.createElement(Bt,{handleClose:J}):null)},mn=n(83756),dn=n(560),pn=function(e){return e.reviewNavigation.reviewNavigationOpened},fn=n(66530),vn=(0,C.Z)((function(e){return{root:{height:"calc(100% - ".concat(e.spacing(6)).concat("px)"),right:e.spacing(0),top:e.spacing(6),position:"fixed",whiteSpace:"nowrap",border:e.spacing(.125,"solid",e.palette.colors.grey[80]),borderBottom:"none",borderRight:"none",backgroundColor:e.palette.colors.grey[30]},opened:{width:e.spacing(28)},closed:{width:e.spacing(6.75),"& .menu-footer":{backgroundColor:e.palette.colors.grey[40]},"& $navigationItem":{borderBottomColor:e.palette.colors.grey[100]}},navigation:{width:"100%",padding:e.spacing(.5,.25,0),overflow:"auto"},navigationItem:{padding:e.spacing(1.5,0,0),borderBottom:e.spacing(.125,"solid","transparent")},footer:{zIndex:1}}})),gn=function(e){var t=e.items,n=e.expander,a=e.open,o=vn(),i=o.root,l=o.navigation,c=o.navigationItem,s=o.opened,u=o.closed,d=o.footer;return r.createElement(m.Z,{container:!0,direction:"column",justifyContent:"space-between",className:"navigation ".concat(i," navigation").concat(a?"Opened ".concat(s):"Closed ".concat(u)),spacing:0},r.createElement(m.Z,{item:!0,className:l},r.createElement(m.Z,{container:!0,direction:"column"},t.map((function(e,t){return r.createElement(m.Z,{className:"navigationItem ".concat(c),key:"item-".concat(t),item:!0},e)})))),r.createElement(m.Z,{item:!0,className:"navigationFooter ".concat(d)},r.createElement(fn.Z,{left:n})))};gn.propTypes={items:i().arrayOf(i().node).isRequired,open:i().bool.isRequired,expander:i().node.isRequired};var yn=gn,hn=n(12429),bn=n(56354),En=(0,u.Z)((function(e){return{root:{padding:e.spacing(.5,0)},voteCount:{padding:e.spacing(1,.5)},countDivider:{color:e.palette.colors.grey[300]},votes:{paddingTop:e.spacing(.5),color:e.palette.colors.grey[500]},upVotes:{color:e.palette.colors.green[500]},downVotes:{color:e.palette.colors.red[600]}}})),wn=function(){var e=En(),t=e.countDivider,n=e.downVotes,a=e.root,o=e.upVotes,i=e.voteCount,c=e.votes,s=(0,v.$)("review").t,u=(0,l.v9)(b.yU),d=u.up,p=u.down;return(0,l.v9)(pn)?r.createElement(m.Z,{container:!0,className:"".concat(a," voteSummary")},r.createElement(f.ZP,{arrow:!0,placement:"top",title:s("upVotes",{voteCount:d})},r.createElement(m.Z,{item:!0,className:"upVotes ".concat(o," ").concat(i)},r.createElement(bn.Z,{fill:"currentColor"}),r.createElement(y.Z,{variant:"body2",className:"".concat(i," smaller highlighted")},d))),r.createElement(f.ZP,{arrow:!0,placement:"top",title:s("downVotes",{voteCount:p})},r.createElement(m.Z,{item:!0,className:"downVotes ".concat(n," ").concat(i)},r.createElement(bn.Z,{fill:"currentColor",down:!0}),r.createElement(y.Z,{variant:"body2",className:"".concat(i," smaller highlighted")},p)))):r.createElement(m.Z,{container:!0,direction:"column",className:"".concat(a," voteSummary"),alignItems:"center"},r.createElement(m.Z,{item:!0,className:"".concat(c," votes")},r.createElement(hn.Z,{fill:"currentColor"})),r.createElement(m.Z,{item:!0},r.createElement(f.ZP,{arrow:!0,placement:"top",title:s("upVotes",{voteCount:d})},r.createElement(y.Z,{variant:"body2",className:"upVotes ".concat(o," smaller semiBold")},d)),r.createElement(y.Z,{variant:"body2",className:"".concat(t," divider smaller semiBold")},"/"),r.createElement(f.ZP,{arrow:!0,placement:"top",title:s("downVotes",{voteCount:p})},r.createElement(y.Z,{variant:"body2",className:"downVotes ".concat(n," smaller semiBold")},p))))},Zn=n(70065),Cn=n(41423),Nn=n(33901),xn=n(45018),Sn=(0,u.Z)((function(e){return{avatar:{height:e.spacing(2),width:e.spacing(2),textTransform:"uppercase"},hoverLink:{"& .swarmLink:hover":{textDecoration:"none","& .groupIdentifier":{textDecoration:"underline"}}},groupIdentifier:{marginLeft:e.spacing(.5),"&:first-child":{marginLeft:0}}}})),kn=function(e){var t=e.group,n=e.link,a=e.show,o=t.id,i=t.name,l=a.avatar,c=a.fullName,s=a.id,u=Sn(),d=u.avatar,p=u.hoverLink,v=u.groupIdentifier,g=(0,r.useMemo)((function(){return r.createElement(m.Z,{container:!0,className:"groupName",groupid:o},l?r.createElement(m.Z,{item:!0,className:"groupAvatarWrapper"},r.createElement(f.ZP,{arrow:!0,placement:"top",title:i||o},r.createElement(Nn.Z,{className:"".concat(d," groupAvatar"),alt:i||o},r.createElement(y.Z,{variant:"body2",className:"small"},(i||o).charAt(0))))):null,s||c?r.createElement(m.Z,{item:!0,className:"groupIdentifierWrapper ".concat(l?v:"")},r.createElement(f.ZP,{arrow:!0,placement:"top",title:i||o},r.createElement(y.Z,{variant:"body2",className:"bold groupIdentifier small"},c&&i||o))):null)}),[o,i,l,c,s]);return n?r.createElement(m.Z,{container:!0,item:!0,className:p},r.createElement(xn.Z,{target:"groups/".concat(o)},g)):g};kn.propTypes={group:i().objectOf(i().string).isRequired,show:i().shape({avatar:i().bool,fullName:i().bool,id:i().bool}),link:i().bool},kn.defaultProps={show:{avatar:!0,fullName:!0,id:!1},link:!0};var In=kn,Tn=n(20573);function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jn=function(e){return e.reviewGroups},On=function(e){return e.reviewGroups.groups},Mn=function(e){return(0,Tn.P1)(On,(function(t){return t.find((function(t){return t.id===e}))}))};function Rn(e,t,n,r){var a,o,i;return e&&!r.find((function(t){return t===e.id}))&&(r.push(e.id),a=e.users.filter((function(e){return!n.find((function(t){return t===e}))})),n.push.apply(n,function(e){if(Array.isArray(e))return An(e)}(i=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),null===(o=e.subgroups)||void 0===o||o.forEach((function(e){Rn(t.find((function(t){return t.id===e})),t,n,r)}))),n}var Pn=n(85264),zn={filled:"M30,1.8l9.75,17.914L60,23.344L45.777,38.043L48.541,58.2L30,49.373l-18.541,8.826l2.766-20.157L0,23.342l20.25-3.631L30,1.8z",outline:"M60,23.344l-20.25-3.63L30,1.8l-9.75,17.912L0,23.342l14.225,14.7l-2.766,20.157L30,49.373L48.541,58.2l-2.764-20.157L60,23.344z M30,44.637l-13.434,6.396l2.002-14.604L8.264,25.777l14.672-2.629L30,10.168l7.064,12.979l14.672,2.631L41.432,36.427l2.002,14.604L30,44.637z"},Ln=function(e){var t=e.fill,n=e.size,a=e.variant,o="".concat(n,"px"),i="".concat(n,"px");return r.createElement("svg",{className:"svgIcon ".concat(a,"Star"),viewBox:"0 0 60 60",enableBackground:"new 0 0 60 60",style:{height:o,width:i}},r.createElement("path",{fill:t,d:zn[a]}))},Bn=Ln;Ln.propTypes={fill:i().string,size:i().number,variant:i().oneOf(["filled","outline"])},Ln.defaultProps={fill:te.Z[0],size:16,variant:"filled"};var qn=n(46750);function Vn(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon trash",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"trashPath",fill:t,d:"M14.432,2.766v1.567H3.568V2.766h2.707L7.077,2h3.864l0.804, 0.766H14.432z M4.333,14.432V5.099h9.333v9.333c0,0.424-0.154,0.791-0.467,1.103c-0.311,0.312-0.676, 0.467-1.1,0.467H5.901c-0.423,0-0.791-0.153-1.101-0.467C4.489,15.223,4.333,14.854,4.333,14.432z"}))}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Vn.propTypes={fill:i().string,size:i().number},Vn.defaultProps={fill:E.Z[300],size:16};var Dn=(0,u.Z)((function(e){return{list:{maxHeight:e.spacing(45),overflowY:"auto"},requirementText:{color:e.palette.colors.grey[300],marginRight:e.spacing(2)},requirementButton:{border:"none","& .MuiButton-iconSizeMedium":{height:e.spacing(1.25),width:e.spacing(1.25),margin:e.spacing(1,0,0,-.5)}},requirementDecorator:{position:"absolute"}}})),Fn=function(e){var t=(0,v.$)("review").t,n=Hn((0,r.useState)(!1),2),a=n[0],o=n[1],i=(0,l.I0)(),c=e.participantId,s=e.requirement,u=e.isGroup,d=e.minimumRequired,g=e.isMissing,h=Hn((0,r.useMemo)((function(){return["no"!==s&&!g&&(void 0===d||"no"===d||"0"===d),"one"!==s&&!g&&(void 0===d||"no"===d||"yes"!==d),g||void 0===d||"no"===d]}),[s,d]),3),b=h[0],w=h[1],Z=h[2],C=function(e){var t={participant:c,required:e,isGroup:u};i(e?(0,qt.Ye)(t):(0,qt.vc)(t)),o(!1)},N=Dn(),x=N.requirementText,S=N.button,k=N.requirementDecorator,I=Hn((0,r.useMemo)((function(){return[Z?"":t(u?"retainedGroup":"retainedReviewer"),t(u?"requireAllShort":"required")]}),[c]),2),T=I[0],A=I[1],j=(0,r.useCallback)((function(e){switch(e){case"yes":return r.createElement(Bn,{className:"filledStar",size:14,variant:"filled",fill:Pn.Z[500]});case"no":return r.createElement(Bn,{className:"outlineStar",size:14,variant:"outline",fill:E.Z[300]});case"remove":return r.createElement(Vn,{className:"remove",size:14,fill:qn.Z[500]});case"one":return r.createElement(r.Fragment,null,r.createElement(Bn,{className:"requireOneIcon",size:14,variant:"filled",fill:Pn.Z[500]}),r.createElement(y.Z,{className:"requirementDecorator smallest highlighted ".concat(k),variant:"body2"},"1"));default:return null}}),[]),O=(0,r.useMemo)((function(){return j(s)}),[s]),M=Hn((0,r.useMemo)((function(){return[j("yes"),j("one"),j("no"),j("remove")]}),[]),4),R=M[0],P=M[1],z=M[2],L=M[3];return r.createElement(le,{open:a,name:"requirementMenu-".concat(c),icon:O,outlined:!0,disableArrow:!1,handleToggle:function(){o(!a)},buttonClassName:S},"yes"===s||g?null:r.createElement(Q.Z,{key:"required-".concat(c),disableRipple:!0,onClick:function(){return C(u?"all":"yes")}},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"requiredText small ".concat(x)},A)),r.createElement(m.Z,{item:!0},R))),u&&w?r.createElement(Q.Z,{key:"requireOne-".concat(c),disableRipple:!0,onClick:function(){return C("one")}},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"requireOneText small ".concat(x)},t("requireOneShort"))),r.createElement(m.Z,{item:!0},P))):null,b?r.createElement(Q.Z,{key:"optional-".concat(c),disableRipple:!0,onClick:function(){return C(u?"none":"no")}},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"optionalText small ".concat(x)},t("optional"))),r.createElement(m.Z,{item:!0},z))):null,r.createElement(f.ZP,{arrow:!0,placement:"top",title:T},r.createElement(p.Z,null,r.createElement(Q.Z,{key:"remove-".concat(c),disableRipple:!0,onClick:function(){return C(void 0)},disabled:!Z,className:"removeMenuItem"},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0,className:"removeReviewerTitle"},r.createElement(y.Z,{variant:"body2",className:"removeText small ".concat(x)},t("removeReviewer"))),r.createElement(m.Z,{item:!0},L))))))},Wn=Fn;Fn.propTypes={participantId:i().string.isRequired,requirement:i().string.isRequired,minimumRequired:i().oneOfType([i().string,i().bool]),isGroup:i().bool.isRequired,isMissing:i().bool},Fn.defaultProps={minimumRequired:void 0,isMissing:!1};var Un=function(e){return e.autocomplete.data},Kn=function(e){return e.autocomplete.data.groups},Gn=function(e){return e.autocomplete.loadingGroups};function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _n=(0,u.Z)((function(e){return{list:{maxHeight:e.spacing(45),overflowY:"auto"},listItem:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},requirementText:{color:e.palette.colors.grey[300],marginRight:e.spacing(2)},groupIdentifier:{"& .groupAvatarWrapper":{paddingTop:e.spacing(.5)},"& .groupIdentifier":{color:e.palette.colors.black[100]}},requirement:{position:"absolute"},groupAutocomplete:{marginTop:e.spacing(1),width:e.spacing(50),marginRight:e.spacing(1)},addReviewer:{button:{padding:0}}}})),Xn=function(e,t){return null===e.id||e.id===t.id},Yn=function(){var e,t,n=(0,v.$)("review").t,a=(0,l.v9)(b.cw),o=(0,r.useMemo)((function(){return Object.keys(a)}),[a]),i=_n(),c=i.list,s=i.requirementText,u=i.groupIdentifier,g=i.listItem,h=i.groupAutocomplete,E=i.addReviewer,w=(e=(0,r.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Z=w[0],C=w[1],N=(0,r.useCallback)((function(e,t){C(t)}),[Z]),x=(0,l.I0)(),S=(0,r.useCallback)((function(){x((0,qt.Ye)({participant:Z.id,required:"none",isGroup:!0})),C(void 0)}),[Z]),I=(0,l.v9)(Kn),T=(0,r.useMemo)((function(){return I.filter((function(e){return!o.find((function(t){return t.replace("swarm-group-","")===e.id}))})).map((function(e){return{id:e.id,group:(0,ve.eo)({id:e.id,group:e.Group},"id","group")}})).sort((function(e,t){return-t.group.localeCompare(e.group)}))}),[I,o]),A=(0,l.v9)(Gn),j=(0,l.v9)(jn),O=j.groups,M=j.loading;return r.createElement(m.Z,{container:!0,direction:"column",className:"reviewerGroups"},r.createElement(m.Z,{item:!0,className:"addGroup"},r.createElement(m.Z,{container:!0,direction:"row"},r.createElement(m.Z,{item:!0,className:h},A?null:r.createElement(Tt.Z,{placeholderLabel:n("addReviewerGroup"),optionsArray:T,optionLabel:"group",searchText:"group",selectedValue:Z,onChange:N,verifySelectedOption:Xn})),r.createElement(m.Z,{item:!0,className:E},r.createElement(f.ZP,{arrow:!0,placement:"top",title:n(Z?"addReviewerGroup":"selectGroupToEnable")},r.createElement(p.Z,null,r.createElement(k.Z,{className:"addReviewer",disabled:!Z,onClick:S},r.createElement(Je,{size:14}))))))),r.createElement(m.Z,{item:!0,className:"groupReviewers"},M?r.createElement(d.Z,null):a&&o.length?r.createElement(Ce.Z,{className:"reviewerGroupsList ".concat(c)},o.map((function(e){var t=e.replace("swarm-group-",""),o=a[e],i=o.required,l=o.minimumRequired,c=O.find((function(e){return e.id===t}))||{name:t,isMissing:!0},d=c.name,p=c.isMissing;return r.createElement(Ne.Z,{key:"reviewer-".concat(e),className:"reviewer-".concat(e," ").concat(g)},r.createElement(m.Z,{container:!0,justifyContent:"space-between"},r.createElement(m.Z,{item:!0,className:u},r.createElement(In,{group:{id:t,name:d}||{},show:{avatar:!0,fullName:!0}})),r.createElement(m.Z,{item:!0},r.createElement(m.Z,{justifyContent:"space-between",container:!0},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"requirementText small ".concat(s)},n(i?!0===i?"requireAllShort":"requireOneShort":"optional"))),r.createElement(m.Z,{item:!0},r.createElement(Wn,{participantId:t,requirement:i?!0===i?"yes":"one":"no",isGroup:!0,minimumRequired:l?!0===l?"yes":"one":"no",isMissing:void 0!==p&&p}))))))}))):r.createElement(ye.Z,{text:n("noReviewers")})))},Qn=n(48757);function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tr=(0,u.Z)((function(e){return{list:{maxHeight:e.spacing(45),overflowY:"auto"},listItem:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},requirementText:{color:e.palette.colors.grey[300],marginRight:e.spacing(2)},userAutocomplete:{marginTop:e.spacing(1),width:e.spacing(50),marginRight:e.spacing(1)},addReviewer:{button:{padding:0}}}})),nr=function(e,t){return null===e.id||e.id===t.id},rr=function(){var e,t,n=(0,v.$)("review").t,a=tr(),o=a.list,i=a.requirementText,c=a.userAutocomplete,s=a.addReviewer,u=a.listItem,d=(0,l.v9)(Ke.$o).users.display_fullname,g=(0,l.v9)(b.bN),h=(0,r.useMemo)((function(){return Object.keys(g)}),[g]),E=(0,l.v9)((0,At.YN)(h)),w=(e=(0,r.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Z=w[0],C=w[1],N=(0,r.useCallback)((function(e,t){C(t)}),[Z]),x=(0,l.I0)(),S=(0,r.useCallback)((function(){x((0,qt.Ye)({participant:Z.id,required:"no",isGroup:!1})),C(void 0)}),[Z]),I=(0,l.v9)(b.a7),T=(0,l.v9)(At.yw),A=(0,r.useMemo)((function(){return T.filter((function(e){return!(I===e.id||h.find((function(t){return t===e.id})))})).map((function(e){return{id:e.id,fullName:(0,ve.eo)(e||{id:e.id,fullName:e.id})}})).sort((function(e,t){return-t.fullName.localeCompare(e.fullName)}))}),[T,h]);return r.createElement(m.Z,{container:!0,className:"usersPanel",direction:"column"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0,direction:"row"},r.createElement(m.Z,{item:!0,className:c},r.createElement(Tt.Z,{placeholderLabel:n("addReviewer"),optionsArray:A,optionLabel:"fullName",searchText:"fullName",selectedValue:Z,onChange:N,verifySelectedOption:nr})),r.createElement(m.Z,{item:!0,className:s},r.createElement(f.ZP,{arrow:!0,placement:"top",title:n(Z?"addReviewer":"selectReviewerToEnable")},r.createElement(p.Z,null,r.createElement(k.Z,{className:"addReviewer",disabled:!Z,onClick:S},r.createElement(Je,{size:14}))))))),r.createElement(m.Z,{item:!0},g&&h.length?r.createElement(Ce.Z,{className:"userList ".concat(o)},h.map((function(e){var t=g[e],a=t.required,o=t.minimumRequired,l=E.find((function(t){return t.id===e}));return r.createElement(Ne.Z,{key:"reviewer-".concat(e),className:"user-id-".concat(e," ").concat(u)},r.createElement(m.Z,{container:!0,justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(Qn.default,{user:e,link:!1,show:{avatar:!0,fullName:!!d}})),r.createElement(m.Z,{item:!0},r.createElement(m.Z,{justifyContent:"space-between",container:!0},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"requirementText small ".concat(i)},n(a?"required":"optional"))),r.createElement(m.Z,{item:!0},r.createElement(Wn,{participantId:e,requirement:a?"yes":"no",minimumRequired:!0===o?"yes":"0"===o?"0":"no",isGroup:!1,isMissing:void 0!==l.isMissing&&l.isMissing}))))))}))):r.createElement(ye.Z,{text:n("noReviewers")})))};function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var or=(0,u.Z)((function(e){return{tabs:{borderBottom:e.spacing(.125,"solid",e.palette.colors.grey[80]),marginBottom:e.spacing(1)},tab:{marginRight:e.spacing(3)},tabContent:{minHeight:e.spacing(50),"& li":{lineHeight:1.8},"& .userAvatar, & .groupAvatar":{height:e.spacing(2.5),width:e.spacing(2.5),verticalAlign:"middle"}}}})),ir=function(){var e,t,n=(0,v.$)("review").t,a=(0,l.v9)(b.e4),o=a.participantsUpdateLoading,i=a.participantsUpdateError,c=or(),s=c.tab,u=c.tabContent,p=c.tabs,f=(e=(0,r.useState)(0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=f[0],h=f[1],E=(0,r.useCallback)((function(e){h(+e.currentTarget.dataset.tabIndex)}),[]);return r.createElement(m.Z,{container:!0,direction:"column",className:"reviewHeaderTabs"},o?r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0,className:"saving"},r.createElement(d.Z,{variant:"component"}))):i?r.createElement(m.Z,{item:!0,className:"saveError"},r.createElement(L.Z,{messages:i})):null,r.createElement(m.Z,{item:!0},r.createElement(Zn.Z,{className:"tabs ".concat(p),indicatorColor:"primary",value:g,onChange:E},r.createElement(Cn.Z,{className:"tab usersTab ".concat(s).concat(0===g?" selected":""),label:r.createElement(y.Z,{variant:"body2",className:"medium"},n("common:users")),"data-tab-index":0}),r.createElement(Cn.Z,{className:"tab groupsTab ".concat(s).concat(1===g?" selected":""),label:r.createElement(y.Z,{variant:"body2",className:"medium"},n("common:groups")),"data-tab-index":1}))),r.createElement(m.Z,{className:u,hidden:0!==g,item:!0},r.createElement(rr,null)),r.createElement(m.Z,{className:u,hidden:1!==g,item:!0},r.createElement(Yn,null)))};function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cr=(0,u.Z)((function(){return{button:{padding:0},disabled:{opacity:.5,cursor:"not-allowed"}}})),sr=function(){var e,t,n=(0,v.$)("review").t,a=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],c=(0,r.useCallback)((function(){return i(!o)}),[o]),s=cr(),u=s.button,m=s.disabled,d=(0,l.v9)($.dy),g=(0,l.v9)(b.Gl).canEditReviewers,h=(0,r.useMemo)((function(){return!d||!g}),[d,g]);return r.createElement(p.Z,{className:"manageReviewers ".concat(h?" ".concat(m):"")},o?r.createElement(M,{disablePortal:!1,title:r.createElement(y.Z,{className:"large",variant:"body2"},n("manageReviewers")),handleClose:c,body:r.createElement(ir,null),footer:null,classNames:"manageReviewers"}):null,r.createElement(f.ZP,{placement:"top",arrow:!0,title:r.createElement(y.Z,{variant:"body2",className:"small"},n(h?d?"editNotAllowed":"loginToManageReviewers":"manageReviewers"))},r.createElement(p.Z,null,r.createElement(k.Z,{className:u,disabled:h,onClick:c},r.createElement(Z,null)))))},ur=function(){var e=(0,v.$)("review").t;return r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"reviewersHeaderContainer"},r.createElement(m.Z,{item:!0,className:"reviewersTitle"},r.createElement(y.Z,{className:"medium semiBold"},e("Reviewers"))),r.createElement(m.Z,{item:!0,className:"editReviewers"},r.createElement(sr,null)))},mr=n(66037),dr=(0,u.Z)((function(e){return{root:{width:"100%",backgroundColor:e.palette.colors.grey[220],minWidth:e.spacing(2),padding:e.spacing(.5),height:e.spacing(3)}}})),pr=function(e){var t=e.buttonText,n=e.handleExpand,a=dr();return r.createElement(g.Z,{onClick:n,disableRipple:!0,className:"menuButton navigationSectionExpandButton ".concat(a.root)},r.createElement(y.Z,{variant:"caption",className:"small"},t))};pr.propTypes={buttonText:i().string.isRequired,handleExpand:i().func.isRequired};var fr=pr,vr=function(e){var t=e.itemClass,n=e.text;return r.createElement(m.Z,{item:!0,className:"widgetSectionHeader ".concat(t)},r.createElement(y.Z,{className:"smaller semiBold"},n))},gr=vr;vr.propTypes={text:i().string.isRequired,itemClass:i().string},vr.defaultProps={itemClass:""};var yr=(0,u.Z)((function(e){return{root:{margin:e.spacing(.5,0)},item:{position:"relative","& .userAvatarWrapper, & .groupAvatarWrapper":{border:e.spacing(.25,"solid","transparent"),display:"inline-block",borderRadius:e.spacing(3)},"& .userAvatar, & .groupAvatar":{width:e.spacing(2.5),height:e.spacing(2.5),border:e.spacing(.125,"solid",e.palette.colors.grey[30]),verticalAlign:"top"}},badgeContainer:{position:"absolute",top:e.spacing(-.75),left:e.spacing(-1.5),zIndex:1}}})),hr=function(e){var t=e.reviewer,n=e.badge,a=e.voteStatus,o=e.className,i=yr(),l=i.root,c=i.badgeContainer,s=i.item;return r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"reviewerContainer ".concat(l," ").concat(o)},r.createElement(m.Z,{item:!0,className:"".concat(s," reviewer")},n?r.createElement(p.Z,{className:"badgeContainer ".concat(c)},n):null,t),a?r.createElement(m.Z,{item:!0,className:"voteStatusItem"},a):null)};hr.propTypes={reviewer:i().node.isRequired,badge:i().node,voteStatus:i().node,className:i().string},hr.defaultProps={badge:null,voteStatus:null,className:""};var br=hr,Er=(0,u.Z)((function(e){return{root:{backgroundColor:e.palette.colors.blue[500],borderRadius:e.spacing(2),color:e.palette.colors.white[0],lineHeight:.4,padding:e.spacing(.125,.25,.25),width:e.spacing(1.125),marginLeft:e.spacing(1.125),"& .svgIcon":{verticalAlign:"bottom"},border:e.spacing(.25,"solid",e.palette.colors.white[0])},requireOne:{marginLeft:0,width:e.spacing(2.25),"& .svgIcon":{paddingLeft:e.spacing(.125)}},text:{lineHeight:.9,paddingLeft:e.spacing(.125)}}})),wr=function(e){var t=e.requirement,n=Er(),a=n.requireOne,o=n.root,i=n.text,l=(0,r.useMemo)((function(){return!0===t?"required":"one"}),[t]);return t?r.createElement(p.Z,{className:"reviewerRequirement ".concat(l," ").concat(o).concat("1"==="".concat(t)?" ".concat(a):"")},r.createElement(Bn,{fill:te.Z[0],size:9}),!0!==t?r.createElement(y.Z,{className:"requirementText ".concat(i," smallest highlighted"),variant:"body2"},t):null):null};wr.propTypes={requirement:i().oneOfType([i().number,i().bool,i().string])},wr.defaultProps={requirement:null};var Zr=wr,Cr=n(56021),Nr=function(e){var t=e.vote,n=e.isStale,a=e.reviewVersion,o=e.tooltipTitle,i=e.isRequired,l=(0,v.$)("review").t,c=(0,r.useMemo)((function(){return o||(t?r.createElement(y.Z,{variant:"body2",className:"small"},l({up:{version:"votedUp",latest:"votedUpLatest"},down:{version:"votedDown",latest:"votedDownLatest"}}[1===t?"up":"down"][a?"version":"latest"],{reviewVersion:a})):"")}),[t,a,o]),s=(0,r.useMemo)((function(){return"".concat(-1===t?"down":0!==t?"up":"partial"," ").concat(n?"stale":"current")}),[t,n]);return 0!==t||i&&c?r.createElement(f.ZP,{title:c,arrow:!0,placement:"top"},r.createElement(p.Z,{className:"reviewerVoteStatus manual-tooltip ".concat(s)},0===t?r.createElement(hn.Z,{size:14,fill:n?E.Z[100]:E.Z[200]}):r.createElement(bn.Z,{size:14,down:-1===t,fill:n?E.Z[200]:-1===t?qn.Z[600]:Cr.Z[500]}))):null};Nr.propTypes={vote:i().oneOf([-1,0,1]).isRequired,isStale:i().bool.isRequired,reviewVersion:i().number,tooltipTitle:i().node,isRequired:i().bool},Nr.defaultProps={reviewVersion:void 0,tooltipTitle:null,isRequired:!1};var xr=Nr;function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=function(e){var t=(0,l.v9)(pn),n=e.reviewer,a=n.id,o=n.required,i=n.vote,c=e.maxVersion,s=e.className;return r.createElement(br,{key:"reviewer-".concat(a),className:s,badge:r.createElement(Zr,{requirement:o}),reviewer:r.createElement(p.Z,{className:"userContainer ".concat(!t&&i?i.isStale?"staleOutline":1===i.value?"upOutline reviewerUpOutLine":"downOutline reviewerDownOutline":"")},r.createElement(Qn.default,{user:a,show:kr({avatar:!0},t||s.length>0?{fullName:!0}:{})})),voteStatus:t||s.length>0?r.createElement(xr,{vote:i?i.value:0,isStale:!!i&&i.isStale,reviewVersion:i&&i.version!==c?i.version:void 0}):null})};Tr.propTypes={reviewer:i().shape({id:i().string.isRequired,required:i().oneOfType([i().bool,i().string]),vote:i().objectOf(i().oneOfType([i().any]))}),maxVersion:i().number.isRequired,className:i().string},Tr.defaultProps={reviewer:{required:!1,vote:{}},className:""};var Ar=Tr;function jr(){return jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(this,arguments)}var Or=(0,u.Z)((function(e){return{boxPadding:{padding:e.spacing(1,0),borderTop:e.spacing(.125,"solid",e.palette.colors.grey[220])}}})),Mr=function(e){var t=e.id,n=e.maxVersion,a=Or().boxPadding,o=(0,v.$)("review").t,i=t.replace("swarm-group-",""),c=(0,l.v9)(Mn(i)),s=(0,l.v9)(On),u=jr({},(0,l.v9)((0,b.hJ)(t,s))),d=(0,l.v9)(b.a7),p=(0,l.v9)(function(e){return(0,Tn.P1)(On,(function(t){return Rn(e,t,[],[])}))}(c)),f=(0,r.useMemo)((function(){var e=[],t=[],n=[],r=0,a=null;return p.forEach((function(o){var i,l,c,s;if(d===o)a=o;else if(1===(null===(i=u[o])||void 0===i||null===(l=i.vote)||void 0===l?void 0:l.value)){var m,p;null!==(m=u[o])&&void 0!==m&&null!==(p=m.vote)&&void 0!==p&&p.isStale||(r+=1),t.push(o)}else-1===(null===(c=u[o])||void 0===c||null===(s=c.vote)||void 0===s?void 0:s.value)?n.push(o):e.push(o)})),e.sort(),t.sort(),n.sort(),{usersNotVoted:e,upVoters:t,downVoters:n,totalUpVoters:r,totalUsers:e.length+t.length+n.length,authorIs:a}}),[p,s]),g=f.usersNotVoted,h=f.upVoters,E=f.downVoters,w=f.totalUpVoters,Z=f.totalUsers,C=f.authorIs;return r.createElement(m.Z,{container:!0,direction:"column"},r.createElement(m.Z,{item:!0,className:"reviewersGroupList ".concat(a)},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"small bold reviewersGroupListMembers"},o("groupMembers"))),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"small reviewersGroupListVoteCount"},o("haveVotedUp",{totalUpVoters:w,totalUsers:Z}))))),E.map((function(e){var t,a;return r.createElement(m.Z,{item:!0,key:e},r.createElement(Ar,{reviewer:{id:e,vote:null===(t=u[e])||void 0===t?void 0:t.vote,required:null===(a=u[e])||void 0===a?void 0:a.required},maxVersion:n,className:"downVoters"}))})),h.map((function(e){var t,a;return r.createElement(m.Z,{item:!0,key:e},r.createElement(Ar,{reviewer:{id:e,vote:null===(t=u[e])||void 0===t?void 0:t.vote,required:null===(a=u[e])||void 0===a?void 0:a.required},maxVersion:n,className:"upVoters"}))})),g.map((function(e){var t,a;return r.createElement(m.Z,{item:!0,key:e},r.createElement(Ar,{reviewer:{id:e,vote:null===(t=u[e])||void 0===t?void 0:t.vote,required:null===(a=u[e])||void 0===a?void 0:a.required},maxVersion:n,className:"notVoted"}))})),C?r.createElement(m.Z,{item:!0,className:a},r.createElement(y.Z,{variant:"body2",className:"small bold reviewerGroupListExceptAuthor"},o("exemptReviewOwner")),r.createElement(Ar,{reviewer:{id:C},maxVersion:n,className:"authorVote"})):null)};Mr.propTypes={maxVersion:i().number.isRequired,id:i().string.isRequired};var Rr=Mr,Pr=(0,u.Z)((function(e){return{root:{paddingBottom:e.spacing(1),"& .reviewerRequirement":{height:e.spacing(1.3)}}}})),zr=function(e){var t=e.name,n=e.requirement,a=(0,v.$)("review").t,o=Pr().root,i=(0,r.useMemo)((function(){return"1"===n?a("requireOne"):!0===n?a("requireAll"):""}),[n]);return r.createElement(m.Z,{container:!0,className:"".concat(o," groupListTitle"),direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},t),r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0},r.createElement(y.Z,{variant:"body2",className:"small groupRequirement"},i),r.createElement(Zr,{requirement:n}))))};zr.propTypes={name:i().node.isRequired,requirement:i().oneOfType([i().string,i().bool])},zr.defaultProps={requirement:null};var Lr=zr,Br=["required"];function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr=(0,u.Z)((function(e){return{reviewersBottom:{paddingBottom:e.spacing(2),maxHeight:"calc(100% - ".concat(e.spacing(16)).concat("px)"),"& .dialogBody":{padding:e.spacing(0,1)},"& .userId, .groupIdentifier":{fontWeight:e.spacing(62.5),color:e.palette.colors.grey[600]}},hoverLink:{"& :hover":{cursor:"pointer",textDecoration:"none","& .groupIdentifier":{textDecoration:"underline"}}}}})),Fr=function(e){var t,n,a=e.id,o=e.maxVersion,i=e.reviewer,c=(0,v.$)("review").t,s=Dr(),u=s.reviewersBottom,d=s.hoverLink,f=(0,l.v9)(pn),g=(0,r.useMemo)((function(){return a.replace("swarm-group-","")}),[a]),h=(0,l.v9)(Mn(g)),E=(0,r.useMemo)((function(){return h?{id:h.id,name:h.name}:{id:g,name:g}}),[h]),w=(0,l.v9)(On),Z=(0,l.v9)((0,b.hJ)(a,w)),C=Z.required,N=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(Z,Br),x=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=x[0],k=x[1],I={up:{version:"votedUp",latest:"votedUpLatest"},down:{version:"votedDown",latest:"votedDownLatest"}},T=(0,r.useMemo)((function(){if(N){var e=[],t=Object.keys(N),n={stale:{up:0,down:0},current:{up:0,down:0}},a={value:0,isStale:!1,tooltip:""};t.forEach((function(t){var a=N[t].vote||{value:0},i=a.value,l=a.isStale,s=a.version;i&&(n[l?"stale":"current"][1===i?"up":"down"]+=1,e.push(r.createElement(m.Z,{item:!0,key:"member-".concat(t)},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"small"},r.createElement(Qn.default,{user:t,show:{fullName:!0},link:!1}),". ")),r.createElement(m.Z,null,r.createElement(y.Z,{variant:"body2",className:"small"},c(I[1===i?"up":"down"][s!==o?"version":"latest"],{reviewVersion:s})))))))}));var i=n.current;return!(n.current.up+n.current.down)&&n.stale.up+n.stale.down&&(a.isStale=!0,i=n.stale),a.value=i.up+i.down?!0===C?i.up===t.length?1:i.down>0?-1:0:i.up>0&&0===i.down?1:-1:0,a.tooltip=e.length?r.createElement(m.Z,{container:!0,direction:"column"},e):"",a}}),[a,N,C]);return r.createElement(m.Z,{item:!0,className:"groupContainer ".concat(!f&&T?T.isStale?"staleOutline":1===T.value?"upOutline groupUpOutLine":0===T.value&&C?"incompleteOutline reviewerIncompleteOutline":"downOutline groupDownOutline":""),key:"groupReviewer-".concat(a)},r.createElement(br,{key:"reviewer-".concat(a),badge:r.createElement(Zr,{requirement:C}),reviewer:r.createElement(p.Z,{className:"reviewerContainer ".concat(!f&&T?T.isStale?"staleOutline":1===T.value?"upOutline reviewerUpOutLine":0===T.value&&C?"incompleteOutline reviewerIncompleteOutline":"downOutline reviewerDownOutline":"")},r.createElement(p.Z,{onClick:function(){k(!0)}},r.createElement(m.Z,{container:!0,item:!0,className:d},r.createElement(In,{group:E,show:Vr({avatar:!0},f?{fullName:!0}:{}),link:!1})))),voteStatus:f&&T?r.createElement(xr,{vote:T.value,isStale:T.isStale,reviewVersion:T.version!==o?T.version:void 0,tooltipTitle:T.tooltip,isRequired:!0===C}):null}),S?r.createElement(M,{disablePortal:!1,title:E.name,body:r.createElement(r.Fragment,null,r.createElement(Lr,{name:r.createElement(In,{group:E,show:{avatar:!0,fullName:!0}}),requirement:i.required}),r.createElement(Rr,{id:a,maxVersion:o})),footer:null,disableFooter:!0,handleClose:function(){k(!1)},classNames:"".concat(u," reviewerGroupDialog")}):null)};Fr.propTypes={maxVersion:i().number.isRequired,id:i().string.isRequired,reviewer:i().shape({id:i().string,required:i().oneOfType([i().bool,i().string])})},Fr.defaultProps={reviewer:{required:!1}};var Wr=Fr,Ur=function(e){var t,n=e.id,a=e.reviewers,o=e.maxVersion,i=e.type;return r.createElement(m.Z,{item:!0,key:"reviewer".concat(i,"-").concat(n),className:"reviewer".concat(i)},"Group"===i?r.createElement(Wr,{maxVersion:o,id:n,reviewer:{id:n,required:null===(t=a[n])||void 0===t?void 0:t.required}}):r.createElement(Ar,{reviewer:{id:n,vote:a[n].vote,required:a[n].required},maxVersion:o}))};Ur.propTypes={id:i().string.isRequired,reviewers:i().objectOf(i().oneOfType([i().any])).isRequired,maxVersion:i().number.isRequired,type:i().oneOf(["Individual","Group"]).isRequired};var Kr=Ur;function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jr=(0,u.Z)((function(e){return{moreItems:{margin:e.spacing(.5,0,1)}}})),_r=function(e){var t,n,a=e.reviewers,o=e.type,i=Jr().moreItems,c=(0,l.v9)(b.yA).versions,s=(0,l.v9)(pn),u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],p=u[1],f=(0,v.$)("review").t,g=(c||[1]).length,y=(0,l.v9)(Ke.Rl),h=Object.fromEntries(Object.entries(a).slice(0,y)),E=Object.fromEntries(Object.entries(a).slice(y)),w=(0,r.useMemo)((function(){var e=Object.keys(E).length;return d?s?f("showLess"):"- ".concat(e):s?f("moreReviewers",{reviewersCount:e}):"+ ".concat(e)}),[s,E]),Z=function(){return p(!d)},C=(0,r.useMemo)((function(){return Object.keys(h).map((function(e){return r.createElement(Kr,{key:e,id:e,reviewers:h,maxVersion:g,type:o})}))}),[h,g]),N=(0,r.useMemo)((function(){return E&&Object.keys(E).length>0?r.createElement(r.Fragment,null,r.createElement(mr.Z,{in:d,className:"hiddenReviewers"},Object.keys(E).map((function(e){return r.createElement(Kr,{key:e,id:e,reviewers:E,maxVersion:g,type:o})}))),r.createElement(m.Z,{item:!0,className:i},r.createElement(fr,{buttonText:w,handleExpand:Z}))):null}),[E,g,d]);return r.createElement(m.Z,{container:!0,direction:"column",className:"reviewers".concat(o,"Container")},s?r.createElement(gr,{itemClass:"reviewers".concat(o,"Heading"),text:f("".concat(o,"s"))}):null,C,N)},Xr=_r;_r.propTypes={reviewers:i().objectOf(i().oneOfType([i().any])).isRequired,type:i().oneOf(["Individual","Group"]).isRequired};var Yr=function(){var e=(0,l.v9)(b.cw);return e&&Object.keys(e).length>0?r.createElement(Xr,{reviewers:e,type:"Group"}):null},Qr=function(){var e=(0,l.v9)(b.bN);return e&&Object.keys(e).length>0?r.createElement(Xr,{reviewers:e,type:"Individual"}):null},ea=(0,u.Z)((function(e){return{root:{"& .reviewersSectionIndividuals, & .reviewersSectionGroups":{"& .staleOutline, & .incompleteOutline":{"& .userAvatarWrapper, & .groupAvatarWrapper":{borderColor:e.palette.colors.grey[200]}},"& .upOutline":{"& .userAvatarWrapper, & .groupAvatarWrapper":{borderColor:e.palette.colors.green[500]}},"& .downOutline":{"& .userAvatarWrapper, & .groupAvatarWrapper":{borderColor:e.palette.colors.red[600]}},"& .userId, .groupIdentifier":{fontWeight:e.spacing(62.5),color:e.palette.colors.grey[600]}},"& .reviewersGroupContainer, .reviewersIndividualContainer, .reviewersHeaderContainer":{padding:e.spacing(0,3,.5,2.5)},"& .reviewersSectionVoteSummary":{padding:e.spacing(0,3,0,2.5)}},closed:{"& .userAvatarWrapper, & .groupAvatarWrapper":{marginRight:0},"& .reviewersGroupContainer":{borderBottom:e.spacing(.125,"solid",e.palette.colors.grey[80])},"& .reviewersGroupContainer, .reviewersIndividualContainer":{padding:e.spacing(0,1.25,.5,1.5)},"& .reviewersSectionVoteSummary":{padding:e.spacing(0,1.25,0,1.5)}}}})),ta=function(){var e=(0,l.v9)(pn),t=ea(),n=t.root,a=t.closed;return r.createElement(m.Z,{container:!0,direction:"column",className:"navigationReviewersWidget ".concat(n).concat(e?"":" ".concat(a))},e?r.createElement(m.Z,{item:!0,className:"reviewersSectionHeading"},r.createElement(ur,null)):null,r.createElement(m.Z,{item:!0,className:"reviewersSectionVoteSummary"},r.createElement(wn,null)),r.createElement(m.Z,{item:!0,className:"reviewersSectionGroups"},r.createElement(Yr,null)),r.createElement(m.Z,{item:!0,className:"reviewersSectionIndividuals"},r.createElement(Qr,null)))},na=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon tasksView",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"tasksViewPath",fill:t,d:"M5.138,4.348H16.5v1.596H5.138V4.348z M5.138,9.808V8.212H16.5v1.595H5.138z M5.138,13.673 v-1.597H16.5v1.597H5.138z M2.707,11.648c0.337,0,0.626,0.122,0.866,0.367c0.24,0.247,0.36,0.533, 0.36,0.856 c0,0.322-0.123,0.607-0.371,0.847c-0.246,0.239-0.531,0.361-0.855,0.361S2.1,13.958,1.86,13.719S1.5,13.194, 1.5,12.872 c0-0.323,0.117-0.608,0.35-0.854C2.083,11.771,2.369,11.648,2.707,11.648z M2.707,3.92c0.337,0,0.626, 0.121,0.866,0.36 c0.239,0.24,0.359,0.529,0.359,0.866c0,0.338-0.121,0.622-0.36,0.855C3.333,6.234,3.044,6.353,2.707, 6.353 c-0.338,0-0.624-0.119-0.857-0.352C1.617,5.768,1.5,5.484,1.5,5.146c0-0.337,0.117-0.626,0.35-0.866 C2.083,4.041,2.369,3.92,2.707,3.92z M2.707,7.784c0.337,0,0.626,0.119,0.866,0.358c0.24,0.239, 0.36,0.53,0.36,0.867 c0,0.338-0.121,0.623-0.36,0.855c-0.239,0.234-0.528,0.352-0.866,0.352c-0.338,0-0.624-0.117-0.857-0.352 C1.617,9.632,1.5,9.347,1.5,9.009c0-0.336,0.117-0.627,0.35-0.867C2.083,7.903,2.369,7.784,2.707,7.784z"}))},ra=na;na.propTypes={fill:i().string,size:i().number},na.defaultProps={fill:E.Z[300],size:16};var aa=n(83750),oa=n(26663),ia=n(5391);function la(e){return function(e){if(Array.isArray(e))return ca(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ma=function(e){return e.reviewComment},da=function(e){return e.reviewComment.count},pa=function(e){return e.reviewComment.indices},fa=function(){return(0,Tn.P1)(pa,(function(e){return e&&e.tasks?e.tasks:{}}))},va=function(e){return(0,Tn.P1)(ma,(function(t){var n=t.data.findIndex((function(t){return t.id===e}));return n>=0?t.data[n]:void 0}))},ga=function(e){return(0,Tn.P1)(pa,(function(t){var n;return t&&(null===(n=t.counts)||void 0===n?void 0:n.archived[e||"review"])||0}))};function ya(e,t,n){var r=n[e],a=r?r.length:0;return r&&r.forEach((function(e){a+=ya(t[e].id,t,n)})),a}var ha=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon filledFlag",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M10.46,4.827l4.47-0.031l0.053,7.944L9.39,12.779l-0.315-1.565l-4.468,0.031l0.039,5.558l-1.567, 0.01 L2.983,3.276l7.16-0.05L10.46,4.827z"}))},ba=ha;ha.propTypes={fill:i().string,size:i().number},ha.defaultProps={fill:E.Z[300],size:16};var Ea=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon tick",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M15.938,5.415C15.979,5.504,16,5.572,16,5.616c0,0.045-0.021,0.112-0.062,0.202l-8.664,8.114 c-0.127, 0.135-0.225,0.202-0.287,0.202c-0.106,0-0.212-0.057-0.32-0.168L2.161,9.387l-0.096-0.1C2.021,9.198,2, 9.13,2,9.085 c0-0.021,0.021-0.079,0.064-0.167l0.063-0.067c0.597-0.674,1.067-1.189, 1.406-1.549c0.128-0.134,0.214-0.201,0.256-0.201 c0.086,0,0.193,0.067,0.32,0.201l2.556, 2.624l7.097-5.991c0.043-0.044,0.106-0.067,0.19-0.067c0.062,0,0.139,0.023,0.224,0.067 L15.938,5.415z"}))},wa=Ea;Ea.propTypes={fill:i().string,size:i().number},Ea.defaultProps={fill:E.Z[300],size:16};var Za=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon doubleTick",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M13.249,7.8c0.052,0,0.117,0.019,0.188,0.055l1.508,1.213 C14.982,9.138,15,9.197,15,9.232c0, 0.035-0.018,0.094-0.055,0.166l-7.424,6.638c-0.11,0.108-0.192,0.166-0.247,0.166 c-0.092, 0-0.184-0.047-0.273-0.142l-3.863-3.742l-0.083-0.084C3.019,12.161,3,12.107,3,12.068c0-0.017,0.019-0.062, 0.055-0.137 l0.055-0.056c0.511-0.551,0.913-0.974,1.206-1.267c0.11-0.108,0.182-0.164,0.218-0.164c0.075, 0,0.166,0.056,0.274,0.164l2.193,2.146 l6.083-4.903C13.118,7.819,13.175,7.8,13.249,7.8z M13.249, 1.8c0.052,0,0.117,0.019,0.188,0.055l1.508,1.213 C14.982,3.14,15,3.196,15,3.232c0,0.037-0.018, 0.093-0.055,0.166l-7.424,6.638c-0.11,0.108-0.192,0.166-0.247,0.166 c-0.092, 0-0.184-0.047-0.273-0.142L3.137,6.318L3.055,6.235C3.019,6.162,3,6.106,3,6.068C3,6.05,3.019,6.005, 3.055,5.933L3.11,5.877 c0.51-0.55,0.913-0.973,1.206-1.266c0.11-0.11,0.182-0.167,0.218-0.167c0.075,0, 0.166,0.056,0.274,0.167l2.193,2.148l6.083-4.904 C13.118,1.819,13.175,1.8,13.249,1.8z"}))},Ca=Za;Za.propTypes={fill:i().string,size:i().number},Za.defaultProps={fill:E.Z[300],size:16};var Na=n(31292),xa=n(90777),Sa=n(39411),ka=function(e){return e.openComments},Ia=function(e){return(0,Tn.P1)(ka,(function(t){return t.comments[e]}))};function Ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ja(e){switch(e){case"open":return r.createElement(ba,{size:14,fill:qn.Z[500]});case"addressed":return r.createElement(wa,{size:14,fill:Cr.Z[700]});case"verified":return r.createElement(Ca,{size:14,fill:Pn.Z[150]});case"verified_archive":return r.createElement(Sa.Z,{size:14});case"comment":return r.createElement(Vn,{size:14,fill:qn.Z[500]});default:return null}}function Oa(e){var t;return null!==(t={comment:{open:"taskCommentCheckboxLabel"},open:{addressed:"addressed",comment:"removeTask"},addressed:{verified:"verifyTask",open:"reOpenTask"},verified:{open:"reOpenTask"}}[e])&&void 0!==t?t:[]}var Ma=(0,u.Z)((function(e){return{button:{border:"none","&.Mui-disabled":{border:"none"},"& .MuiButton-iconSizeMedium":{height:e.spacing(1.25),width:e.spacing(1.25),margin:e.spacing(1,0,0,-.5)}},removeTaskLabel:{color:e.palette.colors.red[500]}}})),Ra=function(e){var t=Ma(),n=(0,v.$)("comment").t,a=(0,l.I0)(),o=e.taskState,i=e.id,c=Ta((0,r.useState)(!1),2),s=c[0],u=c[1],d=(0,l.v9)($.qG),p=(0,l.v9)(Ia(i)),f=(0,r.useMemo)((function(){if(p){if(p.error){var e=p.error[0],t=e.text,n=e.type;return a((0,Nt.PJ)({key:"comment-".concat(i),text:t,severity:n})),!1}return p.loading}return!1}),[p]),g=Ta((0,r.useMemo)((function(){return[ja(o),Oa(o)]}),[o]),2),h=g[0],b=g[1];return r.createElement(le,{open:s,name:"commentTaskMenu".concat(i),icon:h,outlined:!0,disableArrow:!1,handleToggle:function(){u(!s)},buttonClassName:t.button,tooltipOptions:{title:n(o),arrow:!0,placement:"top"},disabled:f},r.createElement(Q.Z,{key:"taskStateLabel".concat(i),"data-value":"taskStateLabel".concat(i),className:"listItem taskStateLabel".concat(i),disableRipple:!0,disabled:!0},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"small"},n("changeTaskLabel",{state:o}))))),Object.entries(b).length>0?Object.entries(b).map((function(e){var o=Ta(e,2),l=o[0],c=o[1];return r.createElement(Q.Z,{key:"".concat(l,"Comment"),"data-value":"verified_archive"===l?"verified:archive":l,className:"listItem ".concat(l,"Comment"),onClick:function(){return e="verified_archive"===l?"verified:archive":l,a((0,xa.SK)({index:i,taskState:e})),void u(!1);var e},disableRipple:!0,disabled:!d},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1},r.createElement(m.Z,{item:!0},ja(l)),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"smaller ".concat("comment"===l?t.removeTaskLabel:null)},n(c)))))})):null)},Pa=Ra;function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ra.propTypes={id:i().oneOfType([i().string,i().number]).isRequired,taskState:i().string},Ra.defaultProps={taskState:"comment"};var Ba=(0,u.Z)((function(e){return{root:{maxWidth:e.spacing(80),width:e.spacing(80),height:e.spacing(50)},stateColumn:{width:e.spacing(14),minWidth:e.spacing(14),textTransform:"capitalize",padding:e.spacing(.75,0,.75,1),position:"relative"},reporterColumn:{width:e.spacing(16),"& .userId":{fontWeight:400}},descriptionColumn:{width:e.spacing(50)},filterFields:{marginBottom:e.spacing(1)},stateFilter:{paddingLeft:e.spacing(2)},reporterFilter:{marginTop:e.spacing(1),width:e.spacing(50)},taskDetails:{overflowY:"auto"},stateLabel:{marginTop:e.spacing(.75)}}})),qa=function(e){var t=e.id,n=e.content,a=(0,l.v9)(Ia(t)),o=(0,r.useMemo)((function(){return a?{pending:a.loading,error:a.error}:{}}),[a]),i=o.pending,c=o.error;return r.createElement(m.Z,{container:!0,justifyContent:"space-between"},i?r.createElement(d.Z,{variant:"component",size:16,stroke:te.Z[0]}):c?r.createElement(m.Z,{item:!0},r.createElement(L.Z,{messages:c})):null,n)};qa.propTypes={id:i().number.isRequired,content:i().arrayOf(i().objectOf(i().any)).isRequired};var Va=function(e){var t=e.onSelect,n=(0,v.$)("comment").t,a=Ba(),o=a.root,i=a.stateColumn,c=a.reporterColumn,s=a.descriptionColumn,u=a.filterFields,d=a.stateFilter,p=a.reporterFilter,f=a.taskDetails,g=a.stateLabel,h=(0,l.v9)(Ke.$o).users.display_fullname,E=(0,l.v9)(At.yw),w=(0,l.v9)(ma),Z=w.indices.tasks.allTasks,C=w.data,N=(0,r.useMemo)((function(){if(Z){var e={};return Z.forEach((function(t){e[C[t].user]=!0})),Object.keys(e).map((function(e){var t=E.find((function(t){return t.id===e}));return{id:e,fullName:(0,ve.eo)(t||{id:e,fullName:e})}}))}return[]}),[Z,E,C]),x=za((0,r.useState)(null),2),S=x[0],k=x[1],I=(0,r.useCallback)((function(e,t){k(t)}),[]),T=(0,r.useCallback)((function(e,t){return null===e.id||e.id===t.id}),[]),A=za((0,r.useState)(null),2),j=A[0],O=A[1],M=(0,r.useCallback)((function(e,t){O(t)})),R=(0,r.useMemo)((function(){return S||j?Z.filter((function(e){return!(S&&C[e].taskState!==S||j&&C[e].user!==j.id)})):Z||[]}),[Z,C,S,j]),P=(0,l.v9)(Ke.BR),z=(0,l.v9)(b.pW),L=(0,r.useCallback)((function(e,n,a){return r.createElement(xn.Z,{react:!0,target:"".concat(P,"reviews/").concat(z).concat(n.md5?"":"/comments","?")+"".concat(n.version?"v=".concat(n.version):"")+"&commentId=".concat(n.md5?"".concat(n.md5,","):"","c").concat(e)},r.createElement(y.Z,{onClick:t,className:"taskLinkText smaller"},a))}),[P,z]);return r.createElement(m.Z,{container:!0,direction:"column",className:"taskDetailPanel ".concat(o),wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"filterContainer ".concat(u)},r.createElement(m.Z,{item:!0,className:"reporterFilter ".concat(p)},r.createElement(Tt.Z,{placeholderLabel:n("taskReporter"),optionsArray:N,optionLabel:"fullName",searchText:"fullName",selectedValue:j,onChange:M,verifySelectedOption:T})),r.createElement(m.Z,{item:!0,className:"stateFilter ".concat(d)},r.createElement(oa.Z,{value:S,onChange:I,exclusive:!0},r.createElement(ia.Z,{className:"openFilter",value:"open"},r.createElement(ba,{fill:qn.Z[500]})),r.createElement(ia.Z,{className:"addressedFilter",value:"addressed"},r.createElement(wa,{fill:Cr.Z[700]})),r.createElement(ia.Z,{className:"verifiedFilter",value:"verified"},r.createElement(Ca,{fill:Pn.Z[150]})))))),r.createElement(m.Z,{item:!0,className:"taskDetails ".concat(f)},r.createElement(Dt.Z,{size:"small"},r.createElement(aa.Z,{className:"heading"},r.createElement($t.Z,{key:"head"},r.createElement(Ft.Z,{className:i},r.createElement(y.Z,{className:"larger semiBold"},n("taskState"))),r.createElement(Ft.Z,{className:c},r.createElement(y.Z,{className:"larger semiBold"},n("taskReporter"))),r.createElement(Ft.Z,{className:s},r.createElement(y.Z,{className:"larger semiBold"},n("taskDescription"))))),r.createElement(Wt.Z,{className:"body"},R.length?R.map((function(e){var t=C[e],n=t.id,a=t.body,o=t.taskState,l=t.user,u=t.context;return r.createElement($t.Z,{key:"task-".concat(e),className:"taskRow task-".concat(e)},r.createElement(Ft.Z,{value:e,className:"state ".concat(i)},r.createElement(qa,{id:n,content:[r.createElement(m.Z,{item:!0,key:"label-".concat(n),className:g},r.createElement(y.Z,{className:"smaller"},o)),r.createElement(m.Z,{item:!0,key:"menu-".concat(n)},r.createElement(Pa,{taskState:o,id:n}))]})),r.createElement(Ft.Z,{className:"reporter ".concat(c)},r.createElement(Qn.default,{user:l,link:!1,show:{fullName:!!h}})),r.createElement(Ft.Z,{className:"description ".concat(s),value:e},r.createElement(Na.Z,{text:a},L(n,u,a))))})):r.createElement($t.Z,{key:"none"},r.createElement(Ft.Z,{colSpan:3},r.createElement(ye.Z,{variant:"plain",type:"warning",text:n("noTasks")})))))))},Ha=Va;function $a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Va.propTypes={onSelect:i().func},Va.defaultProps={onSelect:function(){}};var Da=(0,u.Z)((function(){return{button:{padding:0}}})),Fa=function(){var e,t,n=Da().button,a=(0,v.$)("comment").t,o=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1],c=(0,r.useCallback)((function(){return l(!i)}),[i]);return r.createElement(p.Z,{className:"taskList"},i?r.createElement(M,{disablePortal:!1,title:r.createElement(y.Z,{className:"large",variant:"body2"},a("tasksPanel")),handleClose:c,body:r.createElement(Ha,{onSelect:c}),footer:null,classNames:"taskListDialog"}):null,r.createElement(f.ZP,{placement:"top",arrow:!0,title:r.createElement(y.Z,{variant:"body2",className:"small"},a("taskList"))},r.createElement(k.Z,{className:n,onClick:c},r.createElement(ra,{fill:E.Z[600]}))))},Wa=function(){var e=(0,v.$)("comment").t;return r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"tasksPanelHeader"},r.createElement(m.Z,{item:!0,className:"tasksPanelTitle"},r.createElement(y.Z,{className:"medium semiBold"},e("tasksPanel"))),r.createElement(m.Z,{item:!0,className:"tasksViewItem"},r.createElement(Fa,null)))};function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ka=(0,u.Z)((function(e){return{count:{paddingLeft:e.spacing(.5)},openColor:{color:e.palette.colors.red[500]},addressedColor:{color:e.palette.colors.green[700]},verifiedColor:{color:e.palette.colors.blue[150]},tasksSummary:{padding:e.spacing(.25,1,0,.25)},tasksSummaryClosed:{padding:e.spacing(0,.5,0,0),flexWrap:"nowrap","& $count":{paddingLeft:0}}}})),Ga=function(e){var t,n,a=e.expanded,o=e.selector,i=Ka(),c=i.count,s=i.openColor,u=i.addressedColor,d=i.verifiedColor,p=i.tasksSummary,f=i.tasksSummaryClosed,v=(0,l.v9)(o()),g=v.open,h=v.addressed,b=v.verified,E=(t=(0,r.useMemo)((function(){return[a?"row":"column",g?g.length>99?"99+":g.length:0,h?h.length>99?"99+":h.length:0,b?b.length>99?"99+":b.length:0,a?p:f]}),[g,h,b,a]),n=5,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=E[0],Z=E[1],C=E[2],N=E[3],x=E[4];return r.createElement(m.Z,{container:!0,className:"tasksPanelSummary",direction:w},r.createElement(m.Z,{item:!0,className:"openTasks"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(x),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(ba,{size:14,fill:qn.Z[500]})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(c," ").concat(s)},Z)))),r.createElement(m.Z,{item:!0,className:"addressedTasks"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(x),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(wa,{size:14,fill:Cr.Z[700]})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(c," ").concat(u)},C)))),r.createElement(m.Z,{item:!0,className:"verifiedTasks"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(x),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(Ca,{size:14,fill:Pn.Z[150]})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(c," ").concat(d)},N)))))},Ja=Ga;Ga.propTypes={expanded:i().bool,selector:i().func.isRequired},Ga.defaultProps={expanded:!0};var _a=(0,u.Z)((function(e){return{tasksPanelContainerCollapsed:{padding:e.spacing(0,.5,.5,.75)},tasksPanelContainerExpanded:{padding:e.spacing(0,3,0,2.5)}}})),Xa=function(e){var t=_a(),n=t.tasksPanelContainerExpanded,a=t.tasksPanelContainerCollapsed,o=e.expanded,i=e.selector,l="tasksPanelContainer ".concat(o?n:a);return r.createElement(m.Z,{container:!0,direction:"column",className:l},o?r.createElement(m.Z,{item:!0},r.createElement(Wa,null)):null,r.createElement(m.Z,{item:!0},r.createElement(Ja,{expanded:o,selector:i})))},Ya=Xa;Xa.propTypes={expanded:i().bool,selector:i().func.isRequired},Xa.defaultProps={expanded:!0};var Qa=function(e){return e.reviewSelector},eo=function(e){return e.reviewSelector.to},to=function(e){return e.reviewSelector.from},no=function(e){return e.testRuns.data},ro=function(e){return e.testRuns.summary},ao=function(e){return e.testRuns.loading},oo=function(e){return e.testRuns.requests},io=n(70473),lo=n(80615),co=n(16598),so=n(34906),uo=n(57107);function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var po=(0,u.Z)((function(e){return{passColor:{color:e.palette.colors.green[500],paddingLeft:e.spacing(.5)},failColor:{color:e.palette.colors.red[600],paddingLeft:e.spacing(.5)},manualColor:{color:e.palette.colors.blue[500],paddingLeft:e.spacing(.5)},runningColor:{color:e.palette.colors.grey[600],paddingLeft:e.spacing(.5)},alignTop:{verticalAlign:"top"},messageAction:{width:e.spacing(2)}}})),fo=function(e){var t,n,a=e.test,o=a.id,i=a.test,c=a.status,s=a.url,u=a.title,d=a.messages,p=a.version,g=(0,l.v9)(function(e){return(0,Tn.P1)(oo,(function(t){var n;return null!==(n=t[e])&&void 0!==n?n:null}))}(o)),h=po(),w=h.passColor,Z=h.failColor,C=h.manualColor,N=h.runningColor,x=h.alignTop,S=h.messageAction,k=(0,v.$)("test").t,I=(0,l.I0)(),T=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=T[0],j=T[1],O=(0,l.v9)($.qG),M=(0,l.v9)(b.jj),R=(0,r.useMemo)((function(){return p===M.length}),[p,M]),P=(0,r.useCallback)((function(e){switch(e.toLowerCase()){case"pass":return r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(lo.default,{size:14})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(w)},k("pass"))));case"fail":return r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(io.default,{size:14})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(Z)},k("fail"))));case"notstarted":return r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(so.Z,{size:14,direction:"right",fill:Pn.Z[500]})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title  ".concat(C)},k("manual"))));default:return r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(co.default,{size:14,stroke:E.Z[600],animated:!1})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(N)},k("running"))))}}),[c]),z=(0,r.useMemo)((function(){return"notstarted"!==c.toLowerCase()?k("rerunTest"):k("runTest")})),B=(0,r.useMemo)((function(){return k(A?"hideMessages":"showMessages")})),q="running"===c.toLowerCase(),V=(0,r.useMemo)((function(){return Number.isNaN(parseInt(i,10))}),[i]),H=(0,r.useMemo)((function(){return s?r.createElement(xn.Z,{variant:"_blank",target:s},r.createElement(y.Z,{className:"testLinkText smaller"},u)):r.createElement(y.Z,{className:"testLinkText smaller"},u)}),[s]),D=(0,r.useMemo)((function(){var e;return(null==d?void 0:d.length)>0||(null==g||null===(e=g.error)||void 0===e?void 0:e.length)>0}),[g,d]);return r.createElement(r.Fragment,null,r.createElement($t.Z,{key:"test-".concat(o),className:"testRow test-".concat(o)},r.createElement(Ft.Z,{className:"messagesAction ".concat(x," ").concat(S)},D?r.createElement(f.ZP,{title:B,arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(m.Z,{className:"showHideMessages",item:!0,onClick:function(){j(!A)},xs:!0},A?r.createElement(ne.Z,{direction:"up"}):r.createElement(ne.Z,{direction:"down"}))):null),r.createElement(Ft.Z,{value:o,className:"status ".concat(x)},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0,className:"statusItem"},P(c)))),r.createElement(Ft.Z,{className:"title"},r.createElement(Na.Z,{text:u},H)),r.createElement(Ft.Z,{className:"rerun ".concat(x),value:o,align:"right"},r.createElement(m.Z,{container:!0,direction:"row"},O&&!q&&!V&&R?r.createElement(f.ZP,{title:z,arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(m.Z,{item:!0,xs:!0,align:"right",className:"rerunButton",onClick:function(){I((0,uo.IG)({id:o}))}},r.createElement(so.Z,{size:14,direction:"right",fill:Pn.Z[500]}))):null))),A&&(null==d?void 0:d.length)>0?r.createElement($t.Z,{key:"test-".concat(o,"-messages-row"),className:"testRowMessages test-".concat(o,"messages")},r.createElement(Ft.Z,{className:"messages",colSpan:4},r.createElement(y.Z,{className:"larger semiBold"},k("messages")),d.map((function(e){return r.createElement(Na.Z,{key:e,text:e},r.createElement(y.Z,{className:"testMessageText smaller"},e))})))):null,A&&g&&!1===g.loading?r.createElement($t.Z,{key:"test-".concat(o,"-request-error-row"),className:"testRowRequestErrors test-".concat(o,"request-error")},r.createElement(Ft.Z,{className:"request-error",colSpan:4},r.createElement(L.Z,{messages:g.error}))):null)},vo=fo;fo.propTypes={test:i().shape({id:i().number,status:i().string,test:i().string,url:i().string,title:i().string,messages:i().arrayOf(i().oneOfType([i().any])),version:i().number})},fo.defaultProps={test:{}};var go=(0,u.Z)((function(e){return{root:{maxWidth:e.spacing(80),width:e.spacing(80),paddingBottom:e.spacing(2),minHeight:e.spacing(50),"& .MuiTableCell-sizeSmall":{padding:e.spacing(.75,1,.75,1)}},statusColumn:{width:e.spacing(11),minWidth:e.spacing(11),textTransform:"capitalize",padding:e.spacing(.75,0,.75,1),position:"relative"},rerrunColumn:{width:e.spacing(2)}}})),yo=function(){var e=(0,v.$)("test").t,t=go(),n=t.root,a=t.statusColumn,o=t.rerrunColumn,i=(0,l.v9)(no);return r.createElement(m.Z,{container:!0,direction:"column",className:"testDetailPanel ".concat(n),wrap:"nowrap"},r.createElement(m.Z,{item:!0,className:"testDetails"},r.createElement(Dt.Z,{size:"small"},r.createElement(aa.Z,{className:"heading"},r.createElement($t.Z,{key:"head"},r.createElement(Ft.Z,null),r.createElement(Ft.Z,{className:"statusHeader ".concat(a)},r.createElement(y.Z,{className:"larger semiBold"},e("testStatus"))),r.createElement(Ft.Z,{className:"titleHeader"},r.createElement(y.Z,{className:"larger semiBold"},e("testTitle"))),r.createElement(Ft.Z,{align:"right",className:"rerunHeader ".concat(o)}))),r.createElement(Wt.Z,{className:"body"},i.map((function(e){return r.createElement(vo,{key:e.id,test:e})}))))))};function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bo=(0,u.Z)((function(){return{button:{padding:0}}})),Eo=function(){var e,t,n=bo().button,a=(0,v.$)("test").t,o=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ho(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1],c=(0,r.useCallback)((function(){return l(!i)}),[i]);return r.createElement(p.Z,{className:"testRunsList"},i?r.createElement(M,{disablePortal:!1,title:r.createElement(y.Z,{className:"large",variant:"body2"},a("testRunsPanel")),handleClose:c,body:r.createElement(yo,null),footer:null,classNames:"testRunsDialog"}):null,r.createElement(f.ZP,{placement:"top",arrow:!0,title:r.createElement(y.Z,{variant:"body2",className:"small"},a("testRunsList"))},r.createElement(k.Z,{className:n,onClick:c},r.createElement(ra,{fill:E.Z[600]}))))},wo=function(){var e=(0,v.$)("test").t;return r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"testRunsPanelHeader"},r.createElement(m.Z,{item:!0,className:"testRunsPanelTitle"},r.createElement(y.Z,{className:"medium semiBold"},e("testRunsPanel"))),r.createElement(m.Z,{item:!0,className:"testRunsViewItem"},r.createElement(Eo,null)))};function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Co=(0,u.Z)((function(e){return{count:{paddingLeft:e.spacing(.5)},passColor:{color:e.palette.colors.green[500]},failColor:{color:e.palette.colors.red[600]},manualColor:{color:e.palette.colors.blue[500]},runningColor:{color:e.palette.colors.grey[600]},summary:{padding:e.spacing(.25,1,0,.25)},summaryClosed:{padding:e.spacing(0,.5,0,0),flexWrap:"nowrap","& $count":{paddingLeft:0}}}})),No=function(e){var t,n,a=e.expanded,o=Co(),i=o.count,c=o.passColor,s=o.failColor,u=o.manualColor,d=o.runningColor,p=o.summary,f=o.summaryClosed,g=(0,v.$)("test").t,h=(0,l.v9)(ro),b=h.pass,w=h.fail,Z=h.notstarted,C=h.running,N=(t=(0,r.useMemo)((function(){return[{count:b>99?"99+":b,text:a?g("pass"):""},{count:w>99?"99+":w,text:a?g("fail"):""},{count:Z>99?"99+":Z,text:a?g("manual"):""},{count:C>99?"99+":C,text:a?g("running"):""},a?p:f]}),[a,b,w,Z,C]),n=5,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=N[0],S=N[1],k=N[2],I=N[3],T=N[4];return r.createElement(m.Z,{container:!0,className:"testRunsPanelSummary",direction:"column"},r.createElement(m.Z,{item:!0,className:"passTests"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(T),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(lo.default,{size:14})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(i," ").concat(c)},x.text)))),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(i," ").concat(c)},x.count)))),r.createElement(m.Z,{item:!0,className:"failedTests"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(T),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(io.default,{size:14})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(i," ").concat(s)},S.text)))),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(i," ").concat(s)},S.count)))),r.createElement(m.Z,{item:!0,className:"manualTests"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(T),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(so.Z,{size:14,direction:"right",fill:Pn.Z[500]})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(i," ").concat(u)},k.text)))),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(i," ").concat(u)},k.count)))),r.createElement(m.Z,{item:!0,className:"runningTests"},r.createElement(m.Z,{container:!0,direction:"row",className:"summary ".concat(T),justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},r.createElement(co.default,{size:14,stroke:E.Z[600],animated:!1})),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller title ".concat(i," ").concat(d)},I.text)))),r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:"smaller count ".concat(i," ").concat(d)},I.count)))))},xo=No;function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}No.propTypes={expanded:i().bool},No.defaultProps={expanded:!0};var ko=(0,u.Z)((function(e){return{containerCollapsed:{padding:e.spacing(0,.5,.5,.75)},containerExpanded:{padding:e.spacing(0,3,0,2.5)}}})),Io=function(e){var t,n,a=ko(),o=a.containerExpanded,i=a.containerCollapsed,c=e.expanded,s=(t=(0,r.useMemo)((function(){return c?["testRunsPanelContainer ".concat(o),r.createElement(m.Z,{item:!0},r.createElement(wo,null)),"default"]:["testRunsPanelContainer ".concat(i),null,"icon"]}),[c]),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],p=s[1],f=s[2],v=(0,l.v9)(ao);return r.createElement(m.Z,{container:!0,direction:"column",className:u},p,r.createElement(m.Z,{item:!0},v?r.createElement(d.Z,{variant:f}):r.createElement(xo,{expanded:c})))},To=Io;Io.propTypes={expanded:i().bool},Io.defaultProps={expanded:!0};var Ao=(0,C.Z)((function(e){return{expander:{"& .footerMenuButtonBox":{fill:e.palette.colors.grey[300],backgroundColor:e.palette.colors.grey[40],"&:hover":{fill:e.palette.colors.grey[800]}}}}})),jo=function(){var e=Ao().expander,t=(0,l.I0)(),n=(0,l.v9)(pn),a=(0,l.v9)(eo),o=(0,l.v9)((0,b.U9)(a)),i=(0,r.useMemo)((function(){var e=[r.createElement(ta,null),r.createElement(Ya,{expanded:n,selector:fa})];return o&&e.push(r.createElement(To,{expanded:n})),e}),[o,a,n]);return r.createElement(yn,{open:n,items:i,expander:r.createElement(p.Z,{className:e},r.createElement(mn.Z,{toggleFunction:function(){t((0,dn.g)(!n))},variant:n?"right":"left"}))})},Oo=n(15222),Mo=n(75017);function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Po=(0,C.Z)((function(e){return{root:{"&.filePath":{color:e.palette.colors.grey[400]},"& .pathElement":{padding:e.spacing(0,.25),wordBreak:"break-all"},"&.relativeFilePath .lastPathElement, & .rev":{color:e.palette.colors.black[100],paddingRight:0},"& .lastPathElement, & .rev":{paddingRight:0},"& .rev":{paddingLeft:0}}}})),zo=function(e){var t=e.classNames,n=e.value;return r.createElement(m.Z,{item:!0,className:"pathSection ".concat(t)},r.createElement(y.Z,{variant:"body2",className:"medium semiBold"},n))};zo.propTypes={classNames:i().string.isRequired,value:i().string},zo.defaultProps={value:null};var Lo=function(e){var t,n,a=(0,l.v9)(Gt.kW),o=e.name,i=e.rev,c=e.variant,s=e.link,u=Po().root,d=(t=(0,r.useMemo)((function(){return[("absolute"===c?a:o.substring(a.length)).split("/").filter((function(e){return e.length>0})),"relative"===c?o:null]}),[c,a]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],v=d[1],g="files",h=g,b=(0,r.useMemo)((function(){return"default"===c?null:r.createElement(m.Z,{item:!0},"relative"===c?r.createElement(y.Z,{variant:"body2",className:"medium semiBold"},"./"):s?r.createElement(xn.Z,{target:g},r.createElement(zo,{classNames:"depotRoot",value:"//"})):r.createElement(y.Z,{variant:"body2",className:"medium semiBold"},"//"))}),[c,s]);return r.createElement(f.ZP,{arrow:!0,placement:"top",title:v?r.createElement(y.Z,{className:"fileNameTooltip medium"},v):""},r.createElement(m.Z,{container:!0,direction:"row",className:"filePath ".concat(u," ").concat(c,"FilePath")},b,("default"===c?p.slice(-1):p).map((function(e,t){h+="/".concat(e);var n=(0,r.useMemo)((function(){return t+1===p.length||"default"===c}),[t]);return r.createElement(m.Z,{item:!0,key:"path-".concat(e),className:"pathElement ".concat(n?"lastPathElement":"")},s?r.createElement(y.Z,{variant:"body2",className:"medium semiBold"},r.createElement(xn.Z,{target:h},"".concat(e).concat(n?"":"/"))):r.createElement(y.Z,{variant:"body2",className:"medium semiBold"},"".concat(e).concat(n?"":"/")))})),i?r.createElement(m.Z,{item:!0,className:"rev"},r.createElement(y.Z,{variant:"body2",className:"medium"},i)):null))},Bo=Lo;Lo.propTypes={name:i().string,rev:i().string,link:i().bool,variant:i().oneOf(["absolute","relative","default"])},Lo.defaultProps={name:void 0,rev:void 0,variant:"default",link:!1};var qo=n(39204),Vo=n(66860),Ho=n(29122),$o=(0,C.Z)((function(e){return{root:{"& .svgIcon":{margin:e.spacing(0,.5)}},add:{color:e.palette.colors.green[700]},edit:{color:e.palette.colors.blue[500]},delete:{color:e.palette.colors.red[700]}}})),Do=function(e){var t,n,a,o,i,l=e.addCount,c=e.deleteCount,s=e.editCount,u=e.limited,d=e.variant,p=$o(),f=(0,r.useMemo)((function(){return u?">":""}),[u]),v=(0,r.useMemo)((function(){return"icon"===d?{adornment:{add:r.createElement(qo.Z,null),edit:r.createElement(Vo.Z,null),delete:r.createElement(Ho.Z,null)},countPrefix:{}}:{adornment:{},countPrefix:{add:"+",delete:"-"}}}),[d]),g=v.adornment,h=v.countPrefix;return r.createElement(m.Z,{container:!0,direction:"row",className:"diffSummary ".concat(p.root," ").concat(p[d]),justifyContent:"space-between",spacing:1},r.createElement(m.Z,{item:!0,className:"addCount ".concat(p.add)},null!==(t=g.add)&&void 0!==t?t:null,r.createElement(y.Z,{className:"smaller",variant:"caption"},"".concat(null!==(n=h.add)&&void 0!==n?n:"").concat(f).concat(l))),r.createElement(m.Z,{item:!0,className:"editCount ".concat(p.edit)},null!==(a=g.edit)&&void 0!==a?a:null,r.createElement(y.Z,{className:"smaller",variant:"caption"},"".concat(f).concat(s))),r.createElement(m.Z,{item:!0,className:"deleteCount ".concat(p.delete)},null!==(o=g.delete)&&void 0!==o?o:null,r.createElement(y.Z,{className:"smaller",variant:"caption"},"".concat(null!==(i=h.delete)&&void 0!==i?i:"").concat(f).concat(c))))};Do.propTypes={addCount:i().number.isRequired,editCount:i().number.isRequired,deleteCount:i().number.isRequired,limited:i().bool,variant:i().string},Do.defaultProps={limited:!1,variant:"text"};var Fo=Do,Wo=function(){var e,t=(0,l.v9)(b.yA),n=t.versions,a=t.changes,o=(0,l.v9)(Qa),i=o.to,c=o.from,s=null!==(e=n[i-1])&&void 0!==e?e:{pending:!0,change:a[0]};if((null!=c?c:0)>0){var u,m=null!==(u=n[c-1])&&void 0!==u?u:{pending:!0,change:a[0]};return r.createElement(fe.c,{ns:"review",i18nKey:"revisionChangeRangeDescription",components:[r.createElement(xn.Z,{target:"changes/".concat(m.change)},m.change),r.createElement(xn.Z,{target:"changes/".concat(s.change)},s.change)],values:{to:i,toId:s.change,toType:s.pending?"shelf":"commit",fromId:m.change,from:c,fromType:m.pending?"shelf":"commit"}})}return r.createElement(fe.c,{ns:"review",i18nKey:"revisionChangeDescription",components:[r.createElement(xn.Z,{target:"changes/".concat(s.change)},s.change)],values:{to:i,toId:s.change,toType:s.pending?"shelved":"committed"}})},Uo=(0,u.Z)((function(e){return{root:{backgroundColor:e.palette.colors.grey[70],border:"1px solid",borderColor:e.palette.colors.grey[40],borderBottom:"none",borderRadius:"3px 3px 0 0",padding:e.spacing(1),margin:0}}})),Ko=function(){var e=Uo().root,t=(0,l.v9)(Gt.Tc),n=(0,l.v9)(Gt.NH),a=(0,r.useMemo)((function(){return t||{}}),[t]),o=a.edited,i=a.added,c=a.deleted,s=a.limited,u=(0,r.useMemo)((function(){return n?r.createElement(d.Z,null):r.createElement(Bo,{variant:"absolute",link:!0})}),[n]);return r.createElement(m.Z,{container:!0,direction:"row",className:"reviewChangeInfoBar ".concat(e),justifyContent:"space-between",spacing:1},r.createElement(m.Z,{item:!0,className:"info"},r.createElement(m.Z,{container:!0,direction:"row",spacing:1},r.createElement(m.Z,{item:!0,className:"changeInfo"},r.createElement(Wo,null)),r.createElement(m.Z,{item:!0,className:"fileName"},u))),r.createElement(m.Z,{item:!0},t&&"edited"in t?r.createElement(Fo,{variant:"icon",addCount:i,editCount:o,deleteCount:c,limited:s}):null))},Go=n(84045),Jo=(0,u.Z)((function(e){return{root:{height:e.spacing(4),"& .MuiTypography-root":{lineHeight:e.spacing(2).toString().concat("px")}},overFlowHidden:{overflow:"hidden",whiteSpace:"nowrap"}}})),_o=function(e){var t=e.index,n=e.user,a=e.pending,o=e.change,i=e.timestamp,c=Jo(),s=(0,v.$)("review").t,u=(0,l.v9)((0,At.PJ)(n));return r.createElement(p.Z,{className:"selectorItem reviewVersion ".concat(c.root)},r.createElement(y.Z,{className:"smaller firstLine"},s("versionMenuItemLine1",{index:t,user:u?(0,Qn.UserDetail)({data:u,id:n,variant:"text"}):n})),r.createElement(y.Z,{className:"small subTitle secondLine ".concat(c.overFlowHidden)},r.createElement(fe.c,{i18nKey:"review:versionMenuItemLine2",values:{type:a?"Shelved":"Committed",change:o},components:[r.createElement(Go.default,{epochSeconds:i})]})))},Xo=_o;function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_o.propTypes={index:i().number.isRequired,user:i().string.isRequired,pending:i().bool.isRequired,change:i().number.isRequired,timestamp:i().number.isRequired};var Qo=(0,u.Z)((function(e){return{button:{height:e.spacing(5),padding:e.spacing(0,2),textAlign:"left","& .selectorItem":{width:e.spacing(31)}},paper:{width:e.spacing(37.5),maxHeight:e.spacing(39)},menuItem:{padding:e.spacing(.625,2)}}})),ei=function(e){var t,n,a=e.currentVersion,o=e.presetVersions,i=e.max,c=e.versions,s=e.setVersion,u=e.isItemEnabled,m=Qo(),d=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],v=d[1],g=function(e){s(e),v(!1)},h=(0,l.v9)(b.yA),E=(0,r.useMemo)((function(){if(a>0){var e=c[a-1];return r.createElement(Xo,{index:a,user:e.user,pending:e.pending,change:e.change,timestamp:e.time})}return o.length?r.createElement(p.Z,{className:"selectorItem presetVersion"},r.createElement(y.Z,{className:"smaller"},o[a+1].text)):r.createElement(Xo,{index:a,user:h.author,pending:h.pending,change:h.changes[0],timestamp:h.created})}),[a]),w=(0,r.useMemo)((function(){for(var e=[],t=null,n=function(n){t=c[n-1],e.push(r.createElement(Q.Z,{key:"review-version-".concat(t.change),onClick:function(){return g(n)},disabled:!u(n),className:"versionMenuItem ".concat(m.menuItem)},r.createElement(Xo,{index:n,user:t.user,pending:t.pending,change:t.change,timestamp:t.time})))},a=1;a<=i;a+=1)n(a);return e}),[c,a,u]);return r.createElement(le,{open:f,name:"reviewVersionMenu",icon:E,outlined:!0,handleToggle:function(){v(!f)},menuClassName:m.paper,buttonClassName:m.button},(o||[]).map((function(e){return r.createElement(Q.Z,{key:"preset-version-".concat(e.text),onClick:function(){return g(e.version)},className:"versionMenuItem ".concat(m.menuItem)},r.createElement(p.Z,{className:"selectorItem presetVersion"},r.createElement(y.Z,{className:"smaller"},e.text)))})),w)};ei.propTypes={currentVersion:i().number.isRequired,presetVersions:i().arrayOf(i().objectOf(i().any)),max:i().number.isRequired,versions:i().arrayOf(i().objectOf(i().any)).isRequired,setVersion:i().func.isRequired,isItemEnabled:i().func.isRequired},ei.defaultProps={presetVersions:[]};var ti=ei,ni=function(e){var t=e.direction,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotate(".concat({right:0,down:90,left:180,up:270}[t],"deg)");return r.createElement("svg",{className:"svgIcon arrowIcon",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{fill:n,d:"M11.475,4.274l3.693,3.877C15.39,8.373,15.5,8.655,15.5,9c0,0.32-0.11,0.59-0.332,0.812 l-3.693,3.916c-0.221,0.219-0.487, 0.33-0.793,0.33c-0.309,0-0.573-0.111-0.796-0.33c-0.221-0.222-0.331-0.507-0.331-0.851 c0-0.345,0.111-0.628,0.33-0.851l1.774-1.845H3.645c-0.32,0-0.591-0.118-0.812-0.352C2.611,9.597,2.5,9.32,2.5,9 s0.111-0.597,0.333-0.831c0.221-0.233,0.492-0.351,0.812-0.351h8.014L9.849,5.973c-0.22-0.223-0.332-0.506-0.332-0.85 c0-0.346,0.112-0.627,0.333-0.849c0.223-0.223,0.49-0.333,0.812-0.333C10.982,3.94,11.253,4.052,11.475,4.274z"}))},ri=ni;ni.propTypes={direction:i().string,fill:i().string,size:i().number},ni.defaultProps={direction:"right",fill:E.Z[300],size:16};var ai=n(61125),oi=(0,u.Z)((function(e){return{root:{padding:e.spacing(2,0)},separator:{padding:e.spacing(1.25)}}})),ii=(0,ai.Z)().setLocation,li=function(e,t){ii(e,"reviewSelector","v",t,!0)},ci=function(e){var t=e.location,n=oi(),a=(0,l.I0)(),o=(0,l.v9)(b.jj),i=(0,r.useMemo)((function(){return o.length}),[o]),c=(0,l.v9)(to),s=(0,l.v9)(eo),u=(0,v.$)("review").t,d=(0,r.useMemo)((function(){return[{text:u("currentVersion"),version:-1},{text:u("baseVersion"),version:0}]}),[]),p=(0,r.useMemo)((function(){return function(e){return e<s}}),[s]),f=(0,r.useMemo)((function(){return function(e){return e>c}}),[c]);return r.createElement(m.Z,{className:"reviewVersionSelector ".concat(n.root),container:!0,direction:"row"},r.createElement(m.Z,{className:"fromVersionMenu",item:!0},r.createElement(ti,{currentVersion:c,presetVersions:d,max:i-1,versions:o,setVersion:function(e){li(t,{from:e,to:s}),a((0,Mo.Ob)(e))},isItemEnabled:p})),r.createElement(m.Z,{className:"versionMenuSeparator ".concat(n.separator),item:!0},r.createElement(ri,{fill:E.Z[100]})),r.createElement(m.Z,{className:"toVersionMenu",item:!0},r.createElement(ti,{currentVersion:s,versions:o,max:i,setVersion:function(e){li(t,{from:c,to:e}),a((0,Mo.$X)(e))},isItemEnabled:f})))},si=ci;ci.propTypes={location:i().objectOf(i().oneOfType([i().any]))},ci.defaultProps={location:{}};var ui=n(67328),mi=function(e){return e.fileBrowser.collapsed},di=function(e){return e.fileBrowser.selectedFile},pi=n(41285),fi=(0,C.Z)((function(e){return{fileBrowserToggle:{backgroundColor:e.palette.colors.grey[30],height:"100%","& svg":{position:"relative",top:"50%"},cursor:"pointer"}}})),vi=function(){var e=fi().fileBrowserToggle,t=(0,l.v9)(mi),n=(0,l.I0)(),a=function(){var e=!t;n((0,pi.w2)(e))};return r.createElement(p.Z,{role:"button",tabIndex:"0",className:"".concat(e," fileBrowserToggle"),onKeyPress:a,onClick:a},r.createElement(ne.Z,{size:12,direction:t?"right":"left"}))},gi=(0,C.Z)((function(e){return{fileBrowserContainer:{position:"relative",height:"100%",overflow:"hidden"},expandedBody:{overflow:"auto"},collapsedBody:{display:"none"},browserCollapse:{width:e.spacing(1.5)},browserBody:{width:e.spacing(29),"& .pathElement":{whiteSpace:"nowrap"}}}})),yi=function(e){var t=e.body,n=gi(),a=n.fileBrowserContainer,o=n.collapsedBody,i=n.expandedBody,c=n.browserBody,s=n.browserCollapse,u=(0,l.v9)(mi),d=(0,r.useMemo)((function(){return u?o:i}),[u]),p=(0,r.useMemo)((function(){return u?"closed":"opened"}),[u]);return r.createElement(m.Z,{container:!0,className:"".concat(a," fileBrowserContainer")},r.createElement(m.Z,{item:!0,className:"fileBrowserBody ".concat(c," ").concat(d," ").concat(p)},t),r.createElement(m.Z,{item:!0,className:"fileBrowserCollapse ".concat(s)},r.createElement(vi,null)))},hi=yi;yi.propTypes={body:i().node.isRequired};var bi=n(35800),Ei=n(62637),wi=function(e){return e.fileDiff},Zi=function(e){return e.fileDiff.file},Ci=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon eye",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"eyePath",fill:t,d:"M9,3c2.947,0,5.945,2.016,9,6.047c-0.725,0.844-1.186,1.374-1.387,1.594c-0.2,0.219-0.689, 0.702-1.467,1.452c-0.775,0.75-1.405,1.267-1.889,1.547c-0.482,0.281-1.117,0.578-1.908, 0.892C10.561,14.842,9.775,15, 8.999, 15c-0.964,0-1.849-0.142-2.651-0.422c-0.804-0.282-1.608-0.768-2.411-1.453 c-0.803-0.688-1.433-1.274-1.888-1.76C1.594,10.882,0.911,10.094,0,9c1.741-2.03,3.288-3.539, 4.641-4.523C5.994,3.492,7.447,3,9,3zM6.428,11.57C7.151,12.294,8.009,12.656,9, 12.656s1.842-0.362,2.552-1.086c0.71-0.723,1.064-1.58,1.064-2.571s-0.354-1.848-1.064-2.571C10.842, 5.705,9.991,5.343,9,5.343S7.158,5.705,6.448,6.428C5.739,7.152,5.384,8.008,5.384,9S5.732, 10.848,6.428,11.57z M9,7.714c0,0.375,0.12,0.683,0.362,0.924C9.604,8.879,9.911,9,10.286, 9c0.267,0,0.536-0.094,0.803-0.281V9c0,0.589-0.2,1.092-0.603,1.507C10.085,10.921,9.589, 11.129,9,11.129s-1.084-0.208-1.487-0.622C7.112,10.092,6.911,9.589,6.911,9s0.201-1.091, 0.602-1.506C7.916,7.078,8.411,6.871,9,6.871h0.322C9.107,7.138,9,7.419,9,7.714z"}))},Ni=Ci;Ci.propTypes={fill:i().string,size:i().number},Ci.defaultProps={fill:re.Z[100],size:16};var xi=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon file",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"filePath",fill:t,d:"M14.462,5.677c-0.024-0.101-0.075-0.191-0.151-0.268l-3.17-3.513c-0.025-0.026-0.115-0.077-0.268-0.153 c-0.077-0.05-0.191-0.076-0.344-0.076H4.417c-0.229,0-0.44,0.089-0.63,0.267C3.596,2.111,3.501,2.316, 3.501,2.545v12.796c0,0.253,0.095,0.483,0.286,0.688s0.401,0.305,0.63,0.305h9.282c0.228,0,0.42-0.1, 0.572-0.305c0.152-0.206,0.229-0.436,0.229-0.688v-9.32C14.5,5.867,14.484,5.753,14.462, 5.677z M10.872,3.461l2.215,2.406h-2.215V3.461z M13.277,15.111H4.722V2.888H9.65V6.02c0,0.28,0.107, 0.529,0.324,0.745c0.215,0.217,0.461,0.325,0.743,0.325h2.56V15.111z"}))},Si=xi;xi.propTypes={fill:i().string,size:i().number},xi.defaultProps={fill:E.Z[300],size:16};var ki=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon stream",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"streamPath",fill:t,d:"M3,9.7h2.2c0,0.1,0,0.1,0,0.3c0,2,1.3,1.7,2.2,1.3c0.5-0.1,2.8-1.6,4.3-1.6c2,0,3.1,0.8,3.3, 2.2v1.8 h-2.3c0.1-0.3,0.1-0.6,0-1C12,11.1,9.9,12.6,9,13.1c-1.1,0.6-2.4,0.8-3.6,0.7C3.6,13.8,2.8, 12.4,3,9.7L3,9.7z M3,4.2h2.2 c0,0.1,0,0.1,0,0.3c0,2,1.3,1.7,2.2,1.3c0.5-0.1,2.8-1.6,4.3-1.6c2,0, 3.1,0.8,3.3,2.2v1.9h-2.3c0.1-0.3,0.1-0.6,0-1 C12,5.6,9.9,7.1,9,7.6C8,8.2,6.7,8.4,5.4,8.3C3.7,8.2, 2.9,6.9,3,4.2L3,4.2z"}))},Ii=ki;ki.propTypes={fill:i().string,size:i().number},ki.defaultProps={fill:E.Z[300],size:16};var Ti=(0,C.Z)((function(e){return{root:{width:e.spacing(2.5),height:e.spacing(2.5),padding:e.spacing(.25,.125,.25,.375),"& .MuiBox-root":{position:"absolute"}},upperBadge:{width:e.spacing(1.75),height:e.spacing(1.25),transform:"translate(-35%, -25%)",backgroundColor:e.palette.colors.white[0],lineHeight:0,borderRadius:"50%","& svg":{position:"absolute",top:e.spacing(-.125),left:e.spacing(.125)}},lowerBadge:{transform:"translate(45%, 25%)"}}})),Ai=function(e){var t=e.action,n=e.read,a=Ti(),o=function(e){return"stream"===e?r.createElement(Ii,{size:18,fill:E.Z[400]}):r.createElement(Si,{size:18,fill:E.Z[400]})}(t),i=function(e){switch(e){case"add":return r.createElement(qo.Z,{size:15});case"edit":return r.createElement(Vo.Z,{size:15});case"delete":return r.createElement(Ho.Z,{size:15});default:return null}}(t);return r.createElement(p.Z,{className:"fileAction ".concat(a.root)},n?r.createElement(p.Z,{className:"upperBadge ".concat(a.badge," ").concat(a.upperBadge)},r.createElement(Ni,{size:12,fill:Cr.Z[500]})):null,r.createElement(p.Z,{className:"centerIcon"},o),i?r.createElement(p.Z,{className:"lowerBadge ".concat(a.badge," ").concat(a.lowerBadge)},i):null)},ji=Ai;Ai.propTypes={action:i().oneOf(["add","edit","delete","stream"]),read:i().bool},Ai.defaultProps={action:null,read:!1};var Oi=function(e){return e.readFiles},Mi=function(e){return(0,Tn.P1)(Oi,(function(t){return-1!==t.indexOf(e)}))},Ri=function(e){return e.readFiles.length},Pi=(0,C.Z)((function(e){return{root:{position:"relative"},actionItem:{paddingRight:e.spacing(1)},noFlexWrap:{flexWrap:"nowrap","& *":{flexWrap:"nowrap"}}}})),zi=function(e){var t=e.file,n=e.variant,a=e.nowrap,o=Pi(),i=o.actionItem,c=o.root,s=o.noFlexWrap,u=(0,r.useMemo)((function(){return function(e,t){switch(e){case"branch":case"integrate":return"1"===t?"add":"edit";case"move/add":return"add";case"move/delete":return"delete";default:return e}}("stream"===t.type?"stream":t.action,t.rev)}),[t.depotFile,t.type,t.action,t.rev]),d=(0,r.useMemo)((function(){return function(e){return"add"===e.action||"move/add"===e.action||"delete"===e.action&&null===e.rev||"stream"===e.type?"":"#".concat(e.rev)}(t)}),[t]),p=(0,l.v9)(Gt.kW),f=(0,l.v9)(Mi(t.digest));return r.createElement(m.Z,{container:!0,spacing:0,className:"fileContainer ".concat(c," ").concat(a?s:"")},r.createElement(m.Z,{item:!0,className:i},r.createElement(ji,{action:u,read:f})),r.createElement(m.Z,{item:!0},p?r.createElement(Bo,{variant:n,name:t.depotFile,rev:d}):null))},Li=zi;function Bi(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon speechBubble",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M14.833,2C15.477,2,16,2.523,16,3.166v7.182c0,0.646-0.523,1.168-1.167,1.168H7.791 L3.264, 16l-0.011-4.049H3.166C2.523,11.951,2,11.43,2,10.785V3.166C2,2.523,2.523,2,3.166,2H14.833z M13.667, 3.166H4.334 c-0.645,0-1.168,0.523-1.168,1.167l0,0v4.672c0,0.643,0.52,1.163,1.162,1.163l0, 0v2.496l2.289-2.496h7.05 c0.645,0,1.166-0.523,1.166-1.168l0,0V4.334C14.833,3.689,14.312,3.166, 13.667,3.166L13.667,3.166z"}))}zi.propTypes={file:i().objectOf(i().oneOfType([i().any])).isRequired,variant:i().string,nowrap:i().bool},zi.defaultProps={variant:"default",nowrap:!1},Bi.propTypes={fill:i().string,size:i().number},Bi.defaultProps={fill:E.Z[300],size:16};var qi={inline:"M15,14v2H3v-2H15z M15,10v2.001H3V10H15z M15,6v2H3V6H15z M15,2v2H3V2H15z",sideBySide:"M8,14v2H3v-2H8z M15,14v2h-5v-2H15z M8,10v2.001H3V10H8z M15,10v2.001h-5V10H15z M8,6v2 H3V6H8z M15,6v2h-5V6H15z M8,2v2H3V2H8z M15,2v2h-5V2H15z"},Vi=function(e){var t=e.fill,n=e.size,a=e.variant,o="".concat(n,"px"),i="".concat(n,"px");return r.createElement("svg",{className:"svgIcon ".concat(a,"Diff"),viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,width:i}},r.createElement("path",{fill:t,d:qi[a]||qi.inline}))},Hi=Vi;Vi.propTypes={fill:i().string,size:i().number,variant:i().string},Vi.defaultProps={fill:E.Z[500],size:16,variant:"inline"};var $i=n(31828),Di=function(e){return e.fileDiffOptions},Fi=function(e){return e.fileDiffOptions.expandComments},Wi=n(84022),Ui=n(29427),Ki=(0,C.Z)((function(e){return{closed:{"& $indicator":{left:e.spacing(.25),right:"auto"}},slider:function(t){return{position:"relative",width:e.spacing(4),height:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:t.backgroundColor}},indicator:{position:"absolute",top:e.spacing(.25),right:e.spacing(.25),left:"auto",width:e.spacing(1.5),height:e.spacing(1.5),borderRadius:e.spacing(1.5),backgroundColor:e.palette.colors.white[0]}}})),Gi=function(e){var t=e.on,n=e.fill,a=Ki({backgroundColor:t?n:E.Z[100]}),o=a.closed,i=a.slider,l=a.indicator,c=(0,r.useMemo)((function(){return"sliderToggle ".concat(i).concat(t?"":" ".concat(o))}),[t]);return r.createElement(p.Z,{className:c},r.createElement(p.Z,{className:"indicator ".concat(l)}))};Gi.propTypes={on:i().bool,fill:i().string},Gi.defaultProps={on:!1,fill:Cr.Z[500]};var Ji=Gi,_i=n(88721);function Xi(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xi(o,r,a,i,l,"next",e)}function l(e){Xi(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var el=(0,C.Z)((function(e){return{root:{marginTop:0,padding:e.spacing(.25,1),"& .Mui-selected$pressed":{backgroundColor:e.palette.colors.blue[50],"&:hover":{backgroundColor:e.palette.colors.blue[100]}}},change:{margin:0},button:{padding:e.spacing(1),minWidth:e.spacing(2)},toggleButton:{padding:e.spacing(.625,1),borderRadius:e.spacing(.375),borderColor:e.palette.colors.grey[200],minWidth:e.spacing(2)},pressed:{backgroundColor:e.palette.colors.blue[50],"&:hover":{backgroundColor:e.palette.colors.blue[100]}},read:{lineHeight:2.1},dropdownPreference:{lineHeight:2.1,paddingLeft:e.spacing(1)},comments:{paddingTop:e.spacing(1.25)},counterValue:{padding:e.spacing(0,0,.25,.25)}}})),tl=function(){var e,t,n,a=el(),o=a.root,i=a.button,c=a.counterValue,s=a.comments,u=a.read,d=a.dropdownPreference,h=a.pressed,b=a.toggleButton,E=(0,v.$)("files").t,w=(0,l.I0)(),Z=(0,l.v9)(Zi),C=Z.digest,N=Z.depotFile,x=(0,l.v9)(Mi(C)),S=(0,l.v9)(Ri),k=(0,l.v9)((e=N,(0,Tn.P1)(pa,(function(t){var n=t[e];return n?[].concat(la(Object.values(n.l)),la(Object.values(n.r))).reduce((function(e,t){return e.concat(t||[])}),[]).length:0})))),I=(0,l.v9)(Gt.n7),T=(0,l.v9)(Ke.Go),A=T.sideBySide,j=T.ignoreWhitespace,O=T.showSpaceAndNewLine,M=T.expandFileComments,R=(0,l.v9)(Di),P=R.columns,z=R.ignoreWhiteSpaceDiffs,L=R.showWhiteSpace,B=R.expandComments,q=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),V=q[0],H=q[1],$=function(){w((0,Wi.Bx)(1===P?2:1))},D=(0,r.useCallback)((function(){w((0,Ui.B6)(C))}),[C]);return(0,r.useEffect)((function(){void 0===P&&w((0,Wi.Bx)(A?2:1)),void 0===L&&w((0,Wi.Xk)(O)),void 0===z&&w((0,Wi.oB)(j)),void 0===B&&w((0,Wi.FJ)(M))}),[A,j,O,B]),r.createElement(m.Z,{container:!0,justifyContent:"space-between",spacing:1,className:o},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"".concat(u," small readCount")},E("filesRead",{readFileCount:S,totalFileCount:I}))),r.createElement(m.Z,{item:!0},r.createElement(f.ZP,{arrow:!0,placement:"top",title:r.createElement(y.Z,{className:"small"},E(x?"clearRead":"markRead"))},r.createElement(p.Z,null,r.createElement(g.Z,{className:"".concat(i," ").concat(x?"markUnread ".concat(h):"markRead"),variant:"outlined",onClick:D},r.createElement(Ni,null))))),r.createElement(m.Z,{item:!0},r.createElement(f.ZP,{arrow:!0,placement:"top",title:r.createElement(y.Z,{className:"small"},E(B?"collapse":"expand"))},r.createElement(p.Z,null,r.createElement(g.Z,{className:"".concat(i," ").concat(s," ")+"".concat(B?"collapseComments ".concat(h):"expandComments"),variant:"outlined",onClick:function(){w((0,Wi.FJ)(!B)),w((0,_i.x4)())}},r.createElement(Bi,null),r.createElement(y.Z,{className:"".concat(c," small")},"(".concat(k,")")))))),r.createElement(m.Z,{item:!0},r.createElement(oa.Z,{className:"diffMode",value:1===P?"inLine":"sideBySide"},r.createElement(f.ZP,{arrow:!0,placement:"top",value:"1",title:r.createElement(y.Z,{className:"small"},E("showInline"))},r.createElement(ia.Z,{onClick:$,className:"inLine ".concat(b).concat(1===P?" pressed ".concat(h):""),value:"1"},r.createElement(Hi,null))),r.createElement(f.ZP,{arrow:!0,placement:"top",value:"2",title:r.createElement(y.Z,{className:"small"},E("showSideBySide"))},r.createElement(ia.Z,{onClick:$,className:"sideBySide ".concat(b).concat(2===P?" pressed ".concat(h):""),value:"2"},r.createElement(Hi,{variant:"sideBySide"}))))),r.createElement(m.Z,{item:!0},r.createElement(le,{open:V,name:"fileDiffActionMenu",icon:r.createElement($i.Z,null),outlined:!0,disableArrow:!0,handleToggle:function(){H(!V)},tooltipOptions:{arrow:!0,placement:"top",title:r.createElement(y.Z,{className:"small"},E("moreDiffOptions"))}},r.createElement(Q.Z,{key:"whiteSpaceItem",className:"fileDiffActionItem ".concat(L?"showWhiteSpace":"hideWhiteSpace")},r.createElement(m.Z,{container:!0,justifyContent:"space-between",spacing:1},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:d,variant:"caption"},E("showWhiteSpace"))),r.createElement(m.Z,{item:!0,className:"toggle"},r.createElement(f.ZP,{arrow:!0,placement:"top",title:r.createElement(y.Z,{className:"small"},E(L?"hideWhiteSpace":"showWhiteSpace"))},r.createElement(g.Z,{className:b,disableRipple:!0,onClick:function(){w((0,Wi.Xk)(!L)),H(!1)}},r.createElement(Ji,{on:L})))))),r.createElement(Q.Z,{key:"whiteSpaceDiffsItem",className:"fileDiffActionItem "+"".concat(z?"ignoreWhiteSpaceDiffs":"showWhiteSpaceDiffs")},r.createElement(m.Z,{container:!0,justifyContent:"space-between",spacing:1},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{className:d,variant:"caption"},E("ignoreWhiteSpaceDiffs"))),r.createElement(m.Z,{item:!0,className:"toggle"},r.createElement(f.ZP,{arrow:!0,placement:"top",title:r.createElement(y.Z,{className:"small"},E(z?"showWhiteSpaceDiffs":"ignoreWhiteSpaceDiffs"))},r.createElement(g.Z,{className:b,disableRipple:!0,onClick:function(){var e=function(){var e=Yi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w((0,Wi.oB)(!z)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then(Yi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w((0,Ct.UM)());case 1:case"end":return e.stop()}}),e)})))),H(!1)}},r.createElement(Ji,{on:z})))))))))},nl=(0,C.Z)((function(e){return{root:{width:"100%",padding:e.spacing(.5,0,.5,0)},change:{margin:0,width:"100%"}}})),rl=function(){var e=nl(),t=e.root,n=e.change,a=(0,l.v9)(wi),o=a.summary,i=a.file;return r.createElement(m.Z,{className:"diffHeader ".concat(t),container:!0,justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",className:"diffHeaderChange ".concat(n),spacing:2},r.createElement(m.Z,{item:!0},r.createElement(Li,{variant:"relative",file:i,haveRead:!1})),o?r.createElement(m.Z,{item:!0},r.createElement(Fo,{addCount:o.adds,editCount:o.updates,deleteCount:o.deletes})):null)),r.createElement(m.Z,{className:"diffHeaderActions",item:!0},r.createElement(tl,null)))},al=(0,C.Z)((function(e){return{root:{minHeight:"100%"},header:{borderLeft:e.spacing(.125,"solid",e.palette.colors.grey[40])},body:{borderTop:e.spacing(.125,"solid",e.palette.colors.grey[40]),flexGrow:1},fileComment:{border:e.spacing(.125,"solid",e.palette.colors.grey[40]),borderRight:"none",borderBottom:"none","& .commentForm":{width:"100%",margin:0}},noFileSelected:{margin:e.spacing(2)}}})),ol=function(e){var t=e.fileComments,n=e.fileBody,a=(0,v.$)("review").t,o=al(),i=o.header,c=o.body,s=o.root,u=o.fileComment,f=o.noFileSelected,g=(0,l.v9)(wi),y=g.loading,h=g.error,b=g.file;return r.createElement(bi.ErrorBoundary,{FallbackComponent:Ei.Z},y?r.createElement(d.Z,null):h?r.createElement(L.Z,{messages:h}):b.depotFile?r.createElement(m.Z,{container:!0,className:"fileDiff ".concat(s),direction:"column"},r.createElement(m.Z,{item:!0,className:"fileDiffHeader ".concat(i)},r.createElement(rl,null)),r.createElement(m.Z,{item:!0,className:"fileDiffBody ".concat(c)},n),t?r.createElement(m.Z,{item:!0,className:"fileDiffComments ".concat(u)},t):null):r.createElement(p.Z,{className:"noFile ".concat(f)},r.createElement(ye.Z,{variant:"plain",type:"warning",text:a("noFileSelected")})))};ol.propTypes={fileComments:i().node,fileBody:i().node.isRequired},ol.defaultProps={fileComments:null};var il=ol,ll=n(4118),cl=n(47878),sl=n(54159),ul=(0,u.Z)((function(e){return{fileBox:{paddingLeft:e.spacing(1),cursor:"pointer"},selected:{backgroundColor:e.palette.colors.blue[50]}}})),ml=function(e){var t,n=e.files,a=e.handleChange,o=ul(),i=o.fileBox,c=o.selected,s=null===(t=(0,l.v9)(di))||void 0===t?void 0:t.depotFile;return(0,r.useMemo)((function(){return n.map((function(e,t){var n=s?e.depotFile===s:0===t;return r.createElement(sl.Z,{key:"fileList-renderIfVisible-".concat(e.depotFile)},r.createElement(p.Z,{key:"fileList-".concat(e.depotFile),className:"".concat(i," fileBox ").concat(n?"".concat(c," selected"):""),onClick:function(){return a(t)}},r.createElement(Li,{file:e,variant:"relative",nowrap:!0})))}))}),[n,s])},dl=ml;function pl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){if(e){if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vl(e,t):void 0}}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ml.propTypes={files:i().arrayOf(i().oneOfType([i().any])).isRequired};var gl=(0,C.Z)((function(e){return{fileBrowserBody:{height:"100%"},search:{padding:e.spacing(1,2)},fileListContainer:{flexGrow:1,maxHeight:e.spacing(60),minHeight:e.spacing(60)},noFiles:{margin:e.spacing(0,2)}}})),yl=function(e){var t,n,a=e.files,o=e.handleChangeAction,i=e.loading,c=(0,v.$)("files").t,s="alt+n",u="".concat("alt+p",",").concat(s),f=gl({keyHint:c("hotkeys",{hotkeys:u})}),g=f.fileBrowserBody,y=f.search,h=f.fileListContainer,b=f.noFiles,E=(t=(0,r.useState)({files:a,fileIndex:pl(a.keys())}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||fl(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=E[0],Z=E[1],C=(0,l.I0)(),N=(0,l.v9)(Zi),x=function(e){C(o(w.fileIndex[e]))};return r.createElement(m.Z,{container:!0,direction:"column",spacing:0,className:"".concat(g," fileBrowserBody")},r.createElement(m.Z,{item:!0,className:"fileSearchInput ".concat(y)},r.createElement(cl.Z,{changeHandler:function(e){if(e&&a.length>0){var t=e.toLowerCase(),n=[],r=a.filter((function(e,r){return-1!==e.depotFile.toLowerCase().indexOf(t)&&(n.push(r),!0)}));Z({files:r,fileIndex:n})}else Z({files:a,fileIndex:pl(a.keys())})},placeholder:c("filter")})),r.createElement(m.Z,{item:!0,className:"".concat(h," fileListContainer"),tabIndex:0},r.createElement(ll.Z,{keyName:u,onKeyDown:function(e){var t=w.files,n=w.fileIndex;if(0!==t.length&&"undefined"!==N.depotFile){var r=t.findIndex((function(e){return e.depotFile===N.depotFile})),a=e===s?Math.min(r+1,t.length-1):Math.max(r-1,0);a!==r&&x(n[a])}}},i?r.createElement(d.Z,null):w&&w.files.length>0?r.createElement(dl,{files:w.files,handleChange:x}):r.createElement(p.Z,{className:b},r.createElement(ye.Z,{variant:"plain",type:"warning",text:c(0===a.length?"noFiles":"noFilteredFiles")})))))},hl=yl;yl.propTypes={files:i().arrayOf(i().oneOfType([i().any])).isRequired,handleChangeAction:i().func.isRequired,loading:i().bool.isRequired};var bl=n(93379),El=n.n(bl),wl=n(7795),Zl=n.n(wl),Cl=n(90569),Nl=n.n(Cl),xl=n(3565),Sl=n.n(xl),kl=n(19216),Il=n.n(kl),Tl=n(44589),Al=n.n(Tl),jl=n(94701),Ol={};Ol.styleTagTransform=Al(),Ol.setAttributes=Sl(),Ol.insert=Nl().bind(null,"head"),Ol.domAPI=Zl(),Ol.insertStyleElement=Il(),El()(jl.Z,Ol),jl.Z&&jl.Z.locals&&jl.Z.locals;var Ml=n(67019),Rl=n(47381),Pl=function(e){return e.fileContent.content},zl=function(e){return e.fileContent.lineCount},Ll=function(e){var t=e.direction,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotate(".concat({vertical:0,horizontal:90}[t],"deg)");return r.createElement("svg",{className:"svgIcon dotBetweenChevrons",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,transform:l,width:i}},r.createElement("path",{fill:n,d:"M4.4,10.5L9,15.2l4.6-4.7l1.4,1.4L9,18l-6-6.1L4.4,10.5z M9,7.5c0.8,0,1.5,0.7,1.5,1.5 S9.8,10.5,9, 10.5S7.5,9.8,7.5,9S8.2,7.5,9,7.5z M9,0l6,6.1l-1.4,1.4L9,2.8L4.4,7.5L3,6.1L9,0z"}))},Bl=Ll;Ll.propTypes={direction:i().string,fill:i().string,size:i().number},Ll.defaultProps={direction:"vertical",fill:E.Z[300],size:16};var ql=(0,C.Z)((function(e){return{moreContent:{padding:0,margin:0,lineHeight:1,border:e.spacing(.125,"solid",e.palette.colors.grey[40]),"&:last-child":{borderRightColor:"transparent"},"&.first":{borderTopColor:"transparent"},"&.last":{borderBottomColor:"transparent"},backgroundColor:e.palette.colors.grey[70]},moreButton:{height:e.spacing(2.75),width:e.spacing(2.75),minWidth:e.spacing(2.75),borderRadius:0,padding:e.spacing(.25,.375,.375,.375),margin:0,lineHeight:.8,borderRight:e.spacing(.125,"solid",e.palette.colors.grey[40]),backgroundColor:e.palette.colors.white[0]},moreText:{lineHeight:1.84,color:e.palette.colors.grey[250],paddingLeft:e.spacing(1)}}})),Vl=function(e){var t=e.first,n=e.last,a=e.inline,o=e.lineData,i=o.previousEnd,c=o.currentStart,s=o.currentEnd,u=e.onExpand,d=ql(),p=d.moreContent,h=d.moreButton,b=d.moreText,E=(0,l.v9)(Ke.$o).reviews,w=(0,l.v9)(zl),Z=(E?E.more_context_lines:null)||10,C=(0,v.$)("files").t,N=t?c-i:n?w-s:c-i,x=N>Z?Z:N,S=(0,r.useMemo)((function(){return[{id:"beginning",label:C("toBeginning"),icon:r.createElement(ne.Z,{variant:"double",direction:"up",size:14})},{id:"above",label:C("linesAbove",{lines:x}),icon:r.createElement(ne.Z,{size:14})},{id:"expand",label:C("expandSection"),icon:r.createElement(Bl,{size:12})},{id:"below",label:C("linesBelow",{lines:x}),icon:r.createElement(ne.Z,{direction:"up",size:14})},{id:"end",label:C("toEnd"),icon:r.createElement(ne.Z,{variant:"double",size:14})}].filter((function(e,r){return t?c>1&&(0===r||3===r):n?w>s&&(1===r||4===r):r>0&&r<4}))}),[c,s,x]);return 0===S.length?null:r.createElement("tbody",null,r.createElement("tr",{className:"moreContent"},(a?["single"]:["left","right"]).map((function(e){return r.createElement("td",{key:e,colSpan:a?4:2,className:"".concat(p).concat(t?" first":"").concat(n?" last":""," ").concat(e,"HandSide")},r.createElement(m.Z,{container:!0,justifyContent:"flex-start"},S.map((function(e){return r.createElement(f.ZP,{key:e.id,placement:"top",arrow:!0,title:e.label},r.createElement(m.Z,{item:!0},r.createElement(g.Z,{className:"".concat(h," ").concat(e.id,"Button"),role:"button",onClick:function(){return function(e){var t={};switch(e){case"beginning":t.start=1,t.end=c;break;case"below":t.start=c-x>0?c-x:1,t.end=c;break;case"above":t.start=n?s:i,t.end=t.start+x;break;case"end":t.start=s,t.end=w;break;default:t.start=i,t.end=c}u(t.start,t.end)}(e.id)},disabled:!u},e.icon)))})),n&&s===w?null:r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"caption",className:b},C(t?"linesHiddenAbove":n?"linesHiddenBelow":"linesBetween",{linesBetween:N})))))}))))};Vl.propTypes={first:i().bool,inline:i().bool,last:i().bool,lineData:i().shape({previousEnd:i().number.isRequired,currentStart:i().number.isRequired,currentEnd:i().number.isRequired}).isRequired,onExpand:i().func},Vl.defaultProps={first:!1,inline:!1,last:!1,onExpand:void 0};var Hl=Vl,$l=n(98695),Dl=n.n($l);function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(86675);var Kl=/(?:\.([^.]+))?$/;function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jl=(0,C.Z)((function(e){return{root:{"& table.diff":{width:"100%",tableLayout:"auto",borderBottom:e.spacing(.5,"solid",e.palette.colors.grey[40]),fontSize:"0.8em"},"& .diff-gutter":{padding:e.spacing(0,.5),color:e.palette.colors.grey[300],backgroundColor:e.palette.colors.grey[30],borderLeft:e.spacing(.125,"solid",e.palette.colors.grey[40]),borderRight:e.spacing(.125,"solid",e.palette.colors.grey[40]),textAlign:"right","&.diff-gutter-delete":{background:e.palette.colors.red[20],color:"inherit"},"&.diff-gutter-insert":{background:e.palette.colors.green[20],color:"inherit"}},"& .diff-gutter-col":{width:e.spacing(8.25)},"& .diff-code":{paddingLeft:e.spacing(.5),color:e.palette.colors.grey[300],backgroundColor:e.palette.background.default,"&.diff-code-delete":{backgroundColor:e.palette.colors.red[50],color:"inherit","& .diff-code-edit":{backgroundColor:e.palette.colors.red[500]}},"&.diff-code-insert":{backgroundColor:e.palette.colors.green[40],color:"inherit","& .diff-code-edit":{backgroundColor:e.palette.colors.green[500]}},"& .diff-code-mark":{color:e.palette.colors.grey[300],wordBreak:"break-all","&.diff-code-mark-carriage-return-newline::before":{content:"'\\21B5'"},"&.diff-code-mark-carriage-return::before":{content:"'\\2190'"},"&.diff-code-mark-newline::before":{content:"'\\2193'"},"&.diff-code-mark-tab::before":{content:"'\\21E5'"},"&.diff-code-mark-space::before":{content:"'\\B7'"}}},"& .diffMessages":{padding:e.spacing(2)}},swarmSideBySideEdit:{"& .diff-gutter":{"&.diff-gutter-delete, &.diff-gutter-insert":{background:e.palette.colors.blue[30]}},"& .diff-code.diff-code-delete, & .diff-code.diff-code-insert":{backgroundColor:e.palette.colors.blue[50],"& .diff-code-edit":{backgroundColor:e.palette.colors.blue[125]}},"& table.diff":{tableLayout:"fixed"}},commentIcon:{minWidth:e.spacing(2.5),paddingRight:e.spacing(.5)}}})),_l=function(e){var t,n,a=(0,l.I0)(),o=e.eventHandlers,i=e.getWidget,c=e.hasComment,s=e.reindexComments,u=Jl(),d=u.root,p=u.swarmSideBySideEdit,f=u.commentIcon,g=(0,v.$)("files").t,y=(0,l.v9)(wi),h=(0,l.v9)(Pl),b=(0,l.v9)(Di),E=b.columns,w=b.showWhiteSpace,Z=(t=(0,ui._8)(y.diff.hunks,h),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=Z[0],N=Z[1],x=(0,r.useMemo)((function(){return function(e,t,n){if(e){var r="",a=Kl.exec(t)[1];if(t&&(a||t))switch((a||t).toLowerCase()){case"h":case"c":r="c";break;case"java":r="java";break;case"py":r="python";break;case"hpp":case"cpp":case"cc":r="cpp";break;case"cs":case"dotnet":r="csharp";break;case"yml":case"yaml":r="yaml";break;case"xml":case"htm":case"html":case"phtml":case"md":case"markdown":r="markup";break;case"vb":r="visualBasic";break;case"js":case"javascript":r="javascript";break;case"jsx":r="jsx";break;case"php":r="php";break;case"mat":r="matlab";break;case"lua":r="lua";break;case"vhd":case"vhdl":r="vhdl";break;case"rust":case"rs":case"rlib":r="rust";break;case"dockerfile":r="docker";break;case"sh":r="bash";break;case"rb":r="ruby";break;case"pl":r="perl";break;case"ts":r="typescript";break;default:r="diff"}var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(n),!0).forEach((function(t){Ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({highlight:!0,refractor:Dl(),enhancers:[(0,ui.BF)(e)].concat((i=n?[(0,ui.b1)("\r\n","carriage-return-newline"),(0,ui.b1)("\r","carriage-return"),(0,ui.b1)("\n","newline",""),(0,ui.b1)("\t","tab",""),(0,ui.b1)(" ","space","")]:[],function(e){if(Array.isArray(e))return Fl(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},r?{language:r}:{});try{return(0,ui.wS)(e,o)}catch(e){return}}var i}(C,y.file.depotFile,w)}),[C,y.file.depotFile,w]),S=function(e){var t=e.change,n=e.side,a=e.renderDefault,o="new"===n?"rightHandSide":"leftHandSide",i="normal"!==t.type||"old"===n?c(t):"";return r.createElement(m.Z,{container:!0,direction:"row",spacing:0,justifyContent:"space-between",className:o},r.createElement(m.Z,{item:!0,className:f},i?r.createElement(Ml.Z,null):null),r.createElement(m.Z,{item:!0},a()))},k=(0,l.v9)(Ke.$o).files,I=(k?k.highlight_diff_style:null)||"swarm",T=(0,r.useMemo)((function(){return"swarm"===I&&"edit"===y.file.action&&2===E?" ".concat(p):""}),[y.file.action,I,E]),A=(0,r.useCallback)((function(e,t,n,a){var i=a[n-1],l=t.oldStart,c={previousEnd:i?i.oldStart+i.oldLines:1,currentStart:l,currentEnd:l+t.oldLines};return e.push(r.createElement(Hl,{key:"more-".concat(t.content),first:0===n,inline:1===E,lineData:c,onExpand:N})),e.push(r.createElement(ui.SC,{key:t.content,hunk:t,codeEvents:o,gutterEvents:o,renderGutter:S})),n===a.length-1&&e.push(r.createElement(Hl,{key:"last-".concat(t.content),last:!0,inline:1===E,lineData:c,onExpand:N})),e}),[N]),j=(0,r.useMemo)((function(){return y.isSame?g("sameContent",{type:y.file.type}):"text"===y.file.type?g("noDiff"):g("cannotShowDiff")+y.file.type}),[y.isSame,y.file.type]),O=(0,r.useMemo)((function(){a((0,Rl.RV)({hunks:C})),C&&s(C,y.file.depotFile,y.file.action);var e=i(C);return a((0,_i.b1)(Object.keys(e||{}))),e}),[C]),M=(0,l.v9)(function(e){return(0,Tn.P1)(ma,(function(t){var n=t.indices[e];if(n){var r=Object.keys(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.l));if(r.length>0)return r.map((function(e){return+e}))}return[]}))}(y.file.depotFile));(0,r.useEffect)((function(){var e=C?C.length:0;h&&e>0&&M.forEach((function(e){N(e-5>0?e-5:1,e+5)}))}),[h]);var R,P=(0,l.v9)((R=y.file.depotFile,(0,Tn.P1)(ma,(function(e){var t=e.indices[R];return t?t.file:[]}))));return(0,r.useEffect)((function(){C&&s(C,y.file.depotFile,y.file.action)}),[P]),r.createElement(m.Z,{container:!0,direction:"column",className:"diffBody".concat(T)},y.diff.hunks?r.createElement(m.Z,{item:!0,className:"".concat(d," diffView")},r.createElement(ui.zI,{viewType:2===E?"split":"unified",diffType:y.diff.type,hunks:C,tokens:x,widgets:O},(function(e){return e.reduce(A,[])}))):j?r.createElement(m.Z,{item:!0,className:"diffMessages"},j):null)},Xl=_l;_l.propTypes={getWidget:i().func,eventHandlers:i().objectOf(i().func),hasComment:i().func.isRequired,reindexComments:i().func.isRequired},_l.defaultProps={getWidget:function(){},eventHandlers:{}};var Yl=n(1941),Ql=n(69570),ec=n(9020),tc=n(61999),nc=n(74845),rc=n(94512),ac=n(162),oc=n(89534),ic=(0,u.Z)((function(e){return{timelineItem:{minHeight:e.spacing(4.5),"&:last-child > .MuiTimelineSeparator-root .MuiTimelineConnector-root":{display:"none"}},timelineContent:{padding:0,margin:e.spacing(-.25,0,.25,1)},timelineConnector:{width:e.spacing(.125),backgroundColor:e.palette.colors.grey[40]},timelineSeparator:{"& .swarmUser":{marginBottom:e.spacing(-.25),"& .userAvatarWrapper":{marginRight:0},"& .userAvatar":{width:e.spacing(2.5),height:e.spacing(2.5)}}}}})),lc=function(e){var t=e.dot,n=e.content,a=e.variant,o=ic(),i=o.timelineItem,l=o.timelineSeparator,c=o.timelineConnector,s=o.timelineContent,u=(0,r.useMemo)((function(){return r.createElement(ec.Z,{className:"swarmTimelineItem ".concat(i)},r.createElement(tc.Z,{hidden:!0}),r.createElement(nc.Z,{className:"swarmTimelineSeparator ".concat(l)},t,r.createElement(rc.Z,{className:"swarmTimelineConnector ".concat(c)})),r.createElement(ac.Z,{className:"swarmTimelineContent ".concat(s)},n))}),[t,n]);return"renderIfVisible"===a?r.createElement(sl.Z,null,u):u},cc=lc;lc.propTypes={dot:i().node,content:i().node.isRequired,variant:i().string},lc.defaultProps={dot:r.createElement(oc.Z,null),variant:"renderIfVisible"};var sc=n(13551),uc=(0,u.Z)((function(e){return{root:{backgroundColor:e.palette.colors.white[0],border:e.spacing(.125,"solid",e.palette.colors.grey[200]),borderRadius:e.spacing(.375)},bodyText:{position:"relative","& .help":{position:"absolute",bottom:e.spacing(2),right:e.spacing(1),"& .svgIcon":{fill:e.palette.primary.main}}},commentText:{width:"100%","& .MuiInputBase-multiline":{padding:0,fontSize:"14px","& .MuiInputBase-inputMultiline":{padding:e.spacing(.5)}},"& .MuiInput-underline:hover:before":{borderBottomColor:e.palette.colors.blue[200]}}}})),mc=function(e){var t=e.initialTextValue,n=e.handleText,a=uc(),o=a.root,i=a.bodyText,l=a.commentText,c=(0,v.$)("comment").t,s=(0,r.useRef)(t),u=function(e){s.current=e.target.value,n(s.current)};return r.createElement(m.Z,{container:!0,className:"commentBody ".concat(o),direction:"column"},r.createElement(m.Z,{item:!0,className:"commentBodyText ".concat(i)},r.createElement(Vt.Z,{autoFocus:!0,multiline:!0,minRows:5,placeholder:c("comment"),className:"".concat(l," mentionable"),onChange:u,onClick:u,defaultValue:s.current})))},dc=mc;mc.propTypes={handleText:i().func.isRequired,initialTextValue:i().string},mc.defaultProps={initialTextValue:""};var pc=(0,C.Z)((function(e){return{root:{margin:e.spacing(2,0,1),"& .cancelButton":{color:e.palette.colors.grey[600],"&:hover":{color:e.palette.colors.grey[800]}}}}})),fc=function(e){var t=e.primaryActions,n=e.secondaryActions,a=pc().root;return r.createElement(m.Z,{container:!0,justifyContent:"space-between",className:"commentFormFooter ".concat(a)},r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0,className:"commentFormFooterPrimary",spacing:2},t.map((function(e,t){return r.createElement(m.Z,{item:!0,key:"primary-".concat(t)},e)})))),r.createElement(m.Z,{item:!0},r.createElement(m.Z,{container:!0,className:"commentFormFooterSecondary",spacing:2},n.map((function(e,t){return r.createElement(m.Z,{item:!0,key:"secondary-".concat(t)},e)})))))};fc.propTypes={primaryActions:i().arrayOf(i().node),secondaryActions:i().arrayOf(i().node)},fc.defaultProps={primaryActions:[],secondaryActions:[]};var vc=fc,gc={filled:"M2.003,3.749C2.279,3.509,2.6,3.375,2.978,3.375h12.043c0.378,0,0.698,0.134,0.976, 0.374L9,8.958L2.003,3.749z M1.5,5.117v8.094c0,0.381,0.144,0.711,0.433,0.992c0.289,0.283, 0.637,0.422,1.046,0.422h12.042c0.408,0,0.756-0.139,1.047-0.422c0.289-0.281,0.432-0.611, 0.432-0.992V5.125L9,10.848L1.5,5.117z",outline:"M16.068,3.796c-0.291-0.28-0.639-0.421-1.047-0.421H2.978c-0.408,0-0.756,0.141-1.046,0.421 C1.644,4.077,1.5,4.408,1.5,4.79v8.421c0,0.381,0.144,0.712,0.433,0.993c0.289,0.282,0.637,0.421,1.046,0.421h12.042 c0.408,0,0.756-0.139,1.047-0.421c0.289-0.281,0.432-0.612,0.432-0.993V4.79C16.5,4.408,16.357,4.077,16.068,3.796z M14.652,4.75 L9,8.958L3.348,4.75H14.652z M15.25,13.375H2.75V6.072L9,10.848l6.25-4.769V13.375z"},yc=function(e){var t=e.fill,n=e.size,a=e.variant,o="".concat(n,"px"),i="".concat(n,"px");return r.createElement("svg",{className:"svgIcon ".concat(a,"Envelope"),viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:o,width:i}},r.createElement("path",{fill:t,d:gc[a]}))},hc=yc;yc.propTypes={fill:i().string,size:i().number,variant:i().string},yc.defaultProps={fill:E.Z[500],size:16,variant:"outline"};var bc=n(91691),Ec=(0,u.Z)((function(e){return{root:{margin:e.spacing(1,0,2),padding:e.spacing(2,2,1),position:"relative"}}})),wc=function(e){var t=e.openCommentId,n=e.body,a=e.footer,o=e.openWith,i=(0,l.I0)(),c=Ec().root,s=(0,v.$)("comment").t,u=(0,l.v9)($.dy),p=(0,l.v9)(Ia(t)),f=null!=p?p:{},h=f.loading,b=f.error;return u?p?r.createElement(m.Z,{container:!0,direction:"column",className:"commentForm ".concat(c)},h?r.createElement(m.Z,{item:!0},r.createElement(d.Z,{variant:"form"})):null,b?r.createElement(m.Z,{item:!0},r.createElement(L.Z,{messages:b})):null,r.createElement(m.Z,{item:!0,className:"bodyItem"},n),r.createElement(m.Z,{item:!0,className:"footerItem"},a)):o?r.createElement(m.Z,{container:!0,item:!0,className:"openItem"},o):null:r.createElement(g.Z,{onClick:function(){i((0,bc.or)(!0))},className:"loginButton",color:"primary"},r.createElement(y.Z,{variant:"body2",className:"medium"},s("loginToComment")))};wc.propTypes={body:i().node.isRequired,openCommentId:i().string.isRequired,footer:i().node.isRequired,openWith:i().node},wc.defaultProps={openWith:void 0};var Zc=wc;function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nc=(0,u.Z)((function(e){return{commentBody:{fontSize:e.typography.medium.fontSize}}})),xc=function(e){var t,n,a=e.id,o=e.commentId,i=e.header,c=e.body,s=e.footer,u=e.replies,d=e.readHeader,f=e.content,y=(0,v.$)().t,h=Nc().commentBody,b=(0,l.I0)(),E=(0,l.v9)(Ia(o)),w=(0,l.v9)($.dy),Z=(0,l.v9)(function(e,t){return(0,Tn.P1)(va(e),(function(e){return!!e&&e.readBy.includes(t)}))}(a,w)),C=(t=(0,r.useMemo)((function(){return[!!E,!(null!=E&&E.text)]}),[E]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=C[0],x=C[1],S=(0,r.useCallback)((function(){b((0,Yl.E9)(o))}),[o]),k=(0,r.useRef)(Kt()((function(e){b((0,Yl.bF)({index:o,text:e}))}),100)).current,I=(0,r.useCallback)((function(e){b((0,Yl.jh)({notify:e,index:o,text:E.text}))}),[o,E]);return r.createElement(m.Z,{container:!0,className:"comment comment-".concat(a),direction:"column"},w?r.createElement(m.Z,{item:!0,className:"editCommentForm"},r.createElement(Zc,{openCommentId:o.toString(),body:r.createElement(dc,{initialTextValue:c,handleText:k}),footer:r.createElement(vc,{primaryActions:[r.createElement(g.Z,{variant:"contained",color:"primary",onClick:function(){return I("delayed")},className:"submitButton",disabled:x},y("comment:save")),r.createElement(g.Z,{color:"primary",onClick:S,className:"cancelButton"},y("common:cancel"))],secondaryActions:[r.createElement(g.Z,{startIcon:r.createElement(hc,{fill:Pn.Z[500]}),onClick:function(){return I("immediate")},className:"submitButton",color:"primary",disabled:x},y("comment:saveImmediateNotification",{commentCount:0}))]})})):null,N?null:Z?r.createElement(m.Z,{item:!0,className:"readCommentHeaderContainer"},d):r.createElement(r.Fragment,null,r.createElement(m.Z,{item:!0,className:"commentHeaderContainer"},i),f?r.createElement(m.Z,{item:!0,className:"commentContentContainer"},f):null,r.createElement(m.Z,{item:!0,className:"commentBodyContainer ".concat(h)},r.createElement(sc.Z,{text:c})),s?r.createElement(m.Z,{item:!0,className:"commentFooterContainer"},s):null),u?r.createElement(m.Z,{item:!0,className:"commentRepliesContainer"},r.createElement(p.Z,{pl:2},u)):null)},Sc=xc;function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xc.propTypes={id:i().number.isRequired,commentId:i().string.isRequired,header:i().node.isRequired,readHeader:i().node.isRequired,body:i().node.isRequired,footer:i().node,replies:i().node,content:i().node},xc.defaultProps={footer:null,replies:null,content:null};var Ic=(0,u.Z)((function(e){return{root:{lineHeight:2,color:e.palette.colors.grey[300],"& .swarmUser .swarmLink":{color:e.palette.colors.grey[600]}}}})),Tc=function(e){var t,n=e.user,a=e.timestamp,o=e.edited,i=e.i18nKey,l=e.i18nComponents,c=e.i18nValues,s=Ic();return r.createElement(y.Z,{variant:"body2",className:"small commentHeader ".concat(s.root)},r.createElement(fe.c,{ns:"comment",i18nKey:i+(o?"Edited":""),values:c,components:[n,r.createElement(Go.default,{epochSeconds:a}),o?r.createElement(Go.default,{epochSeconds:o}):null].concat((t=l,function(e){if(Array.isArray(e))return kc(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}))},Ac=Tc;Tc.propTypes={i18nKey:i().string,i18nComponents:i().arrayOf(i().oneOfType([i().object,i().func])),i18nValues:i().objectOf(i().oneOfType([i().number,i().string])),timestamp:i().number.isRequired,edited:i().number,user:i().node.isRequired},Tc.defaultProps={i18nKey:"commentHeader",i18nComponents:[],i18nValues:{},edited:null};var jc=n(2336),Oc=function(e){var t=(0,l.I0)(),n=(0,l.v9)($.dy),a=(0,v.$)("comment").t,o=e.id;return r.createElement(f.ZP,{arrow:!0,placement:"top",title:a("restoreComment")},r.createElement(p.Z,null,r.createElement(k.Z,{size:"small",className:"commentRestore-".concat(o),onClick:function(){t((0,xa.lD)({id:o,action:"unarchive"}))},disabled:!n},r.createElement(on,{size:14,direction:"topRight"}))))},Mc=Oc;Oc.propTypes={id:i().oneOfType([i().string,i().number]).isRequired};var Rc=function(e){var t=e.taskState,n=e.menu,a=e.id,o=e.isArchived;return r.createElement(m.Z,{className:"commentActions",container:!0,direction:"row",spacing:1,wrap:"nowrap"},r.createElement(m.Z,{className:"restore",item:!0},o?r.createElement(Mc,{id:a}):null),r.createElement(m.Z,{className:"taskStateMenu ".concat(t,"Task"),item:!0},"comment"!==t?r.createElement(Pa,{taskState:t,id:a}):null),r.createElement(m.Z,{className:"actionMenu",item:!0},n))},Pc=Rc;Rc.propTypes={id:i().oneOfType([i().string,i().number]).isRequired,menu:i().element.isRequired,taskState:i().string,isArchived:i().bool},Rc.defaultProps={taskState:"",isArchived:!1};var zc=function(e){return e.operations},Lc=n(17922),Bc=function(e){return(0,Tn.P1)(zc,(function(t){return t.operations[(0,Lc.gd)(e)]}))};function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vc=(0,u.Z)((function(e){return{deleteText:{color:qn.Z[500]},button:{margin:e.spacing(0,0,0,1.5),border:"none"}}})),Hc=function(e){var t,n,a,o=Vc(),i=e.id,c=e.user,s=e.reply,u=(n=(0,r.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qc(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],p=u[1],f=(0,v.$)("comment").t,g=(0,l.I0)(),h=(0,l.v9)(va(i)),b=(0,r.useMemo)((function(){return null!==c&&h.readBy&&void 0!==h.readBy.find((function(e){return e===c}))?"unread":"read"}),[h.readBy,c]),E=(0,l.v9)(Bc(i)),w=null!=E?E:{},Z=w.pending,C=w.error,N=(0,l.v9)(function(e){return(0,Tn.P1)(zc,(function(t){return t.operations[(0,Lc.LP)(e)]}))}(i)),x=null!=N?N:{},S=x.pending,k=x.error,I=(0,l.v9)(function(e){return(0,Tn.P1)(zc,(function(t){return t.operations[(0,Lc.YS)(e)]}))}(i)),T=null!=I?I:{},A=T.pending,j=T.error,O=null===(t=h.flags)||void 0===t?void 0:t.includes("closed"),M="comment-".concat(i);return(0,r.useEffect)((function(){return C&&g((0,Nt.PJ)({text:C[0].text,severity:"error",key:M})),function(){}}),[C]),(0,r.useEffect)((function(){return k&&g((0,Nt.PJ)({text:k[0].text,severity:"error",key:M})),function(){}}),[k]),(0,r.useEffect)((function(){return j&&g((0,Nt.PJ)({text:j[0].text,severity:"error",key:M})),function(){}}),[j]),O&&"comment"!==h.taskState?null:r.createElement(le,{open:d,name:"commentActionMenu",icon:r.createElement(nt,null),outlined:!0,disableArrow:!0,handleToggle:function(){p(!d)},buttonClassName:o.button,tooltipOptions:{title:f("actions"),arrow:!0,placement:"top"}},O?null:r.createElement(Q.Z,{key:"markCommentAs","data-value":"markCommentAs",className:"listItem markCommentAs",disableRipple:!0,disabled:null===c||Z,onClick:function(){g((0,xa.IC)({id:i,action:b,edited:h.edited||h.updated||h.time})),p(!1)}},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"smaller"},f("markCommentAs",{action:b}))))),"open"!==h.taskState?r.createElement(Q.Z,{key:"flagAsOpenTask","data-value":"flagAsOpenTask",className:"listItem flagAsOpenTask",onClick:function(){g((0,xa.Ii)({index:i,taskState:"open"})),p(!1)},disableRipple:!0,disabled:null===c||S},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"smaller"},f("flagAsOpenTask"))),r.createElement(m.Z,{item:!0},r.createElement(ba,{size:14,fill:qn.Z[500]})))):null,s||O?null:r.createElement(Q.Z,{key:"archiveComment","data-value":"archiveComment",className:"listItem archiveComment",onClick:function(){g((0,xa.lD)({id:i,action:"archive"})),p(!1)},disableRipple:!0,disabled:null===c||A},r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(y.Z,{variant:"body2",className:"smaller"},f("archiveComment"))))))},$c=Hc;Hc.propTypes={id:i().oneOfType([i().string,i().number]).isRequired,user:i().oneOfType([i().string,i().number]),reply:i().bool},Hc.defaultProps={user:null,reply:!1};var Dc=function(e){var t=e.commentId,n=(0,v.$)("comment").t,a=(0,l.I0)(),o=(0,r.useCallback)((function(){a((0,Yl.Kc)("reply-to-".concat(t)))}),[t]),i=(0,l.v9)($.dy),c=(0,r.useMemo)((function(){return n(i?"reply":"loginToReply")}),[i]);return r.createElement(f.ZP,{arrow:!0,placement:"top",title:c},r.createElement(p.Z,null,r.createElement(k.Z,{size:"small",className:"commentReply replyTo-".concat(t),onClick:o,disabled:!i},r.createElement(on,{size:14}))))},Fc=Dc;Dc.propTypes={commentId:i().string.isRequired};var Wc=function(e){var t=e.author,n=e.commentId,a=e.text,o=(0,l.I0)(),i=(0,v.$)("comment").t,c=(0,l.v9)($.dy),s=(0,r.useCallback)((function(){o((0,Yl.Kc)(n,a))}),[n,a]);return t===c?r.createElement(f.ZP,{arrow:!0,placement:"top",title:i("edit")},r.createElement(k.Z,{size:"small",className:"commentEdit edit-".concat(n),onClick:s},r.createElement(Z,{size:14,fill:E.Z[300]}))):null};Wc.propTypes={author:i().string.isRequired,commentId:i().string.isRequired,text:i().string.isRequired};var Uc=Wc,Kc=n(30553),Gc=(0,u.Z)((function(e){return{root:{color:e.palette.colors.grey[400],margin:0},checkbox:{padding:e.spacing(.5)},icon:{border:"1px solid ".concat(e.palette.colors.grey[200]),borderRadius:e.spacing(.25),height:e.spacing(1.5),width:e.spacing(1.5),margin:e.spacing(.25)}}})),Jc=function(e){var t=e.commentId,n=(0,l.v9)(function(e){return(0,Tn.P1)(ka,(function(t){return t.comments[e].task}))}(t)),a=Gc(),o=a.root,i=a.checkbox,c=a.icon,s=(0,v.$)("comment").t,u=(0,l.I0)(),m=(0,r.useCallback)((function(){u((0,Yl.e1)({index:t,task:!n}))}),[t,n]);return r.createElement(Kc.Z,{className:"taskComment ".concat(o),control:r.createElement(ke.Z,{onChange:m,className:"taskCommentCheckbox ".concat(i),color:"primary",disableRipple:!0,checked:n,icon:r.createElement("span",{className:"checkboxIcon ".concat(c)})}),label:r.createElement(y.Z,{className:"smaller",variant:"caption"},s("taskCommentCheckboxLabel"))})};Jc.propTypes={commentId:i().string.isRequired};var _c=Jc;function Xc(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon circleWithTick",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M6.262,7.231l2.25,2.267l6.946-6.833L16.5,3.693l-8.022,7.988L5.186,8.292L6.262,7.231z M13.565, 9.725l1.386-1.385c0.022,0.228,0.033,0.446,0.033,0.652c0,1.228-0.305,2.365-0.914,3.409c-0.597, 1.021-1.406,1.831-2.43,2.429c-1.043,0.608-2.176,0.913-3.398,0.913c-1.223, 0-2.356-0.305-3.4-0.913c-1.021-0.598-1.831-1.408-2.429-2.429C1.804,11.356,1.5,10.225,1.5,9c0-1.223, 0.304-2.356,0.912-3.398C3.01,4.579,3.82,3.769,4.841,3.171c1.044-0.609,2.175-0.913,3.392-0.913c1.119,0, 2.169,0.256,3.147,0.766l-1.027,1.028c-0.672-0.283-1.38-0.424-2.12-0.424c-0.967,0-1.87,0.245-2.707, 0.734C4.712,4.829,4.071,5.469,3.603,6.286C3.113,7.123,2.87,8.028,2.87,9c0,0.974,0.243,1.879,0.733, 2.716c0.468,0.814,1.109,1.456,1.923,1.924c0.837,0.488,1.74,0.732,2.707,0.732c0.891,0,1.728-0.207, 2.512-0.619c0.761-0.402,1.392-0.956,1.892-1.663C13.136,11.384,13.445,10.596,13.565,9.725z"}))}Xc.propTypes={fill:i().string,size:i().number},Xc.defaultProps={fill:E.Z[300],size:16};var Yc=(0,u.Z)((function(e){return{unreadButton:{height:"auto",padding:e.spacing(.25,1)},markUnread:{color:Cr.Z[600],fontStyle:"italic"}}})),Qc=function(e){var t,n=e.id,a=e.edited,o=(0,v.$)("comment").t,i=(0,l.I0)(),c=Yc(),s=c.markUnread,u=c.unreadButton,m=(0,r.useCallback)((function(){i((0,xa.IC)({id:n,action:"unread",edited:a}))}),[n]),d=null!==(t=(0,l.v9)(Bc(n)))&&void 0!==t?t:{},h=d.pending,b=d.error;return(0,r.useEffect)((function(){return n&&b&&i((0,Nt.PJ)({key:"comment-".concat(n),error:b})),function(){}}),[n,b]),r.createElement(f.ZP,{title:o("markAsUnread"),arrow:!0,placement:"top"},r.createElement(p.Z,null,r.createElement(g.Z,{className:"markAsUnread ".concat(u),onClick:m,endIcon:r.createElement(Xc,{fill:Cr.Z[600],size:14}),disabled:h},r.createElement(y.Z,{variant:"body2",className:"medium ".concat(s," readText")},o("read")))))},es=Qc;function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Qc.propTypes={id:i().oneOfType([i().string,i().number]).isRequired,edited:i().number},Qc.defaultProps={edited:null};var ns=(0,u.Z)((function(e){return{root:{margin:e.spacing(1,0,1),padding:e.spacing(2,0,.5,2),border:e.spacing(.125,"solid",e.palette.colors.grey[40]),borderRadius:e.spacing(.5,0,0,.5),borderRightWidth:0,"& .suspense":{margin:e.spacing(-3,0,-2.5,-2)}},odd:{backgroundColor:e.palette.colors.grey[70]},even:{backgroundColor:e.palette.colors.white[0]},first:{borderRightWidth:e.spacing(.125)},none:{margin:0,padding:0,backgroundColor:"transparent",border:"none"},readComment:{paddingBottom:e.spacing(1)},readHeader:{backgroundColor:e.palette.colors.grey[70],"&$odd":{backgroundColor:e.palette.colors.grey[40]}}}})),rs=function e(t){var n,a,o=t.openCommentIndex,i=t.depth,c=null==o?void 0:o.replace(/^[^-]+-/,""),s=(0,v.$)("comment").t,u=ns(),d=u.odd,p=u.even,f=u.none,y=u.root,h=u.first,b=u.readComment,E=u.readHeader,w=(0,l.I0)(),Z=(0,l.v9)($.dy),C=(0,l.v9)(ma),N=C.data,x=C.indices,S=C.count,k=(0,l.v9)(Ke.$o).comments,I=(0,r.useMemo)((function(){return"reply-to-".concat(o)}),[o]),T=(0,l.v9)(Ia(I)),A=(0,r.useMemo)((function(){var e;return null!==(e=((null==k?void 0:k.threading)||[]).max_depth)&&void 0!==e?e:2}),[k]),j=(0,r.useMemo)((function(){return x[c]}),[c,x]),O=(n=(0,r.useMemo)((function(){return[j||T?i%2?d:p:f,1===i?h:"",!(null!=T&&T.text)]}),[i,T,j]),a=3,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),M=O[0],R=O[1],P=O[2],z=(0,r.useCallback)((function(){w((0,Yl.E9)(I))}),[I]),L=(0,r.useRef)(Kt()((function(e){w((0,Yl.bF)({index:I,text:e}))}),100)).current,B=(0,r.useCallback)((function(e){w((0,Yl.w)({notify:e,index:I,context:{comment:1*c}}))}),[I]),q=(0,r.useMemo)((function(){return j?j.map((function(t){var n=N[t],a=n.id,l=n.user,c=n.body,s=n.time,u=n.taskState,d=n.edited,p=n.flags,f=o.replace(/[0-9]+$/,a),v=null==p?void 0:p.includes("closed");return r.createElement(m.Z,{key:"replyId-".concat(a),className:"commentReplyItem replyId-".concat(a," ").concat(b),item:!0,xs:12},r.createElement(Sc,{id:a,commentId:f,header:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:l,show:{avatar:!0,fullName:!0}}),timestamp:s,edited:d})),r.createElement(m.Z,null,r.createElement(jc.Z,{messageKey:"comment-".concat(a)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{taskState:u,menu:r.createElement($c,{id:a,user:Z,reply:!0}),id:a}))),readHeader:r.createElement(m.Z,{className:"".concat(M," ").concat(E),container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:Z}),timestamp:s,edited:d})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(a)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{taskState:u,menu:r.createElement(es,{id:a,edited:d}),id:a}))),body:c,footer:v?null:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"flex-start"},i<A?r.createElement(m.Z,{item:!0},r.createElement(Fc,{commentId:f})):null,r.createElement(m.Z,{item:!0},r.createElement(Uc,{commentId:f,text:c,author:l}))),replies:r.createElement(e,{openCommentIndex:f,depth:i+1})}))})):null}),[c,j,N[j]]),V=(null!=T?T:{}).text,H=(0,r.useMemo)((function(){return Z?r.createElement(m.Z,{item:!0,className:"commentReplyFormItem"},r.createElement(Zc,{openCommentId:I,body:r.createElement(dc,{initialTextValue:V,handleText:L}),footer:r.createElement(vc,{primaryActions:[r.createElement(g.Z,{variant:"contained",color:"primary",onClick:function(){return B("delayed")},className:"submitButton",disabled:P},s("post")),r.createElement(g.Z,{color:"primary",onClick:z,className:"cancelButton"},s("common:cancel"))],secondaryActions:[r.createElement(_c,{commentId:I}),r.createElement(g.Z,{startIcon:r.createElement(hc,{fill:Pn.Z[500]}),onClick:function(){return B("immediate")},className:"submitButton",color:"primary",disabled:P},s("postImmediateNotification",{commentCount:0}))]})})):null}),[Z,I,P,B,z]);return S?r.createElement(m.Z,{container:!0,className:"commentReplies repliesTo-".concat(c," ").concat(M," ").concat(y," ").concat(R),direction:"column"},H,q):null},as=rs;rs.propTypes={openCommentIndex:i().string.isRequired,depth:i().number},rs.defaultProps={depth:1};var os=function(e){var t=e.commentId,n=(0,l.I0)(),a=(0,v.$)("comment").t;return r.createElement(g.Z,{startIcon:r.createElement(Ml.Z,{fill:Pn.Z[500]}),onClick:function(){n((0,Yl.Kc)(t))},className:"openCommentBox",color:"primary"},r.createElement(y.Z,{variant:"caption"},a("comment")))};os.propTypes={commentId:i().string.isRequired};var is=os;function ls(e){return function(e){if(Array.isArray(e))return ss(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){if(e){if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ss(e,t):void 0}}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var us=function(e){var t,n,a=e.openCommentId,o=e.disableCancel,i=e.context,c=e.openMode,s=(0,v.$)("comment").t,u=(0,l.I0)(),m=(0,l.v9)(Ia(a)),d=(t=(0,r.useMemo)((function(){return[(null==m?void 0:m.text)||"",!(null!=m&&m.text)]}),[m]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||cs(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],f=d[1],y=(0,r.useCallback)((function(){u((0,Yl.E9)(a))}),[a]),h=(0,r.useRef)(Kt()((function(e){u((0,Yl.bF)({index:a,text:e}))}),100)).current,b=(0,r.useCallback)((function(e){u((0,Yl.w)({notify:e,index:a,context:i}))}),[]);return(0,r.useEffect)((function(){"auto"!==c||m||u((0,Yl.Kc)(a))}),[i,m,c]),r.createElement(Zc,{openCommentId:a,body:r.createElement(dc,{handleText:h,initialTextValue:p}),footer:r.createElement(vc,{primaryActions:[r.createElement(g.Z,{variant:"contained",color:"primary",onClick:function(){return b("delayed")},className:"submitButton",disabled:f},s("post"))].concat(ls(o?[]:[r.createElement(g.Z,{color:"primary",onClick:y,className:"cancelButton"},s("common:cancel"))])),secondaryActions:[r.createElement(_c,{commentId:a}),r.createElement(g.Z,{startIcon:r.createElement(hc,{fill:Pn.Z[500]}),onClick:function(){return b("immediate")},className:"submitButton",color:"primary",disabled:f},s("postImmediateNotification",{commentCount:0}))]}),openWith:"manual"===c?r.createElement(is,{commentId:a}):null})};us.propTypes={openCommentId:i().string.isRequired,disableCancel:i().bool,openMode:i().oneOf(["auto","manual","external"]),context:i().objectOf(i().oneOfType([i().any]))},us.defaultProps={disableCancel:!1,openMode:"manual",context:null};var ms=us,ds=(0,u.Z)((function(e){return{contentBody:{backgroundColor:e.palette.colors.white[0],border:e.spacing(.125,"solid",e.palette.colors.grey[200]),borderRadius:e.spacing(.375),overflowX:"auto",marginBottom:e.spacing(1),fontFamily:"var(--diff-font-family)"},insertContent:{backgroundColor:e.palette.colors.green[40]},deleteContent:{backgroundColor:e.palette.colors.red[50]},contentLine:{whiteSpace:"pre-wrap",padding:e.spacing(0,1)}}})),ps=function(e){var t=e.content,n=ds(),a=n.contentBody,o=n.insertContent,i=n.deleteContent,l=n.contentLine;return r.createElement(m.Z,{container:!0,direction:"column",className:"".concat(a," commentContent")},[].concat(t).map((function(e,t){var n="content-".concat(t),a="";switch(e.charAt(0)){case"+":a="".concat(o," insertedContent");break;case"-":a="".concat(i," deletedContent")}return r.createElement(m.Z,{item:!0,key:n,className:"".concat(a," ").concat(l)},e)})))};ps.propTypes={content:i().oneOfType([i().arrayOf(i().any),i().string]).isRequired};var fs=ps,vs=function(e){var t=e.commentId,n=e.topic,a=e.version,o=e.md5,i=e.i18nKey,l=e.i18nValues,c=(0,v.$)("comment").t,s=(0,r.useMemo)((function(){return"".concat(n,"?").concat(a?"v=".concat(a,"&"):"","commentId=").concat(o?"".concat(o,","):"","c").concat(t)}),[t,n,a,o]);return r.createElement(y.Z,{variant:"body2",className:"small highlighted swarmCommentLink"},r.createElement(xn.Z,{react:!0,target:s},c(i,l)))},gs=vs;vs.propTypes={commentId:i().number.isRequired,topic:i().string.isRequired,version:i().oneOfType([i().string,i().number]),md5:i().string,i18nKey:i().string,i18nValues:i().objectOf(i().oneOfType([i().any]))},vs.defaultProps={version:null,md5:null,i18nKey:"commentLink",i18nValues:{}};var ys=function(e){return e.fileHunks},hs=function(e){return e.fileWidgetCollapse||{}};function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Es=(0,u.Z)((function(e){return{root:{margin:0,padding:0,"& .commentFooterContainer .MuiGrid-item:first-child":{marginLeft:e.spacing(-.5)},opacity:"0.7","& a":{color:E.Z[300],"&:hover":{color:E.Z[300]}}},box:{backgroundColor:E.Z[70],padding:e.spacing(.25,0,.25),margin:e.spacing(0,0,1.25),textAlign:"center","&:hover":{cursor:"pointer"}}}})),ws=function(e){var t,n,a=e.archivedThreads,o=e.archivedThreadIds,i=(0,v.$)("comment").t,c=Es(),s=c.root,u=c.box,d=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],g=d[1],h=(0,r.useCallback)((function(){var e,t=(0,l.v9)((e=o||[],(0,Tn.P1)(ma,(function(t){var n=0;return null==e||e.forEach((function(e){n+=ya(e,t.data,t.indices)})),n}))));return t+(o?o.length:0)}),[o]),b=h();return a&&a.length>0?r.createElement(m.Z,{container:!0,direction:"column"},r.createElement(m.Z,{item:!0},r.createElement(p.Z,{onClick:function(){g(!f)},className:"archivedCommentsControl ".concat(u)},r.createElement(y.Z,{className:"medium"},i("archivedComments",{count:b})))),f?r.createElement(m.Z,{item:!0},r.createElement(Ql.Z,{align:"left",className:s},a)):null):null},Zs=ws;function Cs(e){return function(e){if(Array.isArray(e))return Ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ws.propTypes={archivedThreads:i().arrayOf(i().element),archivedThreadIds:i().arrayOf(i().number)},ws.defaultProps={archivedThreads:[],archivedThreadIds:[]};var xs="reviewComments",Ss=function(e,t,n){var r={};if(t&&e&&n&&n[t]){var a=e.type,o=e.oldLineNumber,i=e.newLineNumber,l=e.lineNumber,c=n[t],s=[];o&&c&&c.l&&c.l[o]&&(s=[].concat(Cs(s),Cs(c.l[o]))),i&&c&&c.r&&c.r[i]&&(s=[].concat(Cs(s),Cs(c.r[i]))),!o&&!i&&l&&"insert"===a&&c&&c.r&&c.r[l]&&(s=[].concat(Cs(s),Cs(c.r[l]))),!o&&!i&&l&&"delete"===a&&c&&c.l&&c.l[l]&&(s=[].concat(Cs(s),Cs(c.l[l]))),r=s}return r};function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function As(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?js(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Os=(0,C.Z)((function(e){return{root:{margin:0,padding:e.spacing(2,0,0,2)},file:{border:"none"},inline:{border:e.spacing(.125,"solid",e.palette.colors.grey[40]),borderRightWidth:0,borderLeftWidth:0},readHeader:{backgroundColor:e.palette.colors.grey[70]}}})),Ms=function(e){var t,n,a=e.context,o=e.type,i=e.changeKey,c=a||{},s=c.oldLineNumber,u=c.newLineNumber,p=Os(),f=p.root,v=p.readHeader,g=p.file,y=p.inline,h=(0,l.v9)(Ke.$o).comments,E=(0,r.useMemo)((function(){var e;return null!==(e=((null==h?void 0:h.threading)||[]).max_depth)&&void 0!==e?e:2}),[h]),w=(0,l.v9)($.dy),Z=(0,l.v9)(Zi),C=Z.depotFile,N=Z.digest,x=(0,l.v9)(b.pW),S=(0,l.v9)(eo),k=(0,l.v9)(to),I=As((0,r.useMemo)((function(){return["review-".concat(x).concat("-file-").concat(N).concat(u?"-rightLine-".concat(u):s?"-leftLine-".concat(s):""),s||u||null]}),[x,N,s,u]),2),T=I[0],A=I[1],j=(0,l.v9)(Ia(T)),O=(0,l.v9)(ma),M=O.data,R=O.error,P=O.loading,z=O.indices,B=(0,l.v9)((t=a?a.contentIndex:void 0,(0,Tn.P1)(function(e){return(0,Tn.P1)(e?(t=e[0],(0,Tn.P1)(ys,(function(e){return e.hunks[t]}))):function(){},(function(t){return t?t.changes[e[1]]:void 0}));var t}(t),(function(e){return e?e.content:void 0})))),q=(0,r.useMemo)((function(){var e=[],t=[],n=[];if(M.length&&z[C]){var i,l=a?Ss({oldLineNumber:s,newLineNumber:u,type:o,lineNumber:A},C,z):(null===(i=z[C])||void 0===i?void 0:i.file)||[];l.length&&l.forEach((function(i){var l=M[i],c=l.id,s=l.body,u=l.user,d=l.taskState,p=l.md5,f=l.time,g=l.topic,y=l.context,h=l.edited,b=l.flags,Z=y.content,C=y.version,N=y.leftLine,S=y.rightLine,k=null==b?void 0:b.includes("closed"),I=k?t:e;k&&n.push(c);var T=a||!S&&!N?null:"review:reviewDiffLineComment",A="file-".concat(c),j=function(e,t,n){var r=t&&!e&&!n;if(e&&t&&n){var a=t[t.length-1];"insert"!==n&&"delete"!==n||(a=a.substring(1)),r=a!==e}return r}(B,Z,o);I.push(r.createElement(cc,{key:"comment-".concat(c),dot:r.createElement(Qn.default,{user:u,show:{avatar:!0}}),content:r.createElement(Sc,{id:c,commentId:A,content:j?r.createElement(fs,{content:Z}):null,header:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:u}),timestamp:f,edited:h,i18nKey:"review:fileCommentHeader",i18nValues:{reviewId:x,version:C},i18nComponents:T?[r.createElement(gs,{commentId:c,topic:g,version:C,i18nKey:T,i18nValues:{version:C,line:S||N},md5:p})]:[]})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(c)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{isArchived:k,taskState:d,menu:r.createElement($c,{id:c,user:w}),id:c}))),readHeader:r.createElement(m.Z,{className:v,container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:u}),timestamp:f,edited:h,i18nKey:"review:fileCommentHeader",i18nValues:{reviewId:x,version:C},i18nComponents:T?[r.createElement(gs,{commentId:c,topic:g,version:C,i18nKey:T,i18nValues:{version:C,line:S||N},md5:p})]:[]})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(c)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{isArchived:k,taskState:d,menu:r.createElement(es,{id:c,edited:h}),id:c}))),body:s,footer:r.createElement(m.Z,{container:!0,justifyContent:"flex-start"},E?r.createElement(m.Z,{item:!0},r.createElement(Fc,{commentId:A})):null,r.createElement(m.Z,{item:!0},r.createElement(Uc,{commentId:A,text:s,author:u}))),replies:r.createElement(as,{openCommentIndex:A})})}))}))}return[e,t,n]}),[M,C,z]),V=As(q,3),H=V[0],D=V[1],F=V[2],W=(0,l.v9)(Fi),U=(0,l.v9)((n=i,(0,Tn.P1)(hs,(function(e){return e[n]})))),K=(0,r.useMemo)((function(){return!j&&(null==U?!W:U)}),[j,W,U]),G=(0,r.useMemo)((function(){return"delete"===o?-1===k?S:k:S}),[o,S,k]);return r.createElement(mr.Z,{in:!K},r.createElement(m.Z,{className:"".concat(H.length>0&&A?y:g," commentContainer ").concat(i),container:!0,direction:"column"},P||R?null:r.createElement(Zs,{archivedThreads:D,archivedThreadIds:F}),r.createElement(m.Z,{item:!0,className:A?"reviewLine".concat(A,"CommentList"):"reviewFileCommentList"},P?a?null:r.createElement(d.Z,null):R?a?null:r.createElement(L.Z,{messages:R.messages?R.messages:[{type:"error",text:R}]}):H.length>0?r.createElement(Ql.Z,{align:"left",className:f},H):null),a&&!w?null:r.createElement(m.Z,{item:!0,className:"addFileComment"},r.createElement(ms,{openCommentId:T,context:Is({file:C,type:"text"},a?{leftLine:s,rightLine:u,contentIndex:a.contentIndex,version:G}:{}),openMode:!a||H.length||D.length?"manual":"external"}))))},Rs=Ms;Ms.propTypes={context:i().objectOf(i().oneOfType([i().any])),type:i().string,changeKey:i().string},Ms.defaultProps={context:null,type:null,changeKey:void 0};var Ps=function(e){var t=e.newLineNumber,n=e.oldLineNumber,r=e.lineNumber,a=e.isDelete;return{oldLineNumber:e.isInsert?null:n||r,newLineNumber:a?null:t||r}},zs=n(56081);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){return function(e){if(Array.isArray(e))return Hs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $s=(0,C.Z)((function(e){return{reviewView:{border:e.spacing(.125,"solid",e.palette.colors.grey[40]),borderRadius:e.spacing(0,0,.375,.375),minHeight:e.spacing(30),"& .reviewFileDiff":{"& .messages, .suspense":{padding:e.spacing(2)}},"& .diff-widget-content":{padding:0,borderLeft:e.spacing(.125,"solid",e.palette.colors.grey[40])}},collapsed:{width:"calc(100% - ".concat(e.spacing(1.625)).concat("px)")},expanded:{width:"calc(100% - ".concat(e.spacing(30.625)).concat("px)")},loadingStyle:{padding:e.spacing(1,1)}}})),Ds=function(e){if(e){var t=[];return e.reduce((function(e,n,r){for(var a=n.changes,o=0;o<a.length;o+=1)t.push([r,o]);return[].concat(Vs(e),Vs(a))}),[]).reduce((function(e,n,a){return Bs(Bs({},e),{},qs({},(0,ui.nh)(n),r.createElement(Rs,{context:Bs(Bs({},Ps(n)),{},{contentIndex:t[a]}),type:n.type,changeKey:(0,ui.nh)(n)})))}),{})}return null},Fs=function(){var e=(0,l.I0)(),t=$s(),n=t.reviewView,a=t.collapsed,o=t.expanded,i=t.loadingStyle,c=(0,l.v9)(mi),s=(0,l.v9)(Gt.lX),u=(0,l.v9)(Gt.NH),p=(0,l.v9)(eo),f=(0,l.v9)(to),v=(0,r.useMemo)((function(){return c?a:o}),[c]),g=(0,l.v9)(Zi),y=g.depotFile,h=g.digest,E=(0,l.v9)(b.pW),w=(0,l.v9)(ma),Z=w.indices,C=w.data,N=(0,l.v9)(Fi),x=(0,r.useCallback)((function(e){return function(e,t,n){var r=Ss(e,t,n);return!!Object.keys(r).length}(e,y,Z)}),[y,Z]),S=(0,r.useCallback)((function(t,n,r){var a=Z[n];if(null!=a&&a.file){var o=function(e,t,n,r,a,o){var i={l:{},r:{}};return(0,Me.s)(xs,"===================================================="),(0,Me.s)(xs,"fileCommentIndex data:",e),(0,Me.s)(xs,"commentsData data:",t),(0,Me.s)(xs,"hunks data:",n),(0,Me.s)(xs,"fileAction : ".concat(o)),e.forEach((function(e){var l=t[e],c=l.context,s=c.version,u=c.rightLine,m=c.leftLine;if((0,Me.s)(xs,"comment data:",l),(0,Me.s)(xs,"toVersion: ".concat(r," and fromVersion: ").concat(a)),Number(s)<=Number(r)&&(u||m))if((0,Me.s)(xs,"comment will be visible"),"add"===o)(0,Me.s)(xs,"Add file for right comment index"),i.r[u]||(i.r[u]=[]),i.r[u].push(e);else if("delete"===o)(0,Me.s)(xs,"Delete file for left comment index"),i.l[m]||(i.l[m]=[]),i.l[m].push(e);else if("move/add"===o)(0,Me.s)(xs,"move/add file action"),i.r[u]||(i.r[u]=[]),i.r[u].push(e);else if("move/delete"===o)(0,Me.s)(xs,"move/Delete file action"),m?((0,Me.s)(xs,"have left line number"),i.l[m]||(i.l[m]=[]),i.l[m].push(e)):((0,Me.s)(xs,"have a right line here."),i.l[u]||(i.l[u]=[]),i.l[u].push(e));else if(Number(s)<=Number(a))if((0,Me.s)(xs,"Left comment index"),m)(0,Me.s)(xs,"Left comment index has LeftLine number"),i.l[m]||(i.l[m]=[]),i.l[m].push(e);else if((0,Me.s)(xs,"Left comment index does not have LeftLine number"),Number(s)===Number(a))(0,Me.s)(xs,"Left comment index is same as from Version use rightLine for left line"),i.l[u]||(i.l[u]=[]),i.l[u].push(e);else{var d=(0,ui._c)(n,u),p=(0,ui.Fg)(n,d);(0,Me.s)(xs,"correspondingNewLineNumber",d),(0,Me.s)(xs,"leftLineNumber",p),i.l[p]||(i.l[p]=[]),i.l[p].push(e)}else if(Number(s)===Number(r))if((0,Me.s)(xs,"Right comment index for current ToVersion"),u){i.r[u]||(i.r[u]=[]),i.r[u].push(e);var f=(0,ui.Fg)(n,u);i.l[f]||(i.l[f]=[])}else{var v=(0,ui.GM)(n,m),g=v.type,y=v.oldLineNumber,h=v.lineNumber;if("delete"===g){(0,Me.s)(xs,"Right comment but has no rightLine and is change type Delete");var b=y||h||m;i.l[b]||(i.l[b]=[]),i.l[b].push(e)}}else if((0,Me.s)(xs,"Right comment index"),m&&u){(0,Me.s)(xs,"Does have leftLine");var E=(0,ui._c)(n,m),w=(0,ui.GM)(n,u)||{},Z=w.newLineNumber,C=w.lineNumber,N=w.type,x=E>0?E:Z||C||u;if((0,Me.s)(xs,"changeLineNumber",x),E>0){(0,Me.s)(xs,"We found the newLine number from left line number."),i.r[x]||(i.r[x]=[]),i.r[x].push(e);var S=(0,ui.Fg)(n,x);i.l[S]||(i.l[S]=[])}else"delete"===N?((0,Me.s)(xs,"It of type delete, comment lives on the left only."),i.l[x]||(i.l[x]=[]),i.l[x].push(e)):(0,Me.s)(xs,"Had Left and Right. We didn't catch this comment at all report me.")}else if((0,Me.s)(xs,"Does not have leftLine"),u){(0,Me.s)(xs,"We only have Right Line number");var k=(0,ui._c)(n,u),I=(0,ui.GM)(n,u)||{},T=I.oldLineNumber,A=I.lineNumber,j=I.type,O=T||A;k>0?((0,Me.s)(xs,"Found the newLine Number."),i.r[k]||(i.r[k]=[]),i.r[k].push(e),i.l[O]||(i.l[O]=[])):"delete"===j?(0,Me.s)(xs,"Right Line number but it is on type delete, so we don't show the comment."):(0,Me.s)(xs,"We didn't catch this comment at all report me.")}else{var M=(0,ui.GM)(n,m),R=M.type,P=M.oldLineNumber,z=M.lineNumber;if("delete"===R){(0,Me.s)(xs,"Left comment but has no rightLine and is change type Delete");var L=P||z||m;i.l[L]||(i.l[L]=[]),i.l[L].push(e)}}})),(0,Me.s)(xs,"All indices at end",i),(0,Me.s)(xs,"===================================================="),i}(a.file,C,t,p,f,r);e((0,zs.kR)({file:n,targets:o}))}}),[C,Z,p,f]),k=(0,r.useMemo)((function(){return{onClick:function(t){var n=t.change,r=t.side,a=Ps(n),o=a.newLineNumber,i=a.oldLineNumber,l="review-".concat(E).concat("-file-").concat(h).concat(o?"-rightLine-".concat(o):i?"-leftLine-".concat(i):"");x(n)?e((0,_i.T$)({widgetId:(0,ui.nh)(n),defaultExpanded:N})):e((0,Yl.Kc)(l,null,r))}}}),[h,E,Z,N]);return u?r.createElement(m.Z,{container:!0,direction:"column",item:!0,className:"reviewViewLoading ".concat(i," ").concat(n)},r.createElement(d.Z,null)):r.createElement(m.Z,{container:!0,direction:"row",className:"reviewBody ".concat(n),spacing:0},r.createElement(m.Z,{item:!0,className:"reviewFileBrowser"},r.createElement(hi,{body:r.createElement(hl,{files:s,handleChangeAction:Ct.XR,loading:u})})),r.createElement(m.Z,{item:!0,className:"reviewFileDiff ".concat(v)},r.createElement(il,{fileComments:r.createElement(Rs,null),fileBody:r.createElement(Xl,{eventHandlers:k,getWidget:Ds,hasComment:x,reindexComments:S})})))},Ws=(0,u.Z)((function(e){return{root:{borderRadius:"3px 3px 0 0",backgroundColor:e.palette.colors.white[0],height:"100%",paddingBottom:"20px"},fullScreen:{position:"relative",top:e.spacing(4)},diff:{width:"100%","& .review-file-browser":{display:"inline-block",width:"20%",verticalAlign:"top",height:"100%",position:"relative"},"& .review-file-diff":{display:"inline-block",width:"80%",paddingLeft:0},"& .file-title div":{display:"inline-block"},"& .circle":{fill:e.palette.colors.blue[500]},"& .pencilPath, & .backgroundPath":{fill:e.palette.colors.white[0]},"& .outlinePath":{fill:e.palette.colors.grey[400]}}}}));function Us(){var e=Ws();return r.createElement(m.Z,{className:"reviewFiles ".concat(e.root),container:!0},r.createElement(m.Z,{className:"reviewFilesHeading",container:!0,item:!0,direction:"row",justifyContent:"space-between",spacing:1},r.createElement(m.Z,{className:"reviewFileVersionSelector",item:!0},r.createElement(si,null))),r.createElement(m.Z,{className:"reviewChangeInfo ".concat(e.info),container:!0,item:!0},r.createElement(Ko,null)),r.createElement(m.Z,{className:"reviewFileDiff ".concat(e.diff),item:!0},r.createElement(Fs,null)))}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gs=(0,u.Z)((function(e){return{root:{margin:0,padding:0,"& .commentFooterContainer .MuiGrid-item:first-child":{marginLeft:e.spacing(-.5)}},addReviewComment:{"& .commentForm":{marginTop:0,backgroundColor:"transparent"},"& .cancelButton":{display:"none"}},commentText:{width:"100%","& .MuiInputBase-multiline":{padding:0,fontSize:"14px","& .MuiInputBase-inputMultiline":{padding:e.spacing(.5)}},"& .MuiInput-underline:hover:before":{borderBottomColor:e.palette.colors.blue[200]}},readHeader:{backgroundColor:e.palette.colors.grey[70]}}})),Js=function(){var e,t,n=(0,v.$)(["review","comment"]).t,a=Gs(),o=a.root,i=a.addReviewComment,c=a.readHeader,s=(0,l.v9)(ma),u=s.data,p=s.error,f=s.loading,g=s.indices,y=(0,l.v9)(Ke.$o).comments,h=(0,r.useMemo)((function(){var e;return null!==(e=((null==y?void 0:y.threading)||[]).max_depth)&&void 0!==e?e:2}),[y]),E=(0,l.v9)($.dy),w=(0,l.v9)(b.pW),Z="review-new-".concat(w),C=(e=(0,r.useMemo)((function(){var e=[],t=[],n=[];return u.length&&g.threads.forEach((function(a){var o=u[a],i=o.id,l=o.body,s=o.user,d=o.context,p=o.topic,f=o.taskState,v=o.time,g=o.edited,y=o.flags,b=d.content,Z=d.version,C="review-".concat(i),N=function(e,t,n){var a=n.file,o=n.leftLine,i=n.md5,l=n.rightLine,c=n.version,s=null!=o?o:l;return{i18nKey:a?"review:fileCommentHeader":"review:commentHeader",i18nComponents:a?[r.createElement(gs,{commentId:e,topic:t,version:c,i18nKey:s?"review:reviewLineComment":"review:reviewFileComment",i18nValues:{file:a,line:s},md5:i})]:[]}}(i,p,d),x=N.i18nKey,S=N.i18nComponents,k=null==y?void 0:y.includes("closed"),I=k?t:e;k&&n.push(i),I.push(r.createElement(cc,{key:"comment-".concat(i),dot:r.createElement(Qn.default,{user:s,show:{avatar:!0}}),content:r.createElement(Sc,{id:i,commentId:C,content:b?r.createElement(fs,{content:b}):null,header:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:s}),timestamp:v,edited:g,i18nKey:x,i18nComponents:S,i18nValues:{reviewId:w,version:Z}})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(i)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{isArchived:k,taskState:f,menu:r.createElement($c,{id:i,user:E}),id:i}))),readHeader:r.createElement(m.Z,{className:c,container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:s}),timestamp:v,edited:g,i18nKey:x,i18nComponents:S,i18nValues:{reviewId:w,version:Z}})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(i)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{taskState:f,menu:r.createElement(es,{id:i,edited:g}),id:i}))),body:l,footer:k?null:r.createElement(m.Z,{container:!0,justifyContent:"flex-start"},h?r.createElement(m.Z,{item:!0},r.createElement(Fc,{commentId:C})):null,r.createElement(m.Z,{item:!0},r.createElement(Uc,{commentId:C,text:l,author:s}))),replies:r.createElement(as,{openCommentIndex:C})})}))})),[e,t,n]}),[u]),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=C[0],x=C[1],S=C[2];return f?r.createElement(d.Z,null):p?r.createElement(L.Z,{messages:p.messages?p.messages:[{type:"error",text:p}]}):r.createElement(m.Z,{container:!0,direction:"column",className:"reviewComments"},r.createElement(Zs,{archivedThreads:x,archivedThreadIds:S}),r.createElement(m.Z,{item:!0,className:"reviewCommentList"},N&&N.length>0?r.createElement(Ql.Z,{align:"left",className:o},N):r.createElement(ye.Z,{text:n("noComments")})),r.createElement(m.Z,{item:!0,className:"addReviewComment ".concat(i)},r.createElement(ms,{openCommentId:Z,openMode:"auto"})))},_s=(0,u.Z)((function(e){return{bodyContainer:{paddingLeft:e.spacing(4),marginBottom:e.spacing(1)}}})),Xs=function(e){var t=e.header,n=e.body,a=_s().bodyContainer;return r.createElement(m.Z,{spacing:1,container:!0,className:"activity",direction:"column"},r.createElement(m.Z,{item:!0,className:"activityHeaderContainer"},t),n?r.createElement(m.Z,{item:!0,className:"activityBodyContainer ".concat(a)},n):null)},Ys=Xs;Xs.propTypes={header:i().node.isRequired,body:i().node},Xs.defaultProps={body:null};var Qs=function(e){return e.reviewActivity},eu=n(35035),tu=n(88971),nu=n(34221),ru=function(e){switch(e.activityType){case"change":return r.createElement(so.Z,null);case"comment":return r.createElement(Bi,null);case"job":return r.createElement(nu.Z,null);case"review":return r.createElement(tu.Z,null);default:return r.createElement(eu.Z,null)}},au=ru;ru.propTypes={activityType:i().string.isRequired};var ou=n(89659),iu=n(79768);function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cu=(0,u.Z)((function(e){return{root:{color:e.palette.colors.grey[300],"& .userId":{color:e.palette.colors.black[100]},"& .userAvatarWrapper":{marginRight:e.spacing(1)}}}})),su=function(e){var t=e.target,n=e.link[1],o=n.review,i=n.fragment,l=n.version,c=(0,r.useMemo)((function(){return"/reviews/".concat(o,"/").concat(l?"v".concat(l):"").concat(i?"#".concat(i):"")}),[o,i,l]);return r.createElement(y.Z,{className:"small",display:"inline"},r.createElement(ou.Z,{className:"swarmActivityLink small",component:a.rU,to:c},t))},uu=function(e){var t,n=e.action,a=e.preposition,o=e.link,i=e.timestamp,l=e.projects,c=e.user,s=e.target,u=e.i18nKey,m=e.i18nComponents,d=cu(),f=(0,v.$)("activity").t,g=o[1].review;return r.createElement(p.Z,{className:"small activityHeader ".concat(d.root)},r.createElement(fe.c,{ns:"activity",i18nKey:u,components:[r.createElement(iu.Z,{projects:l}),r.createElement(Go.default,{epochSeconds:i}),r.createElement(su,{target:s,link:o}),r.createElement(Qn.default,{user:c,show:{avatar:!0,fullName:!0}})].concat((t=m,function(e){if(Array.isArray(e))return lu(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),values:{action:f(n),preposition:f(a),reviewId:g,target:s}}))},mu=uu;uu.propTypes={timestamp:i().number.isRequired,user:i().string.isRequired,action:i().string.isRequired,preposition:i().string.isRequired,link:i().arrayOf(i().oneOfType([i().any])).isRequired,target:i().string.isRequired,projects:i().oneOfType([i().arrayOf(i().any),i().objectOf(i().any)]).isRequired,i18nKey:i().string,i18nComponents:i().arrayOf(i().oneOfType([i().object,i().func]))},uu.defaultProps={i18nKey:"userActivityHeader",i18nComponents:[]},su.propTypes={link:i().arrayOf(i().oneOfType([i().any])).isRequired,target:i().string.isRequired};var du=["updated files in","verified an issue on","addressed an issue on","opened an issue on","edited a comment on","replied to a comment on","commented on the description for","commented on","archived comment on","reopened an issue on","cleared an issue on"],pu=(0,u.Z)((function(e){return{root:{margin:0,padding:0,"& .commentFooterContainer .MuiGrid-item:first-child":{marginLeft:e.spacing(-.5)},"& .swarmTimelineItem":{"& .MuiTimelineSeparator-root":{"& .swarmUser":{marginBottom:e.spacing(-.25),"& .userAvatarWrapper":{marginRight:0},"& .userAvatar":{width:e.spacing(2.5),height:e.spacing(2.5)}}}}}}}));function fu(){var e=(0,v.$)("review").t,t=(0,l.v9)(Qs),n=t.data,a=t.loading,o=t.error,i=pu(),c=(0,r.useMemo)((function(){return(null==n?void 0:n.length)>0?n.map((function(e){var t=e.id,n=e.user,a=e.time,o=e.action,i=e.preposition,l=e.target,c=e.type,s=e.projects,u=e.link,d=e.description,p=function(e,t){switch(e){case"started test ":case"Automated tests reported":return{i18nKey:"reviewActivityHeader",i18nComponents:[]};default:return{i18nKey:"userActivityHeader",i18nComponents:[r.createElement(Qn.default,{user:t,show:{avatar:!0,fullName:!0}})]}}}(o,n),f=p.i18nKey,v=p.i18nComponents;return r.createElement(cc,{key:"activity-".concat(t),dot:r.createElement(au,{activityType:c}),content:r.createElement(Ys,{header:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0},r.createElement(mu,{action:o,preposition:i,link:u,timestamp:a,user:n,projects:s,target:l,i18nKey:f,i18nComponents:v}))),body:du.includes(o)?r.createElement(Na.Z,{text:d},r.createElement(sc.Z,{text:d})):null})})})):[]}),[a]);return a?r.createElement(d.Z,null):o?r.createElement(L.Z,{messages:o}):r.createElement(m.Z,{container:!0,direction:"column"},r.createElement(m.Z,{item:!0},c.length>0?r.createElement(Ql.Z,{align:"left",className:"reviewActivity ".concat(i.root)},c):r.createElement(ye.Z,{text:e("noActivity")})))}var vu=n(65802),gu=(0,u.Z)((function(e){return{root:{margin:0,"& a":{color:"inherit","&:hover":{textDecoration:"none"}}},button:{minHeight:e.spacing(3.5),marginRight:e.spacing(3.5)}}})),yu=function(e){var t=e.split(/\//)[0];return["files","comments","activity"].includes(t)?t:"files"},hu=function(e){var t=e.activeTab,n=gu(),o=(0,v.$)(["review","menu","comment"]).t,i=(0,l.v9)(ga()),c=i>0?o("comment:archivedComments",{count:i}):"";return r.createElement(Zn.Z,{className:"reviewTabs ".concat(n.root),indicatorColor:"primary",value:yu(t)},r.createElement(Cn.Z,{className:"filesTab ".concat(n.button),value:"files",label:r.createElement(a.rU,{to:"files"},r.createElement(y.Z,{className:"medium bolder",variant:"body2"},o("menu:files")),r.createElement(vu.Z,{countSelector:Gt.n7}))}),r.createElement(Cn.Z,{className:"commentsTab ".concat(n.button),value:"comments",label:r.createElement(a.rU,{to:"comments"},r.createElement(y.Z,{className:"medium bolder",variant:"body2"},o("comments")),r.createElement(vu.Z,{countSelector:da,tooltip:c}))}),r.createElement(Cn.Z,{className:"activityTab ".concat(n.button),value:"activity",label:r.createElement(a.rU,{to:"activity"},r.createElement(y.Z,{className:"medium bolder",variant:"body2"},o("menu:activity")))}))},bu=hu;hu.propTypes={activeTab:i().string.isRequired};var Eu=function(){return r.createElement(p.Z,{className:"notificationBox"},r.createElement(f.ZP,{title:"Send notifications is disabled!",arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(g.Z,{color:"primary",className:"notificationButton",disableRipple:!0},r.createElement(y.Z,{color:"primary",className:"smaller semiBold"},"Send all notifications (0)"))))},wu=n(7548);function Zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cu=(0,u.Z)((function(e){return{commentList:{margin:0,padding:e.spacing(2,1,1,1.5)},readHeader:{backgroundColor:e.palette.colors.grey[70]}}})),Nu=function(e){var t,n,a=e.attribute,o=(0,v.$)(["comment","review"]).t,i=(0,r.useMemo)((function(){return"description"===a?"review:noDescriptionComments":"comment:noComments"}),[a]),c=Cu(),s=c.commentList,u=c.readHeader,p=(0,l.v9)($.dy),f=(0,l.v9)(Ke.$o).comments,g=(0,r.useMemo)((function(){var e;return null!==(e=((null==f?void 0:f.threading)||[]).max_depth)&&void 0!==e?e:2}),[f]),y=(0,l.v9)(b.pW),h=(0,l.v9)(ma),E=h.data,w=h.error,Z=h.loading,C=h.indices,N=(0,r.useMemo)((function(){return"review-".concat(y,"-").concat(a)}),[y,a]),x=(t=(0,r.useMemo)((function(){var e={},t=[],n=[],o=[];return E.length&&C[a]&&C[a].forEach((function(i){var l=E[i],c=l.id,s=l.body,d=l.user,f=l.taskState,v=l.time,y=l.edited,h=l.flags,b="".concat(a,"-").concat(c),w=null==h?void 0:h.includes("closed"),Z=w?n:t;w&&o.push(c),Z.push(r.createElement(cc,{variant:"render",key:"comment-".concat(b),dot:r.createElement(Qn.default,{user:d,show:{avatar:!0}}),content:r.createElement(Sc,{id:c,commentId:b,header:r.createElement(m.Z,{container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:d}),timestamp:v,edited:y})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(c)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{isArchived:w,taskState:f,menu:r.createElement($c,{id:c,user:p}),id:c}))),readHeader:r.createElement(m.Z,{className:u,container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap"},r.createElement(m.Z,{item:!0},r.createElement(Ac,{user:r.createElement(Qn.default,{user:d}),timestamp:v,edited:y})),r.createElement(m.Z,{item:!0},r.createElement(jc.Z,{messageKey:"comment-".concat(c)})),r.createElement(m.Z,{item:!0},r.createElement(Pc,{taskState:f,menu:r.createElement(es,{id:c,edited:y}),id:c}))),body:s,footer:w?null:r.createElement(m.Z,{container:!0,justifyContent:"flex-start"},g?r.createElement(m.Z,{item:!0},r.createElement(Fc,{commentId:b})):null,r.createElement(m.Z,{item:!0},r.createElement(Uc,{commentId:b,text:s,author:d}))),replies:r.createElement(as,{openCommentIndex:b,replyMap:e})})}))})),[t,n,o]}),[E]),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zu(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=x[0],k=x[1],I=x[2];return Z?r.createElement(d.Z,null):w?r.createElement(L.Z,{messages:w.messages?w.messages:[{type:"error",text:w}]}):r.createElement(m.Z,{container:!0,className:"reviewAttributeComments ".concat(a,"Comments"),direction:"column"},r.createElement(Zs,{archivedThreads:k,archivedThreadIds:I}),r.createElement(m.Z,{item:!0},S.length>0?r.createElement(Ql.Z,{align:"left",className:"commentList ".concat(s)},S):r.createElement(ye.Z,{text:o(i)})),r.createElement(m.Z,{className:"addAttributeComment",item:!0},r.createElement(ms,{openCommentId:N,context:{attribute:a}})))};Nu.propTypes={attribute:i().string.isRequired};var xu=Nu,Su=(0,u.Z)((function(e){return{bodyContainer:{paddingLeft:e.spacing(4),marginBottom:e.spacing(1)}}})),ku=function(e){var t=e.header,n=e.body,a=Su().bodyContainer;return r.createElement(m.Z,{container:!0,className:"job",direction:"column"},r.createElement(m.Z,{item:!0,className:"jobHeaderContainer"},t),n?r.createElement(m.Z,{item:!0,className:"jobBodyContainer ".concat(a)},n):null)},Iu=ku;ku.propTypes={header:i().node.isRequired,body:i().node},ku.defaultProps={body:null};var Tu=n(91768);function Au(e){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return Ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ou(e,t)}function Mu(e,t){if(t&&("object"===Au(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ru(e)}function Ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(e)}var zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}(l,e);var t,n,a,o,i=(a=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pu(a);if(o){var n=Pu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mu(this,e)});function l(e){var t,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a=function(){var e=t.state.expanded;t.setState({expanded:!e})},(r="toggle")in(n=Ru(t=i.call(this,e)))?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a;var o=e.expanded;return t.state={expanded:o},t}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.forceWrapped,n=e.text,a=e.t,o=this.state.expanded,i=a("titleText"),l="expandable-text";return l+=o?" expanded":" limited",l+=t?" force-wrap":" ",r.createElement("div",{className:l,onClick:this.toggle,onKeyPress:this.toggle,title:i,role:"button",tabIndex:"0"},n)}}])&&ju(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component),Lu=(0,Tu.Z)("globalDashboard")(zu);zu.propTypes={expanded:i().bool,forceWrapped:i().bool.isRequired,text:i().string.isRequired,t:i().func.isRequired},zu.defaultProps={expanded:!1};var Bu=function(e){var t=e.job,n=e.link,a=e.description,o=(0,u.Z)((function(){return{jobRemove:{marginLeft:"auto"}}}))().jobRemove,i=(0,l.v9)($.dy);return r.createElement(m.Z,{container:!0,spacing:1,direction:"row",className:"small jobHeader",justifyContent:"space-between",alignItems:"center"},r.createElement(m.Z,{item:!0},r.createElement(xn.Z,{className:"jobLink",target:n},t)),r.createElement(m.Z,{item:!0,className:"jobDescription"},r.createElement(Lu,{forceWrapped:!0,text:a})),i?r.createElement(m.Z,{item:!0,className:"".concat(o," jobRemove")},r.createElement(A.Z,{size:14})):r.createElement(m.Z,{item:!0,className:"".concat(o)}))},qu=Bu;Bu.propTypes={link:i().string.isRequired,job:i().string.isRequired,description:i().string.isRequired};var Vu=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon addInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{className:"addPath",fill:t,d:"M9,15.021c1.082,0,2.092-0.276,3.029-0.83c0.912-0.528,1.634-1.25,2.162-2.162 c0.554-0.938,0.83-1.947,0.83-3.029s-0.276-2.092-0.83-3.029c-0.528-0.913-1.25-1.634-2.162-2.163 C11.092,3.255,10.082,2.979,9,2.979S6.908,3.255,5.971,3.808c-0.913,0.529-1.634,1.25-2.163, 2.163C3.255,6.909,2.979,7.918,2.979,9 s0.276,2.092,0.829,3.029c0.529,0.912,1.25,1.634,2.163,2.162C6.908,14.745,7.918,15.021,9,15.021z M9,1.5 c1.371,0,2.639,0.343,3.805,1.027c1.131,0.649,2.021,1.539,2.668,2.669C16.157,6.362,16.5,7.63,16.5,9 c0,1.371-0.343,2.639-1.027,3.805c-0.646,1.131-1.537,2.021-2.668,2.668C11.639,16.157,10.371,16.5,9,16.5 c-1.37,0-2.638-0.343-3.804-1.027c-1.13-0.66-2.02-1.557-2.669-2.688C1.843,11.62,1.5,10.357, 1.5,9c0-1.358,0.343-2.62,1.027-3.786 c0.662-1.129,1.557-2.025,2.687-2.687C6.38,1.843,7.642,1.5,9,1.5z M9.738, 5.232V8.26h3.029v1.479H9.738v3.028H8.26V9.739H5.232 V8.26H8.26V5.232H9.738z"}))},Hu=Vu;Vu.propTypes={fill:i().string,size:i().number},Vu.defaultProps={fill:E.Z[300],size:16};var $u=n(56847),Du=function(e){return e.jobs},Fu=n(37498);function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ku=(0,u.Z)((function(e){return{row:{cursor:"pointer"},selectedRow:{backgroundColor:e.palette.colors.blue[50]},body:{maxWidth:e.spacing(80),width:e.spacing(80)},list:{overflowX:"auto",borderTop:e.spacing(.125,"solid",e.palette.colors.grey[200]),marginTop:e.spacing(1),minHeight:e.spacing(80),height:e.spacing(80)},search:{margin:e.spacing(.125)}}})),Gu=function(e){var t=(0,l.I0)(),n=(0,l.v9)(b.pW),a=e.handleClose,o=(0,l.v9)(Du),i=o.loading,c=o.error,s=o.data,u=(0,l.v9)(Ie).jobs,p=(0,v.$)(["change","common","job"]).t,f=Ku(),y=f.selectedRow,h=f.row,E=f.body,w=f.list,Z=f.search,C=Wu((0,r.useState)(-1),2),N=C[0],x=C[1],S=Wu((0,r.useState)(null),2),k=S[0],I=S[1];(0,r.useEffect)((function(){t((0,Fu.bG)({max:50}))}),[]);var T=(0,r.useMemo)((function(){var e=[];return null==s||s.forEach((function(t){-1===(u?u.findIndex((function(e){return e.job===t.job})):-1)&&e.push(t)})),e}),[u,s]),A=Wu((0,r.useMemo)((function(){return[p("addAJob"),function(){t((0,Yt.Y$)({changeId:n,jobId:k})),a()}]}),[k]),2),j=A[0],O=A[1];return r.createElement(M,{handleClose:a,title:j,body:r.createElement(m.Z,{container:!0,direction:"column",className:"addJobBody ".concat(E)},r.createElement(m.Z,{container:!0,justifyContent:"flex-end"},r.createElement(m.Z,{item:!0,className:Z},r.createElement(cl.Z,{classes:"addJobSearch",changeHandler:function(e){t((0,Fu.bG)({max:50,filter:e}))},placeholder:p("common:search"),debounceTimeOut:1e3}))),r.createElement(m.Z,{item:!0,className:"jobsTable ".concat(w)},r.createElement($u.Z,null,r.createElement(Dt.Z,{size:"small"},r.createElement(aa.Z,{className:"jobsTableHeader"},r.createElement($t.Z,null,r.createElement(Ft.Z,null,p("job:job")),r.createElement(Ft.Z,null,p("job:status")),r.createElement(Ft.Z,null,p("job:description")))),i?r.createElement(Wt.Z,null,r.createElement($t.Z,null,r.createElement(Ft.Z,{colSpan:3},r.createElement(d.Z,null)))):c?r.createElement(Wt.Z,null,r.createElement($t.Z,null,r.createElement(Ft.Z,{colSpan:3},r.createElement(L.Z,{messages:c})))):null!=s&&s.length?r.createElement(Wt.Z,null,T.map((function(e,t){var n=e.job,a=e.description,o=e.fixStatus;return r.createElement($t.Z,{className:"job-".concat(n," ").concat(h)+"".concat(N===t?" ".concat(y):""),key:"job-".concat(n),onClick:function(){return function(e){x(e),I(T[e].job)}(t)}},r.createElement(Ft.Z,null,n),r.createElement(Ft.Z,null,o),r.createElement(Ft.Z,null,a))}))):r.createElement(Wt.Z,null,r.createElement($t.Z,null,r.createElement(Ft.Z,{colSpan:3},r.createElement(ye.Z,{type:"warning",text:p("job:noJobs"),variant:"plain"})))))))),footer:{actionButton:r.createElement(g.Z,{disabled:N<0,onClick:O,variant:"contained",color:"primary",className:"dialogButton actionButton selectButton"},p("common:select"))},classNames:"changeAddJobDialog"})},Ju=Gu;function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Gu.propTypes={handleClose:i().func},Gu.defaultProps={handleClose:function(){}};var Xu=(0,u.Z)((function(e){return{addJob:{margin:e.spacing(0,0,0,1.5)}}})),Yu=function(){var e,t,n=(0,l.I0)(),a=Xu().addJob,o=(0,v.$)("change").t,i=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],u=function(){c&&n((0,Fu.ny)()),s(!c)};return r.createElement(r.Fragment,null,r.createElement(g.Z,{onClick:u,className:"".concat(a," addJob"),startIcon:r.createElement(Hu,{fill:Pn.Z[500]}),color:"primary"},r.createElement(y.Z,{variant:"caption"},o("addAJob"))),c?r.createElement(Ju,{handleClose:u}):null)},Qu=(0,u.Z)((function(e){return{jobsContainer:{margin:e.spacing(1,0,0)},jobsDisplay:{margin:e.spacing(0,0,0)}}})),em=function(){var e=(0,l.v9)(Ie),t=e.loading,n=e.jobs,a=e.error,o=(0,v.$)("change").t,i=Qu(),c=i.jobsContainer,s=i.jobsDisplay,u=(0,l.I0)(),p=(0,l.v9)($.dy),f=(0,r.useMemo)((function(){return n.length>0?n.map((function(e){var t=e.job,n=e.link,a=e.description;return r.createElement(cc,{variant:"render",key:t,dot:r.createElement(nu.Z,{size:14}),content:r.createElement(Iu,{header:r.createElement(qu,{link:n,job:t,description:a})})})})):[]}),[n]);return t?r.createElement(d.Z,null):a?r.createElement(L.Z,{messages:a}):r.createElement(m.Z,{container:!0,direction:"column",className:"".concat(c)},r.createElement(m.Z,{item:!0},f.length>0?r.createElement(Ql.Z,{align:"left",className:"".concat(s," jobs")},f):r.createElement(ye.Z,{className:"noJobs",text:o("noJobs")})),r.createElement(m.Z,{item:!0},p?r.createElement(Yu,null):r.createElement(g.Z,{onClick:function(){u((0,bc.or)(!0))},className:"loginButton",color:"primary"},r.createElement(y.Z,{variant:"body2",className:"medium"},o("loginToAddJobs")))))};function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nm=(0,u.Z)((function(e){return{root:{paddingTop:e.spacing(1),border:e.spacing(.125,"solid",E.Z[100]),borderRadius:e.spacing(0,0,.375,.375),borderTopWidth:0},tabs:{padding:e.spacing(0,2,0,1)},tabContainer:{padding:e.spacing(.5,0),borderTop:e.spacing(.125,"solid",e.palette.colors.grey[220])},tabContent:{borderTop:e.spacing(.125,"solid",E.Z[100])}}})),rm=function(){var e,t,n=(0,v.$)(["review","comment"]).t,a=nm(),o=a.root,i=a.tabs,c=a.tabContainer,s=a.tabContent,u=(e=r.useState(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],p=u[1],y=function(e){p(d===e?null:e)},h=(0,l.v9)(Ie),b=h.jobs,E=h.loading,w=(0,r.useMemo)((function(){return!E&&b?b.length:"-"}),[E,b]),Z=(0,l.v9)(ma),C=Z.data,N=Z.loading,x=(0,l.v9)(ga("description")),S=x>0?n("comment:archivedComments",{count:x}):"",k=(0,r.useMemo)((function(){return!N&&C?"".concat(C.filter((function(e){var t;return"description"===e.context.attribute&&!(null!==(t=e.flags)&&void 0!==t&&t.includes("closed"))})).length):"-"}),[N,C]);return r.createElement(m.Z,{container:!0,direction:"column",className:"reviewHeaderTabs ".concat(o)},r.createElement(m.Z,{item:!0,className:"tabs ".concat(i)},r.createElement(m.Z,{container:!0,className:"tabContainer ".concat(c),justifyContent:"flex-start"},r.createElement(m.Z,{item:!0,className:"commentsItem"},r.createElement(g.Z,{startIcon:r.createElement(Bi,{fill:wu.Z.primary.main}),variant:"text",color:"primary",onClick:function(){return y("comments")}},r.createElement(m.Z,{container:!0},r.createElement(m.Z,{item:!0},n("comments")),r.createElement(f.ZP,{title:S,arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(m.Z,{item:!0,className:"reviewHeaderTabsCommentCount"},"Â (".concat(k,")")))))),r.createElement(m.Z,{item:!0,className:"jobsItem"},r.createElement(g.Z,{startIcon:r.createElement(nu.Z,{fill:wu.Z.primary.main}),variant:"text",color:"primary",onClick:function(){return y("jobs")}},"".concat(n("jobs")," (").concat(w,")"))))),r.createElement(bi.ErrorBoundary,{FallbackComponent:Ei.Z},r.createElement(m.Z,{item:!0,hidden:"comments"!==d,className:"commentsContent ".concat(s)},r.createElement(xu,{attribute:"description"})),r.createElement(m.Z,{item:!0,hidden:"jobs"!==d,className:"jobsContent ".concat(s)},r.createElement(em,null))))},am=r.memo(rm),om=n(73251);function im(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function lm(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){im(o,r,a,i,l,"next",e)}function l(e){im(o,r,a,i,l,"throw",e)}i(void 0)}))}}var cm=(0,ai.Z)(),sm=cm.redirectLegacyReviewURL,um=cm.getVersionsFromQueryParams,mm=(0,u.Z)((function(e){return{root:{paddingTop:e.spacing(2)},open:{paddingRight:e.spacing(31.75)},closed:{paddingRight:e.spacing(10.25)},description:{marginTop:e.spacing(2),padding:e.spacing(0,1,0,2),border:e.spacing(.125,"solid",E.Z[100]),borderRadius:e.spacing(.375,.375,0,0),borderBottomWidth:0},tabs:{margin:e.spacing(2,0,1.5)},commentText:{width:"100%","& .MuiInputBase-multiline":{padding:0,fontSize:"14px","& .MuiInputBase-inputMultiline":{padding:e.spacing(.5)}},"& .MuiInput-underline:hover:before":{borderBottomColor:e.palette.colors.blue[200]}}}})),dm=function(e){var t=e.id,n=e["*"],o=e.location,i=o.pathname,s=o.search,u=o.hash,p=mm(),f=p.root,v=p.open,g=p.closed,y=p.tabs,h=p.description,E=(0,l.I0)(),w=(0,r.useMemo)((function(){return um(s)}),[s]),Z=(0,l.v9)(Ke.BR),C=(0,l.v9)(Ke.$o).mentions.mode,N=(0,l.v9)(Qa),x=N.to,S=N.from,k=(0,l.v9)(Un);(0,r.useEffect)((function(){sm(o,Z)}),[i,u]),(0,r.useEffect)((function(){var e=w.from,t=w.to;if(null!==e&&null!==t&&null!==x&&null!==S&&(S!==e||x!==t)){var n=function(){var n=lm(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",E((0,Mo.a6)(e,t)));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n().then(lm(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E((0,Mo.kx)());case 1:case"end":return e.stop()}}),e)}))))}}),[w]),(0,r.useEffect)((function(){if(null!==t){E((0,Oo.v)({reviewId:t,urlVersion:w}));var e="Swarm - Review ".concat(t);(0,om.Z)({title:e})}return function(){E((0,Oo.R)())}}),[]);var I=(0,l.v9)(eo),T=(0,l.v9)(b.e4),A=T.data,j=T.loading,O=T.error,M=(0,l.v9)(pn);return(0,r.useEffect)((function(){Object.keys(k).length&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];swarm.comments={mentionsMode:e,mentionsArray:t},swarm.mentions.init(null,!0)}(C,k)}),[k]),r.createElement(m.Z,{container:!0,direction:"column",className:"review-container ".concat(f)},r.createElement(m.Z,{item:!0},r.createElement(c.default,{title:"reviews",id:t})),j?r.createElement(d.Z,{variant:"overlay"}):O?r.createElement(L.Z,{messages:O}):r.createElement(r.Suspense,{fallback:r.createElement(d.Z,{variant:"overlay"})},r.createElement(m.Z,{item:!0,container:!0,direction:"column",spacing:0,className:"review reviewPrimaryContainer ".concat(M?v:g)},r.createElement(m.Z,{container:!0,direction:"column",className:"\n                        reviewPrimaryContainer reviewNavigation".concat(M?"Open":"Closed")},r.createElement(m.Z,{className:"reviewHeader",container:!0,item:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap",spacing:2},r.createElement(m.Z,{item:!0,key:"reviewSummaryWrapper"},r.createElement(W.Z,{id:A.id,user:A.author,isReviewPending:A.pending,currentVersion:I,totalVersions:A.versions.length,created:A.created,updated:A.updated,projects:A.projects})),r.createElement(m.Z,{item:!0,key:"reviewStateGroupWrapper"},r.createElement(m.Z,{className:"reviewStatus",container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap",spacing:1},r.createElement(m.Z,{item:!0},r.createElement(U.default,{state:A.state,commitCount:A.commits.length})),r.createElement(m.Z,{item:!0},r.createElement(Y,null)),r.createElement(m.Z,{item:!0},r.createElement(Ue,null)),r.createElement(m.Z,{item:!0},r.createElement(un,null))))),r.createElement(m.Z,{item:!0,className:"descriptionContainer ".concat(h),container:!0},r.createElement(F,null)),r.createElement(m.Z,{item:!0,container:!0},r.createElement(am,null))),r.createElement(m.Z,{className:y,item:!0,container:!0,direction:"row",justifyContent:"space-between"},r.createElement(m.Z,{item:!0,key:"reviewTabs"},r.createElement(bu,{activeTab:n})),r.createElement(m.Z,{item:!0,key:"reviewNotifications"},r.createElement(Eu,null))),r.createElement(m.Z,{item:!0,container:!0,direction:"column"},r.createElement(m.Z,{item:!0},r.createElement(a.F0,null,r.createElement(Us,{path:"/files"}),r.createElement(Js,{path:"/comments"}),r.createElement(fu,{path:"/activity"}),r.createElement(Us,{default:!0})))),r.createElement(m.Z,{item:!0},r.createElement(jo,null)))))},pm=dm;dm.propTypes={id:i().string,"*":i().string,location:i().objectOf(i().oneOfType([i().any]))},dm.defaultProps={id:null,"*":"",location:{}};var fm=function(){var e="preview"===(0,l.v9)(Ke.VI)?pm:function(e){return r.createElement(c.default,{legacyPage:!0,id:e.id,title:"reviews"})};return r.createElement(a.F0,null,r.createElement(s.default,{path:"/"}),r.createElement(e,{className:"review-container",path:":id/*"}),r.createElement(c.default,{default:!0,title:"reviews"}))},vm=fm;fm.propTypes={id:i().number},fm.defaultProps={id:null}},32256:function(e,t,n){n.r(t);var r=n(67294),a=n(45697),o=n.n(a),i=n(28889),l=n(26793),c=n(868),s=n(32427),u=n(22318),m=n(51869),d=(0,s.Z)((function(e){return{root:{lineHeight:2,whiteSpace:"nowrap","&.needsReview":{"& svg":{fill:e.palette.colors.blue[200]}},"&.needsRevision":{"& svg":{fill:e.palette.colors.orange[500]}},"&.approved, &.committed":{"& svg":{fill:e.palette.colors.green[500]}},"&.rejected":{"& svg":{fill:e.palette.colors.red[600],transform:"rotateX(180deg)"}},"&.archived":{"& svg":{fill:e.palette.colors.grey[300]}},"& span":{paddingLeft:e.spacing(.8),paddingRight:e.spacing(1.5)}}}})),p=function(e){var t=e.state,n=e.commitCount,a=e.labelled,o=e.label,s=(0,l.$)("review").t,p="approved:commit"===t?"approvedCommit":t,f=d(),v=o||s(p),g="approvedCommit"===p||"approved"===p&&0!==n?"committed":p,y=(0,r.useMemo)((function(){return a?r.createElement(u.Z,{variant:"body2",className:"smaller"},v):null}),[v]);return r.createElement(c.ZP,{arrow:!0,placement:"top",title:a?"":v},r.createElement(i.Z,{className:"reviewState ".concat(g," ").concat(f.root)},r.createElement(r.Suspense,{fallback:null},r.createElement(m.Z,{variant:g}),y)))};t.default=p,p.propTypes={state:o().oneOf(["approved","rejected","archived","needsReview","needsRevision","approved:commit"]).isRequired,commitCount:o().number,labelled:o().bool,label:o().string},p.defaultProps={commitCount:0,labelled:!0,label:null}},51869:function(e,t,n){n.d(t,{Z:function(){return E}});var r=n(67294),a=n(45697),o=n.n(a),i=n(46750),l=n(85264),c=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{style:{height:a,width:o},className:"svgIcon filledEyeInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18;"},r.createElement("path",{fill:t,d:"M10.875,9.775C10.525,10.125,10.1,10.3,9.6,10.3c-0.5,0-0.925-0.175-1.272-0.524C7.975,9.425,7.8,9,7.8, 8.5 s0.175-0.925,0.525-1.275c0.276-0.276,0.602-0.439,0.972-0.497C9.199,6.716,9.103,6.7,9,6.7c-0.66, 0-1.225,0.235-1.695,0.705 C6.835,7.875,6.6,8.439,6.6,9.1c0,0.661,0.23,1.23,0.69,1.71C7.77,11.27,8.34, 11.5,9,11.5s1.225-0.234,1.695-0.705 C11.165,10.325,11.4,9.76,11.4, 9.1c0-0.103-0.018-0.199-0.027-0.298C11.314,9.172,11.15,9.498,10.875,9.775z M10.688,8.725 c0.246,0, 0.457-0.069,0.645-0.188c-0.1-0.423-0.307-0.802-0.637-1.131c-0.328-0.329-0.709-0.537-1.131-0.635 C9.444, 6.956,9.375,7.167,9.375,7.412c0,0.351,0.131,0.656,0.395,0.919C10.032,8.594,10.338,8.725,10.688, 8.725z M9,0 C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18,4.029,13.971,0,9,0z M14.812, 9.325 c-1.041,1.071-1.854,1.811-2.438,2.218C11.25,12.314,10.125,12.7,9,12.7c-0.812, 0-1.588-0.183-2.328-0.548 c-0.74-0.363-1.307-0.729-1.703-1.092c-0.396-0.365-0.979-0.943-1.75-1.735L3, 9.1l0.031-0.031C4.177,7.867,5.156,7,5.969,6.464 C6.969,5.821,7.979,5.5,9,5.5c1.959,0,3.947,1.2,5.969, 3.6L15,9.133L14.812,9.325z"}))},s=c;c.propTypes={fill:o().string,size:o().number},c.defaultProps={fill:l.Z[200],size:16};var u=n(56021),m=function(e){var t=e.down,n=e.fill,a=e.size,o="".concat(a,"px"),i="".concat(a,"px"),l="rotateX(".concat(t?180:0,"deg");return r.createElement("svg",{style:{height:o,transform:l,width:i},className:"svgIcon filledThumbInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18"},r.createElement("path",{fill:n,d:"M9,0C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18,4.029,13.971,0,9,0z M6,12.084 C6, 12.311,5.791,12.5,5.539,12.5H3.461C3.209,12.5,3,12.311,3,12.084V7.916C3,7.689,3.209,7.5,3.461, 7.5h2.077 C5.791,7.5,6,7.689,6,7.916V12.084z M13.75,9.549c0.014,0.324-0.081,0.631-0.27,0.891c0.067, 0.242,0.067,0.502,0,0.764 c-0.062,0.24-0.183,0.457-0.338,0.611c0.039,0.488-0.067,0.887-0.307, 1.18c-0.271,0.332-0.684,0.502-1.23,0.508 c-0.024,0-0.111,0-0.227,0H10.8c-0.894, 0-1.737-0.309-2.412-0.547c-0.394-0.145-0.769-0.279-0.988-0.287 C7.188,12.66,7,12.479,7,12.25V8.076C7, 7.861,7.175,7.68,7.381,7.66c0.231-0.02,0.831-0.795,1.106-1.172 c0.225-0.299,0.438-0.58, 0.631-0.781C9.362,5.453,9.43,5.062,9.505,4.685c0.07-0.384,0.146-0.788,0.414-1.061 C9.994,3.545,10.094, 3.5,10.2,3.5C11.6,3.5,11.6,4.666,11.6,5.167c0,0.534-0.181,0.912-0.35,1.25 c-0.068,0.144-0.131, 0.208-0.182,0.417H12.8c0.65,0,1.2,0.572,1.2,1.25c0,0.344-0.131,0.715-0.344,0.969 C13.725,9.262,13.75, 9.457,13.75,9.549z M4.5,10.5C4.219,10.5,4,10.727,4,11c0,0.281,0.219,0.5,0.5,0.5C4.773,11.5,5,11.281,5, 11 C5,10.727,4.773,10.5,4.5,10.5z"}))},d=m;m.propTypes={fill:o().string,down:o().bool,size:o().number},m.defaultProps={fill:u.Z[500],down:!1,size:16};var p=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon filledCommitArrowInCircle",style:{height:a,width:o},viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18"},r.createElement("path",{fill:t,d:"M9,0C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18,4.029,13.971,0,9,0z M13, 14.5H5V13h8 V14.5z M11.041,7.926v3.098H6.81V7.926H4L8.925,3l4.925,4.926H11.041z"}))},f=p;p.propTypes={fill:o().string,size:o().number},p.defaultProps={fill:u.Z[500],size:16};var v=n(39411),g=n(17976),y=function(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{style:{height:a,width:o},className:"svgIcon filledEditInCircle",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18"},r.createElement("path",{fill:t,d:"M9,0C4.029,0,0,4.029,0,9c0,4.971,4.029,9,9,9c4.971,0,9-4.029,9-9C18,4.029,13.971,0,9,0z M10.984, 3.144 C11.08,3.048,11.198,3,11.338,3c0.141,0,0.258,0.048,0.354,0.144l1.164,1.164C12.952,4.404,13,4.522, 13,4.662 c0,0.14-0.048,0.258-0.145,0.354L11.872,6L10,4.128L10.984,3.144z M5,9.369L9.369,5L11, 6.631L6.631,11H5V9.369z M14,14H4v-1.5h10V14 z"}))},h=y;y.propTypes={fill:o().string,size:o().number},y.defaultProps={fill:g.Z[500],size:16};var b=function(e){var t=e.variant,n=e.size;switch(t){case"archived":return r.createElement(v.Z,{size:n});case"rejected":return r.createElement(d,{down:!0,fill:i.Z[600],size:n});case"committed":case"approved:notPending":return r.createElement(f,{size:n});case"approved":case"approved:isPending":return r.createElement(d,{size:n});case"needsRevision":return r.createElement(h,{size:n});default:return r.createElement(s,{size:n})}},E=b;b.propTypes={variant:o().string.isRequired,size:o().number},b.defaultProps={size:16}},80551:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(67294),a=n(45697),o=n.n(a),i=n(282),l=n(26793),c=n(868),s=n(46750),u=n(85264),m=n(56021),d=n(89420),p=n(56354);function f(e){var t=e.fill,n=e.size,a="".concat(n,"px"),o="".concat(n,"px");return r.createElement("svg",{className:"svgIcon filledThumbCross",viewBox:"0 0 18 18",enableBackground:"new 0 0 18 18",style:{height:a,width:o}},r.createElement("path",{fill:t,d:"M16.2 10.3l1.3 1.3-1.9 1.9 1.9 1.9-1.3 1.3-1.9-1.9-1.9 1.9-1.3-1.3 1.9-1.9-1.9-1.9 1.3-1.3 1.9 1.9 1.9-1.9zM9.9 1.8c1.5 0 1.9.8 2 1.6v.7c0 .7-.2 1.1-.4 1.6l-.1.2-.1.1c0 .1-.1.1-.1.2v.1h2.7c.9.1 1.6.8 1.6 1.7v.1c-.3-.1-.6-.1-1-.1 0-.4-.3-.7-.7-.8H9.9l.3-1.2v-.2c0-.1.1-.3.1-.4l.2-.3c.3-.2.5-.5.5-1 0-.9-.1-1.3-.9-1.3-.1 0-.1.2-.2.4l-.1.6c-.1.6-.3 1.2-.8 1.7-.2.2-.4.5-.6.7l-.5.7-.3.3-.3.3-.1.1-.2.3-.2.1c0 .1-.1.1-.1.2l-.2.1-.1.1h-.1v5.1h.2c.2 0 .4.1.7.2l.5.2c.4.1.9.3 1.4.4.1.4.2.7.3 1.1-.5-.1-1-.2-1.4-.4l-1.1-.4c-.3-.1-.6-.2-.9-.2h-.1c-.3 0-.5-.2-.6-.5V8c0-.3.3-.5.5-.5.1 0 .4-.2.6-.4l.2-.3.1-.1.3-.3.4-.4.1-.1c.3-.4.6-.8.9-1.1.3-.3.4-.6.5-1l.1-.4V3c.1-.4.2-.8.5-1.1.1-.1.3-.1.4-.1zm-6.6 6c.3.1.5.2.5.5V14c0 .2-.2.4-.4.4H.9c-.2 0-.4-.2-.4-.4V8.3c0-.2.2-.4.4-.4h2.4zm-1.1 4.5c-.3 0-.6.2-.6.6 0 .3.2.6.6.6.3 0 .6-.2.6-.6-.1-.4-.3-.6-.6-.6z"}))}f.propTypes={fill:o().string,size:o().number},f.defaultProps={fill:d.Z[70],size:16};var v=function(e){var t=e.className,n=e.variant,a=e.active,o=e.onClick,v=e.title,g=e.stale,y=(0,l.$)("review").t,h="down"===n;return r.createElement(c.ZP,{title:y(v),arrow:!0,placement:"top",className:"manual-tooltip"},r.createElement(i.Z,{className:"filterButton ".concat(t," ").concat(n,"Button ").concat(a?"active":""),variant:"outlined",onClick:o},"none"===n?r.createElement(f,{fill:a?u.Z[500]:d.Z[300]}):r.createElement(p.Z,{down:h,fill:"down"===n?g?d.Z[200]:s.Z[600]:g?d.Z[200]:m.Z[500]})))};v.propTypes={className:o().string,variant:o().oneOf(["up","down","none"]).isRequired,active:o().bool,onClick:o().func,title:o().string,stale:o().bool},v.defaultProps={className:"",active:!1,onClick:function(){},title:"",stale:!1};var g=v},94701:function(e,t,n){var r=n(8081),a=n.n(r),o=n(23645),i=n.n(o),l=n(99183),c=n(92621),s=i()(a());s.i(l.Z),s.i(c.Z),s.push([e.id,"\n",""]),t.Z=s}}]);
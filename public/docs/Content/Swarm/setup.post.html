<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Side_Nav___Swarm" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Post-install configuration options</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/perforce.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE.htc');
}

</style>
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */		/*The following script overrides topic title in browser tab*/
			document.title = "Helix Swarm Guide (2022.1)";
		/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 980px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="home-swarm.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="skin-heading-swarm"><span class="mc-variable Perforce.Manual_Title variable">Helix Swarm Guide</span> (<span class="mc-variable Perforce.VersionNumber variable">2022.1</span>)</div>
                                    <script src="../Resources/google-analytics/gtag.js">
                                    </script>
                                    <script type="text/javascript">/*<![CDATA[*/
			$(document).ready(function(){
			$("#skin-heading-swarm").appendTo("div.logo-wrapper"); 
			});
		/*]]>*/</script>
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Topic_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ExpandAll Print RemoveHighlight NextTopic PreviousTopic Forward Back;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print this topic">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Go to previous heading" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Go to next heading" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div class="sidenav-content">
                                        <div role="main" id="mc-main-content">
                                            <h1 data-mc-autonum=""><a name="Post-install_configuration_options" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span>Post-install configuration options</h1>
                                            <p>There are a few options for customizing your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation's operation. This section covers the options that are officially supported.</p>
                                            <p><b>This section contains: </b>
                                            </p>
                                            <ul>
                                                <li><a href="#setup.post.no_customization" class="MCXref xref">No customization required</a>
                                                </li>
                                                <li><a href="#setup.post.backup.first" class="MCXref xref">Back up your Swarm virtual host first</a>
                                                </li>
                                                <li><a href="#setup.post.ssl" class="MCXref xref">HTTPS</a>
                                                </li>
                                                <li><a href="#setup.post.subfolder" title="Run Swarm in a sub-folder of an existing web site" alt="Run Swarm in a sub-folder of an existing web site" class="MCXref xref">Run Swarm in a sub-folder of an existing web site</a>
                                                </li>
                                                <li><a href="#setup.post.port" title="Run Swarm's virtual host on a custom port" alt="Run Swarm's virtual host on a custom port" class="MCXref xref">Run the Swarm virtual host on a custom port</a>
                                                </li>
                                                <li><a href="#setup.post.using_your_redis_server" class="MCXref xref">Use your own Redis server</a>
                                                </li>
                                                <li><a href="#setup-post_dm_keys" class="MCXref xref">Hiding Swarm storage from regular users</a>
                                                </li>
                                                <li><a href="#setup-post_exclusive_locks" class="MCXref xref">Handling Exclusive Locks</a>
                                                </li>
                                            </ul>
                                            <h2 data-mc-autonum=""><a name="No_customization_required" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.no_customization"></a>No customization required</h2>
                                            <p>If you do not need to customize your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation,   your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation is complete but you must check that it is working correctly before using it in production. For instructions on how to check your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</p>
                                            <h2 data-mc-autonum=""><a name="Back_up_your_Swarm_virtual_host_first" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.backup.first"></a>Back up your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host first</h2>
                                            <p>Before undertaking any of the following customization options, ensure that you have <a name="setup.post.backup"></a>backed up your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host configuration. Choose the most appropriate option:</p>
                                            <ul>
                                                <li>If your Apache configuration directory contains the directories <code>sites-available</code> and <code>sites-enabled</code>:<pre class="programlisting"><span style="font-weight: normal;">$ </span><b>cd </b><i style="font-weight: bold;">/path/to/apache/configuration/</i><b>..</b><br /><span style="font-weight: normal;">$</span> <b>cp -a sites-available sites-available.bak</b></pre><div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span><p>If the <code class="code_clearBackground">sites-enabled</code> directory contains files, and not just symbolic links, you need to backup this folder as well:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>cd /path/to/apache/configuration/..</b><br /><span style="font-weight: normal;">$</span> <b>cp -a sites-enabled sites-enabled.bak</b></pre></div></li>
                                                <li>
                                                    <p>For CentOS/RHEL systems, if you used the <a href="chapter-setup_package.html" title="Swarm packages" alt="Swarm packages"><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> packages</a> to install <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>cd /path/to/apache/configuration/..</b><br /><span style="font-weight: normal;">$</span> <b>cp -a conf.d conf.d.bak</b></pre>
                                                </li>
                                                <li>Otherwise, back up your Apache configuration.</li>
                                            </ul>
                                            <h2 data-mc-autonum=""><a name="HTTPS" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.ssl"></a>HTTPS</h2>
                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                <p>Back up your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host configuration before customizing your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, see <a href="#setup.post.backup.first" title="Back up your Swarm Virtual Host First" alt="Back up your Swarm Virtual Host First" class="MCXref xref">Back up your Swarm virtual host first</a>. </p>
                                            </div>
                                            <p>This section describes how to make your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation more secure by using HTTPS. </p>
                                            <p>Before you begin the following procedure, locate your system's Apache configuration. Common configuration directories include:</p>
                                            <ul>
                                                <li><span class="code">/etc/httpd/conf/</span>
                                                </li>
                                                <li><span class="code">/etc/apache2/</span>
                                                </li>
                                                <li><span class="code">/usr/local/apache2/conf/</span>
                                                </li>
                                                <li><span class="code">/Applications/XAMPP/etc/</span>
                                                </li>
                                            </ul>
                                            <p>Within the Apache configuration path, the main Apache configuration file is usually named one of the following:</p>
                                            <ul>
                                                <li><span class="code">httpd.conf</span>
                                                </li>
                                                <li><span class="code">apache2.conf</span>
                                                </li>
                                            </ul>
                                            <p>A longer discussion on the possible locations and names of Apache configuration files is available here: <a href="https://cwiki.apache.org/confluence/display/httpd/DistrosDefaultLayout" target="_blank" title="Link to https://cwiki.apache.org/confluence/display/httpd/DistrosDefaultLayout" alt="Link to https://cwiki.apache.org/confluence/display/httpd/DistrosDefaultLayout">https://cwiki.apache.org/confluence/display/httpd/DistrosDefaultLayout</a></p>
                                            <ol>
                                                <li value="1">
                                                    <p>Enable SSL in Apache.</p>
                                                    <p>If the Apache utility <code>a2enmod</code> is installed:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>sudo a2enmod ssl</b></pre>
                                                    <p>Without the <code>a2enmod</code> utility, edit the Apache configuration file by hand. Locate your Apache configuration file for modules and either uncomment or add the following lines:</p><pre class="programlisting" lang="apache">LoadModule  ssl_module  libexec/apache2/mod_ssl.so</pre>
                                                </li>
                                                <li value="2">
                                                    <p>Create a directory to store certificates.</p><pre class="programlisting">$ <b>sudo mkdir -p /etc/apache2/ssl</b></pre>
                                                </li>
                                                <li value="3">
                                                    <p>Create a certificate/key pair.</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>cd /etc/apache2/ssl</b><br></br><span style="font-weight: normal;">$</span> <b>sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout apache.key -out apache</b>.crt</pre>
                                                    <p>This command generates a private key and a certificate. To form the certificate, <code>openssl</code> prompts you for several details:</p><pre class="screen" xml:space="preserve">Generating a 2048 bit RSA private key
...................+++
....................................+++
writing new private key to 'apache.key'
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:<i>CA</i>
State or Province Name (full name) [Some-State]:<i>British Columbia</i>
Locality Name (eg, city) []:<i>Victoria</i>
Organization Name (eg, company) [Internet Widgits Pty Ltd]:<i>Perforce Software</i>
Organizational Unit Name (eg, section) []:<i><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> development team</i>
Common Name (e.g. server FQDN or YOUR name) []:<i>myswarm.host</i>
Email Address []:<i>admin@myswarm.host</i></pre>
                                                    <p>The output above includes some example details. You should replace anything in italics with your own details. Since the certificate request details that can help users determine whether your certificate is valid, enter legitimate information whenever possible.</p>
                                                    <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                        <p>The Common Name field must match the hostname for your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation exactly.</p>
                                                    </div>
                                                </li>
                                                <li value="4">
                                                    <p>Secure the certificate directory.</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>sudo chmod 600 /etc/apache2/ssl</b></pre>
                                                </li>
                                                <li value="5">
                                                    <p>Edit the virtual host configuration.</p>
                                                    <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                        <p>The virtual host configuration should be in the file you <a href="#setup.post.backup">backed up initially</a>.</p>
                                                    </div>
                                                    <p>
                                                        <p>Edit the virtual host configuration to match:</p><pre class="programlisting" lang="apache" xml:space="preserve">
&lt;VirtualHost *:80&gt;
	ServerName <i>myswarm</i>
	AllowEncodedSlashes NoDecode
	ServerAlias <i>myswarm.host</i>
	ErrorLog "<i>/path/to/apache/logs/myswarm</i>.error_log"
	CustomLog "<i>/path/to/apache/logs/myswarm</i>.access_log" common
	DocumentRoot "<i>/path/to/swarm/</i>public"
	&lt;Directory "<i>/path/to/swarm/</i>public"&gt;
		AllowOverride All
		Require all granted
	&lt;/Directory&gt;
							
       Redirect / https://myswarm.host/
&lt;/VirtualHost&gt;

&lt;VirtualHost *:443&gt;
	SSLEngine on
	SSLCertificateFile /etc/apache2/ssl/apache.crt
	SSLCertificateKeyFile /etc/apache2/ssl/apache.key

	ServerName <i>myswarm.host</i>
	AllowEncodedSlashes NoDecode
	ServerAlias <i>myswarm</i>
	ErrorLog "<i>/path/to/apache/logs/myswarm</i>.error_log"
	CustomLog "<i>/path/to/apache/logs/myswarm</i>.access_log" common
	DocumentRoot "<i>/path/to/swarm/</i>public"
	&lt;Directory "<i>/path/to/swarm/</i>public"&gt;
		AllowOverride All
		Require all granted
	&lt;/Directory&gt;
&lt;/VirtualHost&gt;</pre>
                                                    </p>
                                                    <p>See Apache's virtual host documentation for details: <a href="https://httpd.apache.org/docs/2.4/vhosts/" target="_blank">https://httpd.apache.org/docs/2.4/vhosts/</a></p>
                                                </li>
                                                <li value="6">
                                                    <p>Customize the virtual host definition.</p>
                                                    <ol style="list-style-type: lower-alpha;">
                                                        <li value="1">Replace <code style="font-style: italic;">myswarm.host</code> with the hostname for <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> on your network.</li>
                                                        <li value="2">
                                                            <p>Replace <code style="font-style: italic;">myswarm</code> with the name of the subdomain hosting <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>. Many administrators choose swarm.</p>
                                                            <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                                <p>The string <span class="code_clearBackground">myswarm</span> in the log file paths: this should match the subdomain name and prefix for the log files, to help coordinate the active host with the log files for that host. Doing this is particularly useful when your Apache server hosts multiple instances of <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>.</p>
                                                            </div>
                                                        </li>
                                                        <li value="3">Replace <code style="font-style: italic;">/path/to/apache/logs</code> with the path where your Apache store its log files. Apache's log files are typically named <code>access_log</code> and <code>error_log</code>.</li>
                                                        <li value="4">Replace <code style="font-style: italic;">/path/to/swarm</code> with the path to the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> directory.</li>
                                                    </ol>
                                                </li>
                                                <li value="7">
                                                    <p>Restart your web server.</p>
                                                    <p><span class="code">$ sudo apachectl restart</span>
                                                    </p>
                                                </li>
                                                <li value="8">
                                                    <p>Adjust your firewall configuration to allow connections to the standard SSL port for web servers.</p>
                                                    <ul>
                                                        <li>
                                                            <p>For CentOS/RHEL:</p><pre class="programlisting">$ <b>sudo firewall-cmd --zone=public --add-port=443/tcp --permanent</b>
$ <b>sudo systemctl reload firewalld</b> </pre>
                                                        </li>
                                                        <li>For other distributions, consult with your network administrator or operating system documentation to determine how to adjust your firewall configuration.</li>
                                                    </ul>
                                                </li>
                                                <li value="9">
                                                    <p>Test your HTTPS URL from a web browser.</p>
                                                    <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                        <p>If the <code class="code_clearBackground" style="font-style: italic;">myswarm.host</code> value in the virtual host configuration and the certificate do not match, the <span class="mc-variable Perforce.P4V variable">P4V</span> integration with <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> fails with the message <code class="code_clearBackground">SSL handshake failed</code>.</p>
                                                        <p>Also, when a reverse DNS lookup is performed, <code class="code_clearBackground">myswarm.host</code> should be the answer when querying for the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server's IP address.</p>
                                                    </div>
                                                </li>
                                                <li value="10"> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</li>
                                            </ol>
                                            <h2 data-mc-autonum=""><a name="Run_Swarm_in_a_sub-folder_of_an_existing_web_site" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.subfolder"></a>Run <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> in a sub-folder of an existing web site</h2>
                                            <div class="warning admonition" data-mc-autonum="Warning"><span class="autonumber"><span class="admonition">Warning</span></span>
                                                <p><b>Multiple-</b><span style="font-weight: bold;" class="mc-variable Perforce.Helix_short variable">Helix server</span><b> instances on a single </b><span style="font-weight: bold;" class="mc-variable Perforce.Swarm_short variable">Swarm</span><b> instance:</b> You cannot run <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> in a sub-folder if <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is connected to multiple-<span class="mc-variable Perforce.Helix_short variable">Helix server</span>s. </p>
                                                <p><b>Issue:</b> <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> will lose connection to all of the <span class="mc-variable Perforce.Helix_short variable">Helix server</span>s if you edit the <a href="admin.environment.html#admin.environment.base_url" title="base_url" alt="base_url">base_url</a> configurable value in the <span class="code_clearBackground">environment</span> block of <span class="code_clearBackground">&lt;swarm_root&gt;/data/config.php</span>. This will stop your system working. </p>
                                                <p><b>Fix:</b> Remove the <span class="code_clearBackground">base_url</span> configurable from the <span class="code_clearBackground">environment</span> block of <span class="code_clearBackground">&lt;swarm_root&gt;/data/config.php</span>. </p>
                                            </div>
                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                <p>Back up your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host configuration before customizing your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, see <a href="#setup.post.backup.first" title="Back up your Swarm Virtual Host First" alt="Back up your Swarm Virtual Host First" class="MCXref xref">Back up your Swarm virtual host first</a>. </p>
                                            </div>
                                            <p>If you cannot run <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> in its own virtual host, which might be necessary when you do not control the hostname to be used with <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, installing <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> in a sub-folder of an existing virtual host configuration can be a good solution.</p>
                                            <p>Installing <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> in a sub-folder requires modification of the previous installation steps covered in this chapter:</p>
                                            <ul>
                                                <li>The <a href="setup.apache.html" class="MCXref xref">Apache configuration</a> is entirely different; instead of establishing a new virtual host, you need <a href="#setup.post.subfolder.apache">to modify an existing virtual host configuration</a>. Often, this would be Apache's default site.</li>
                                                <li><a href="setup.swarm.html"><span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s configuration file</a> requires an <a href="#setup.post.subfolder.swarm">extra item</a>.</li>
                                            </ul>
                                            <p>The following sections cover the specifics of sub-folder installation.</p>
                                            <p>See <a href="admin.environment.html#admin.environment.base_url" class="MCXref xref">base_url</a> for more details.</p>
                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                <p>If you used the <a href="setup.ova.html">Swarm OVA</a> or <a href="chapter-setup_package.html" title="Swarm packages" alt="Swarm packages"><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> packages</a> to install <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, you can adjust <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s configuration using the package configuration script <code class="code_clearBackground">/opt/perforce/swarm/sbin/configure-swarm.sh</code>.</p>
                                                <p><code class="code_clearBackground">configure-swarm.sh</code> does not read any existing <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> configuration; you must provide all of the configuration details each time you execute <code class="code_clearBackground">configure-swarm.sh</code>:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span>sudo /opt/perforce/swarm/sbin/configure-swarm.sh -n -p myp4host:1666 -u swarm -w password -e mx.example.com -H myhost -B /swarm</pre>
                                                <p>In the example above, the <code class="code_clearBackground">-B </code>option is used to specify the name of the sub-folder.</p>
                                                <p>If you use <code class="code_clearBackground">configure-swarm.sh</code> to adjust the Swarm configuration, you only need to follow the <a href="#setup.post.subfolder.apache" class="MCXref xref">Apache configuration</a> steps described below; all of the changes listed in the <a href="#setup.post.subfolder.swarm" class="MCXref xref">Swarm configuration</a> section below have been completed by <code class="code_clearBackground">configure-swarm.sh</code>.</p>
                                            </div>
                                            <h3 data-mc-autonum=""><a name="Apache_configuration" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.subfolder.apache"></a>Apache configuration</h3>
                                            <ol>
                                                <li value="1">
                                                    <p>Ensure that the <a href="admin.swarm_root.html"><code class="code_clearBackground" style="font-style: italic;">SWARM_ROOT</code></a> is not within the document root of the intended virtual host.</p>
                                                    <p>This step ensures that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s source code and configuration is impossible to browse, preventing access to important details such as stored credentials, and active sessions and workspaces.</p>
                                                </li>
                                                <li value="2">
                                                    <p>Adjust the virtual host configuration that you are already using.</p>
                                                    <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                        <p>Depending on the method used to install <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, the filename for virtual host configuration you need to edit is:</p>
                                                        <ul>
                                                            <li>For <a href="setup.ova.html" title="Swarm OVA" alt="Swarm OVA">Swarm OVA</a> or <a href="chapter-setup_package.html" title="Swarm package" alt="Swarm package">Swarm package</a> installations, edit <code class="code_clearBackground">perforce-swarm-site.conf</code>.</li>
                                                            <li>For manual installations following <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s recommended <a href="setup.apache.html" class="MCXref xref">Apache configuration</a> edit <code class="code_clearBackground">swarm</code>.</li>
                                                            <li>For other installations, you may have to edit <code class="code_clearBackground">httpd.conf</code> or nearby files.</li>
                                                        </ul>
                                                    </div>
                                                    <p>
                                                        <p>Add the following lines to the virtual host definition:</p><pre class="programlisting" lang="apache" xml:space="preserve">Alias "/<i>swarm" "SWARM_ROOT</i>/public"

DocumentRoot "/var/www/html"
							
&lt;Directory "<i>SWARM_ROOT</i>/public"&gt;
  AllowOverride All
  Require all granted
&lt;/Directory&gt;</pre>
                                                    </p>
                                                    <p>The <code class="code_clearBackground">Alias</code> line configures Apache to respond to requests to <code class="code_clearBackground">https://myhost/swarm</code> with content from <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s <code class="code_clearBackground">public</code> folder. You can change the <code class="code_clearBackground">/swarm</code> portion of the Alias line to anything you want.</p>
                                                    <p>The <span class="code_clearBackground">DocumentRoot</span> line configures the Apache DocumentRoot directory location. </p>
                                                    <p>The <code class="code_clearBackground">&lt;Directory&gt;</code> block grants access to everything within <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s <code class="code_clearBackground">public</code> folder. Replace <code class="code_clearBackground">SWARM_ROOT</code> with the actual path to <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>.</p>
                                                </li>
                                                <li value="3">
                                                    <p>Restart your web server.</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>sudo apachectl restart</b></pre>
                                                </li>
                                            </ol>
                                            <h3 data-mc-autonum=""><a name="Swarm_configuration" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.subfolder.swarm"></a><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> configuration</h3>
                                            <p>To successfully operate within a sub-folder, the <code class="code_clearBackground"><a href="admin.swarm_root.html" class="MCXref xref">swarm_root</a>/data/config.php</code> file needs to be adjusted to contain the following lines (as a peer of the p4 item):</p><pre class="programlisting" lang="php" xml:space="preserve">
	'environment' =&gt; array(<br></br>		'base_url' =&gt; '/swarm'<br></br>	),</pre>
                                            <p>Ensure that <code>/swarm</code> matches the first item in the <code>Alias</code> line in the virtual host configuration.</p>
                                            <p>See <a href="admin.environment.html" class="MCXref xref">Environment</a> for more details.</p>
                                            <h3 data-mc-autonum=""><a name="Swarm_trigger_configuration" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup-post-subfolder_swarm-trigger-file"></a><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> trigger configuration</h3>
                                            <p>The <span class="code">swarm-trigger.conf</span> file must be updated to include the <span class="code">base_url</span> in the <span class="code">SWARM_HOST</span> path. </p>
                                            <div class="tip admonition" data-mc-autonum="Tip "><span class="autonumber"><span class="admonition">Tip </span></span>
                                                <p>The location of the <span class="code_clearBackground">swarm-trigger.conf</span> depends on your installation. For information on the location of the <span class="code_clearBackground">swarm-trigger.conf</span> file, see <a href="setup.perforce.html#setup.perforce.set_troggers_with_windows_linux" class="MCXref xref">Set up Swarm triggers with a Windows or Linux-hosted Helix server</a>.</p>
                                            </div>
                                            <ol>
                                                <li value="1">Edit the <span class="code">swarm-trigger.conf</span> file.</li>
                                                <li value="2">Replace:</li>
                                                <p><span class="code">SWARM_HOST="http://my-swarm-host"</span>
                                                </p>
                                                <p>With:</p>
                                                <p><span class="code">SWARM_HOST="http://website-hostname/swarm"</span>
                                                </p>
                                                <li value="3">Save the file. </li>
                                            </ol>
                                            <h3 data-mc-autonum=""><a name="Cron_configuration" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.subfolder.cron"></a>Cron configuration</h3>
                                            <p><span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s <a href="setup.worker.html">recurring task</a> configuration must be updated to reflect the sub-folder that you have configured in <a href="#setup.post.subfolder.apache">Apache's</a> and <a href="#setup.post.subfolder.swarm" title="Swarm's" alt="Swarm's">Swarm's</a> configurations. This is configured in the <span class="code">swarm-cron-hosts.conf</span> file. </p>
                                            <ol>
                                                <li value="1">Edit <code>/opt/perforce/etc/swarm-cron-hosts.conf</code>.</li>
                                                <li value="2">
                                                    <p>Replace:</p><pre class="screen" xml:space="preserve">https://<i>swarm-host</i></pre>
                                                    <p>with:</p><pre class="screen" xml:space="preserve">https://<i>swarm-host</i>/<i>swarm</i>/</pre>
                                                    <p>Where <code style="font-style: italic;">swarm-host</code> is the hostname of your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, and <code style="font-style: italic;">swarm</code> is the sub-folder you want to use.</p>
                                                </li>
                                                <li value="3">
                                                    <p>Save the edited file.</p>
                                                    <p>New workers should be started at the start of the next minute.</p>
                                                </li>
                                                <li value="4"> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</li>
                                            </ol>
                                            <h2 data-mc-autonum=""><a name="Run_the_Swarm_virtual_host_on_a_custom_port" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.port"></a>Run the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host on a custom port</h2>
                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                <p>Back up your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> virtual host configuration before customizing your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, see <a href="#setup.post.backup.first" title="Back up your Swarm Virtual Host First" alt="Back up your Swarm Virtual Host First" class="MCXref xref">Back up your Swarm virtual host first</a>. </p>
                                            </div>
                                            <p>If you cannot run Swarm on port 80 (or port 443 for HTTPS), perhaps because you do not have root access, it is possible to run <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> on a custom port.</p>
                                            <p>Installing <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> to use a custom port requires modification of the previous installation steps covered in this chapter: The <a href="setup.apache.html">Apache configuration</a> is slightly different, requiring <a href="#setup.post.port.apache">modification of Swarm's virtual host definition</a>.</p>
                                            <p>The following section covers the specifics of the custom port configuration.</p>
                                            <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                <p>In addition to the following instructions, you may also need to apply the <code class="code_clearBackground">external_url</code> item described in the <a href="admin.environment.html" class="MCXref xref">Environment</a> section if your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is behind a proxy, or you have multiple <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> instances connected to <span class="mc-variable Perforce.HVE_short variable">Helix server</span>.</p>
                                            </div>
                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                <p>If you used the <a href="setup.ova.html">Swarm OVA</a> or <a href="chapter-setup_package.html" title="Swarm packages" alt="Swarm packages">Swarm packages</a> to install <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, you can adjust <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s configuration using the package configuration script <code class="code_clearBackground">/opt/perforce/swarm/sbin/configure-swarm.sh</code>.</p>
                                                <p><code class="code_clearBackground">configure-swarm.sh</code> does not read any existing <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> configuration; you must provide all of the configuration details each time you execute <code class="code_clearBackground">configure-swarm.sh</code>:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>sudo /opt/perforce/swarm/sbin/configure-swarm.sh -n -p myp4host:1666 -u swarm -w password -e mx.example.com -H myhost -P 8080</b></pre>
                                                <p>In the example above, the <code class="code_clearBackground">-P</code> option is used to specify the custom port that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> should use.</p>
                                                <p>If you use <code class="code_clearBackground">configure-swarm.sh</code> to adjust <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s configuration, follow the additional steps that it describes. Once those steps are complete, do not perform any of the steps described below.</p>
                                            </div>
                                            <h3 data-mc-autonum=""><a name="Apache_configuration_..611" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.port.apache"></a>Apache configuration</h3>
                                            <ol>
                                                <li value="1">
                                                    <p>Edit the virtual host configuration.</p>
                                                    <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                        <p>Depending on the method used to install <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, the filename for virtual host configuration you need to edit is:</p>
                                                        <ul>
                                                            <li>For <a href="setup.ova.html" title="Swarm OVA" alt="Swarm OVA">Swarm OVA</a> or <a href="chapter-setup_package.html" title="Swarm package" alt="Swarm package">Swarm package</a> installations, edit <code class="code_clearBackground">perforce-swarm-site.conf</code>.</li>
                                                            <li>For manual installations following <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s <a href="setup.apache.html">recommended Apache configuration</a>, edit <code class="code_clearBackground">swarm</code>.</li>
                                                            <li>For other installations, you may have to edit <code class="code_clearBackground">httpd.conf </code>or nearby files.</li>
                                                        </ul>
                                                    </div>
                                                    <ol style="list-style-type: lower-alpha;">
                                                        <li value="1">
                                                            <p>Add the following line <i>outside</i> of the <code>&lt;VirtualHost&gt;</code> block:</p><pre class="programlisting" lang="apache">Listen <i>8080</i></pre>
                                                        </li>
                                                        <li value="2">
                                                            <p>Edit the <code>&lt;VirtualHost *:80&gt;</code> line to read:</p><pre class="programlisting" lang="apache">&lt;VirtualHost *:<i>8080</i>&gt;</pre>
                                                        </li>
                                                    </ol>
                                                    <p>For both lines, replace <code style="font-style: italic;">8080</code> with the custom port you wish to use.</p>
                                                    <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                        <p>If you choose a port that is already in use, Apache refuses to start.</p>
                                                    </div>
                                                </li>
                                                <li value="2">
                                                    <p>Restart your web server.</p><pre class="programlisting"><span style="font-weight: normal;">$ </span><b>sudo apachectl restart</b></pre>
                                                </li>
                                                <li value="3">
                                                    <p>Adjust your firewall configuration to allow connections to the custom port.</p>
                                                    <ul>
                                                        <li>
                                                            <p>For CentOS/RHEL:</p><pre class="programlisting"><span style="font-weight: normal;">$ </span>sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent<br></br><span style="font-weight: normal;">$</span> <b>sudo systemctl reload firewalld</b></pre>
                                                            <p>Replace <code style="font-style: italic;">8080</code> with the custom port you wish to use.</p>
                                                        </li>
                                                        <li>For other distributions, consult with your network administrator or operating system documentation to determine how to just your firewall configuration.</li>
                                                    </ul>
                                                </li>
                                            </ol>
                                            <h3 data-mc-autonum=""><a name="Cron_configuration_..612" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.port.cron"></a>Cron configuration</h3>
                                            <p><span class="mc-variable Perforce.Swarm_short variable">Swarm</span>'s <a href="setup.worker.html">recurring task</a> configuration must be updated to reflect the custom port that you have configured in <a href="#setup.post.port.apache">Apache's</a> configuration. This is configured in the <span class="code">swarm-cron-hosts.conf</span> file. </p>
                                            <ol>
                                                <li value="1">Edit <code>/opt/perforce/etc/swarm-cron-hosts.conf</code>.</li>
                                                <li value="2">
                                                    <p>Replace:</p><pre class="screen" xml:space="preserve">https://<i>swarm-host:80</i></pre>
                                                    <p>with:</p><pre class="screen" xml:space="preserve">https://<i>swarm-host:8080</i></pre>
                                                    <p>Where <code style="font-style: italic;">swarm-host</code> is the hostname of your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation, and <code style="font-style: italic;">8080</code> is the custom port you want to use.</p>
                                                </li>
                                                <li value="3">
                                                    <p>Save the edited file.</p>
                                                    <p>New workers should be started at the start of the next minute.</p>
                                                </li>
                                                <li value="4"> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</li>
                                            </ol>
                                            <h2 data-mc-autonum=""><a name="Use_your_own_Redis_server" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup.post.using_your_redis_server"></a>Use your own Redis server</h2>
                                            <p>By default <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> uses its own Redis server on the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> machine. </p>
                                            <p>This section describes how to connect <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> to your own Redis server. </p>
                                            <p style="font-weight: bold;">To use your own Redis server:</p>
                                            <ol>
                                                <li value="1">Add the <span class="code">redis</span> block to the <code class="code_clearBackground"><i><a href="admin.swarm_root.html">SWARM_ROOT</a></i>/data/config.php</code> file, it contains the <span class="code">password</span>, <span class="code">namespace</span>, <span class="code">host</span>, and <span class="code">port</span> details of your Redis server</li><pre lang="php" class="programlisting" xml:space="preserve">
&lt;?php
    // this block should be a peer of 'p4'
    'redis' =&gt; array(
        'options' =&gt; array( 
            'password' =&gt; null, // Defaults to null
            'namespace' =&gt; 'Swarm',  
            'server' =&gt; array(
                'host' =&gt; '<i>MyRedisServerHostname</i>', // Defaults to 'localhost' or enter your Redis server hostname
                'port' =&gt; '<i>MyRedisServerPortNumber</i>', // Defaults to '7379 or enter your Redis server port
            ), 
        ),
        'items_batch_size' =&gt; 100000,
        'check_integrity' =&gt; '03:00', // Defaults to '03:00' Use one of the following two formats: 
                                      // 1) The time of day that the integrity check starts each day. Set in 24 hour format with leading zeros and a : separator
                                      // 2) The number of seconds between each integrity check. Set as a positive integer. Specify '0' to disable the integrity check.
        'population_lock_timeout' =&gt; 300, // Timeout for initial cache population. Defaults to 300 seconds. 
    ),
</pre>
                                                <ul>
                                                    <li><span class="code">password</span>: set to the password of your Redis server, defaults to null</li>
                                                    <li><span class="code">namespace</span>: the prefix  used for key values in the Redis cache. Defaults to <span class="code">Swarm</span>. </li>
                                                    <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                        <p>If you have multiple-<span class="mc-variable Perforce.Swarm_short variable">Swarm</span> instances running against a single Redis server,  each <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server must use a different Redis <span class="code_clearBackground">namespace</span>. This enables the cache data for the individual <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> instances to be identified. The <span class="code_clearBackground">namespace</span> is limited to ≤ 128 characters.</p>
                                                        <p>If one or more of your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> instances is connected to multiple-<span class="mc-variable Perforce.Helix_short variable">Helix server</span>s, the Redis <span class="code_clearBackground">namespace</span>   includes the <span class="code_clearBackground">server label</span> and the character limit is reduced to ≤ 127 characters, see <a href="admin_multiple_p4d_config.html" class="MCXref xref">Multiple-Helix server instances</a>.</p>
                                                    </div>
                                                    <li><span class="code">host <i>MyRedisServerHostname</i></span>: Redis server host name </li>
                                                    <li><span class="code">port <i>MyRedisServerPortNumber</i></span>: Redis server port number</li>
                                                    <li><span class="code">items_batch_size</span>: Maximum number of key/value pairs allowed in an <span class="code_clearBackground">mset</span> call to Redis. Sets exceeding this will be batched according to this maximum for efficiency. Defaults to <span class="code">100000</span>. </li>
                                                    <p>
                                                        <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                            <p>The default value of <span class="code_clearBackground">100000</span> was chosen to strike a balance between efficiency and project data complexity. This value should not normally need to be changed, contact support before making a change to this value. </p>
                                                        </div>
                                                    </p>
                                                    <li><span class="code">check_integrity</span>: In some circumstances, such as when changes are made in the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> when <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is down or if errors occur during updates, the Redis cache can get out of sync with the <span class="mc-variable Perforce.Helix_short variable">Helix server</span>. <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> can run a regular integrity check to make sure that the Redis caches and <span class="mc-variable Perforce.Helix_short variable">Helix server</span> are in sync. If an integrity check finds an out of sync cache file, <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> automatically updates the data in that cache.</li>
                                                    <p>
                                                        <p>The <span class="code">check_integrity</span> configurable specifies when the Redis cache integrity check is run. Set as a specific time of day (24 hour format with leading zeros) or a number of seconds (positive integer) between checks. Disable the integrity check with <span class="code">'0'</span>. Defaults to <span class="code">'03:00'</span>. </p>
                                                    </p>
                                                    <li><span class="code">population_lock_timeout</span>: specifies the timeout, in seconds, for initial cache population. If you have a large <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> system, increase this time if the initial cache population times out. Defaults to <span class="code">300</span> seconds. </li>
                                                </ul>
                                                <li value="2">Edit the Redis server configuration in the <span class="code_clearBackground">/opt/perforce/etc/redis-server.conf</span> file:</li><pre lang="php" class="programlisting" xml:space="preserve">
bind <i>MyRedisServerHostname</i>
port <i>MyRedisServerPortNumber</i>
supervised auto
save ""
dir <i>/MyRedis/CacheDatabase/Directory/Location</i>
</pre>
                                                <ul>
                                                    <li><span class="code">bind <i>MyRedisServerHostname</i></span> - Redis server host name </li>
                                                    <li><span class="code">port <i>MyRedisServerPortNumber</i></span> - Redis server port number</li>
                                                    <li><span class="code">supervised auto</span> - detects the use of <span class="code_clearBackground">upstart</span> or <span class="code_clearBackground">systemd</span> automatically to signal that the process is ready to use the supervisors</li>
                                                    <li><span class="code">save ""</span> - background saves disabled, recommended. </li>
                                                    <li><span class="code">dir <i>/MyRedis/CacheDatabase/Directory/Location</i></span> - the directory the Redis cache database is stored in</li>
                                                </ul>
                                                <p>
                                                    <div class="tip admonition" data-mc-autonum="Tip "><span class="autonumber"><span class="admonition">Tip </span></span>
                                                        <ul>
                                                            <li>The <span class="code_clearBackground">redis-server.conf</span> file contains more detailed information about the Redis configuration for <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>. </li>
                                                            <li>On <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> systems with a large number of users, groups, and projects, start-up time can be improved by persisting the memory cache. You can persist the memory cache by disabling background saves and enabling append saves, see the <span class="code_clearBackground">redis-server.conf</span> file comments for detailed information. </li>
                                                        </ul>
                                                    </div>
                                                </p>
                                                <p><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is now connected to your Redis server and your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> installation is complete. </p>
                                                <li value="3"> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</li>
                                            </ol>
                                            <h2 data-mc-autonum=""><a name="Hiding_Swarm_storage_from_regular_users" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup-post_dm_keys"></a>Hiding <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> storage from regular users</h2>
                                            <p><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> information storage uses <span class="mc-variable Perforce.HVE_short variable">Helix server</span>'s <code class="code_clearBackground" style="font-style: italic;">keys</code> facility. By default, users with <i>list</i>-level access can search keys and potentially obtain information they would not otherwise have access to, and users with <i>review</i>-level access can write or modify keys potentially corrupting or destroying data.</p>
                                            <p>We recommend that you set the <code>dm.keys.hide</code> configurable to 2 to require <i>admin</i>-level access for searching and modifying keys. Note that <code>dm.keys.hide</code> is available in <span class="mc-variable Perforce.HVE_short variable">Helix server</span> versions 2013.1 and newer.</p>
                                            <p>When <code>dm.keys.hide</code> is set to 2, both the <code>p4 keys</code> and <code>p4 key</code> commands require <i>admin</i>-level access in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span>. When <code>dm.keys.hide</code> is set to 1, only the <code>p4 keys </code>command requires <i>admin</i>-level access in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span>. When <code>dm.keys.hide</code> is set to 1, or is not set, users who know (or can deduce) key names can read values (if they have <i>list</i>-level access) or write values (if they have <i>review</i>-level access) with the <code>p4 key</code> command.</p>
                                            <p>To set <code>dm.keys.hide</code>:</p>
                                            <p><span class="code">p4 configure set dm.keys.hide=2</span>
                                            </p>
                                            <p>To confirm the current value of <code>dm.keys.hide</code>:</p>
                                            <p><span class="code">p4 configure show dm.keys.hide</span>
                                            </p>
                                            <p>To unset <code>dm.keys.hide</code>:</p>
                                            <p><span class="code">p4 configure unset dm.keys.hide</span>
                                            </p>
                                            <h3 data-mc-autonum=""><a name="Next_step_..613" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span>Next step</h3>
                                            <p> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</p>
                                            <h2 data-mc-autonum=""><a name="Handling_Exclusive_Locks" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="setup-post_exclusive_locks"></a>Handling Exclusive Locks</h2>
                                            <div class="tip admonition" data-mc-autonum="Tip "><span class="autonumber"><span class="admonition">Tip </span></span>
                                                <p>If this setting is not enabled in <span class="mc-variable Perforce.HVE_short variable">Helix server</span>, <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> will report exceptions when working with exclusively opened files similar to <span class="code_clearBackground">Cannot unshelve review (x). One or more files are exclusively open</span>, and that you must have the <span class="code_clearBackground">filetype.bypasslock</span> configurable enabled.</p>
                                            </div>
                                            <p><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> takes copies of files when it is creating reviews. Some of the files managed by <span class="mc-variable Perforce.HVE_short variable">Helix server</span> may be limited to 'exclusive open' by having the filetype modifier '+l'  set. This file-level setting ensures only one user at a time can open the file for editing.</p>
                                            <p>To allow <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> to work with these 'exclusive open' files, you must enable <code>filetype.bypasslock</code> in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span> configuration.</p>
                                            <p>To set <span class="code">filetype.bypasslock</span>:</p>
                                            <p><span class="code">p4 configure set filetype.bypasslock=1</span>
                                            </p>
                                            <p>To confirm the current value of <code>filetype.bypasslock</code>:</p>
                                            <p><span class="code">p4 configure show filetype.bypasslock</span>
                                            </p>
                                            <p>To unset <code>filetype.bypasslock</code>:</p>
                                            <p><span class="code">p4 configure unset filetype.bypasslock</span>
                                            </p>
                                            <h3 data-mc-autonum=""><a name="Next_step_..614" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span>Next step</h3>
                                            <p> Validate that <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> is working correctly before using it in production, see <a href="setup.validate_install.html" class="MCXref xref">Validate your Swarm installation</a>.</p>
                                        </div>
                                    </div>
                                    <p class="invisible"><a href="../Shared/SearchTips-swarm.html" class="MCXref xref">Your search for  returned  result(s).</a>
                                    </p>
                                    <p class="invisible"><span class="invisible"><link href="../Resources/Fonts/OpenSans-Regular.ttf" /><link href="../Resources/Fonts/OpenSans-Bold.ttf" /><link href="../Resources/Fonts/OpenSans-BoldItalic.ttf" /><link href="../Resources/Fonts/OpenSans-Italic.ttf" /><link href="../Resources/Fonts/cour.ttf" /><link href="../Resources/Fonts/courbd.ttf" /><link href="../Resources/Fonts/courbi.ttf" /><link href="../Resources/Fonts/couri.ttf" /></span>
                                    </p>
                                    <div class="home-footer">
                                        <div><a href="https://www.perforce.com/support/documentation" target="_blank"><img src="../Resources/FooterImages/Docs_28x28.png" title="View additional product documentation" alt="Additional product documentation" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support/training" target="_blank"><img src="../Resources/FooterImages/training_28x28.png" title="Visit the Perforce Training portal" alt="Perforce training portal" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support/video-tutorials" target="_blank"><img src="../Resources/FooterImages/video-tutorials_28x28.png" title="Visit the Perforce video library" alt="Perforce video library" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://community.perforce.com/s/" target="_blank"><img src="../Resources/FooterImages/KB_28x28.png" title="Visit the Perforce knowledge base" alt=" Perforce knowledge base" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support" target="_blank"><img src="../Resources/FooterImages/Support_28x28.png" title="Go to Perforce customer support" alt="Perforce customer support" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="mailto:manual@perforce.com?subject=Documentation feedback" target="_blank"><img src="../Resources/FooterImages/feedback_28x28.png" title="How can we improve this topic?" alt="Email us at: manual@perforce.com" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="http://www.perforce.com/" target="_blank"><img src="../Resources/FooterImages/Perforce-LOGO-WHITE_150x17.png" style="width: 150;height: 17;" alt="" /></a>
                                        </div>
                                    </div>
                                    <script type="text/javascript" src="../Resources/google-code-prettify/prettify.js">
                                    </script>
                                    <script type="text/javascript">/* <![CDATA[ */
    // hookup prettify
    $("pre.programlisting").each(function () {
      var $this = $(this),
          lang = $this.attr("lang");
      if (lang) {
        $this.addClass("lang-" + lang);
       // if (lang !== "bash") 
		// {
        $this.addClass("prettyprint");
        //}
      }
    });
    window.prettyPrint();
    /* ]]> */</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Side_Nav___Swarm" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Trigger options</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/perforce.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE.htc');
}

</style>
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */		/*The following script overrides topic title in browser tab*/
			document.title = "Helix Swarm Guide (2022.1)";
		/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 980px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="home-swarm.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="skin-heading-swarm"><span class="mc-variable Perforce.Manual_Title variable">Helix Swarm Guide</span> (<span class="mc-variable Perforce.VersionNumber variable">2022.1</span>)</div>
                                    <script src="../Resources/google-analytics/gtag.js">
                                    </script>
                                    <script type="text/javascript">/*<![CDATA[*/
			$(document).ready(function(){
			$("#skin-heading-swarm").appendTo("div.logo-wrapper"); 
			});
		/*]]>*/</script>
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Topic_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: ExpandAll Print RemoveHighlight NextTopic PreviousTopic Forward Back;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print this topic">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Go to previous heading" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Go to next heading" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div class="sidenav-content">
                                        <div role="main" id="mc-main-content">
                                            <h1 data-mc-autonum=""><a name="Trigger_options" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span>Trigger options</h1>
                                            <div class="warning admonition" data-mc-autonum="Warning"><span class="autonumber"><span class="admonition">Warning</span></span>
                                                <p>If you are using <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> <span class="mc-variable Perforce.Helix_short variable">Helix server</span> Triggers, the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <span class="mc-variable Perforce.extension variable">extension</span> must not be installed.</p>
                                            </div>
                                            <div class="tip admonition" data-mc-autonum="Tip "><span class="autonumber"><span class="admonition">Tip </span></span>
                                                <p>We recommend you use <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <span class="mc-variable Perforce.Extensions variable">Extensions</span>, <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <span class="mc-variable Perforce.Extensions variable">Extensions</span> are easier to install and maintain than triggers. See <a href="setup.dependencies.html#setup-dependencies_extensions" class="MCXref xref">Helix Core server Extensions dependencies</a>.</p>
                                            </div>
                                            <p>The <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> trigger script, <code>swarm-trigger.pl</code>, provides the following command line options and configuration items.</p>
                                            <h2 data-mc-autonum=""><a name="Command-line_options" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="admin.trigger.options"></a>Command-line options</h2>
                                            <h3 data-mc-autonum=""><a name="Synopsis" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="admin.trigger.options.synopsis"></a>Synopsis</h3><pre class="programlisting">swarm-trigger.pl -t type -v ID [-c config_file]</pre><pre class="programlisting">swarm-trigger.pl -o</pre><pre class="programlisting">swarm-trigger.pl -h</pre>
                                            <h3 data-mc-autonum=""><a name="Informational_options" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="admin.trigger.options.informational"></a>Informational options</h3>
                                            <p>The following options perform no processing, and simply provide information useful to a <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> administrator. These are not intended to be used within trigger entries in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span>.</p>
                                            <ul>
                                                <li>
                                                    <p><b>-h</b>
                                                    </p>
                                                    <p>Displays a list of the available options, some guidance on its usage, and a copy of the trigger table entries that should be configured in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span> to execute the script in its current path.</p>
                                                </li>
                                                <li>
                                                    <p><b>-o</b>
                                                    </p>
                                                    <p>Displays a copy of the trigger table entries that should be configured in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span> to execute the script in its current path.</p>
                                                </li>
                                            </ul>
                                            <h3 data-mc-autonum=""><a name="Operational_options" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="admin.trigger.options.operational"></a>Operational options</h3>
                                            <p>The following command-line options are used in the trigger table entries in the <span class="mc-variable Perforce.HVE_short variable">Helix server</span> to specify how the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> trigger script should be executed.</p>
                                            <ul>
                                                <li>
                                                    <p><span class="code_clearBackground">-t type</span>
                                                    </p>
                                                    <p>Specifies the type of processing that the trigger script undertakes. <code style="font-style: italic;">type</code> can be one of:</p>
                                                    <ul>
                                                        <li><span class="code">job</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-commit</code> events for job forms, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a job is created or modified.</li>
                                                        <li><span class="code">user</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-commit</code> events for user forms, which informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a user is added or modified.</li>
                                                        <li><span class="code">userdel</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-delete</code> events for user forms, which informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a user is deleted.</li>
                                                        <li><span class="code">group</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-commit</code> events for group forms, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a group is created or modified.</li>
                                                        <li><span class="code">groupdel</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-delete</code> events for group forms, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a group is deleted.</li>
                                                        <li><span class="code">changesave</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>form-save</code> events for change forms, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a changelist is created or modified.</li>
                                                        <li><span class="code">shelve</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>shelve-commit</code> events, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a changelist is shelved, which can create or update a review.</li>
                                                        <li><span class="code">commit</span>: this type should be used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>change-commit</code> events, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a changelist is committed.</li>
                                                        <li><span class="code">shelvedel</span>: this type is used with <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>shelve-delete</code> events, and informs <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> when a file is deleted from a shelf. </li>
                                                        <p>
                                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                                <p>Do not use the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> user that is configured in the <a href="setup.swarm.html" title="Swarm configuration file" alt="Swarm configuration file"><span class="mc-variable Perforce.Swarm_short variable">Swarm</span> configuration file</a>  when deleting shelves, or deleting files from shelves. The <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> logic processes the <i>shelve-delete</i> trigger event, if the event is invoked by the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> user it is rejected. The delete operations will fail. </p>
                                                            </div>
                                                        </p>
                                                        <li><span class="code">enforce</span> comment out if the Workflow feature is <a href="admin.workflow_configurables.html">enabled</a> (enabled by default): this type is used to verify that commits to specific depot paths are associated with approved reviews. If a commit includes a file within the specified depot path, and it is not associated with a review (or a review that is not approved), the commit is rejected.</li>
                                                        <p>
                                                            <p>Using the enforce type prevents users from committing changes to specific depot paths without those changes being reviewed and approved.</p>
                                                        </p>
                                                        <li><a name="admin-trigger-options-type-original-strict"></a><span class="code">strict</span> comment out if the Workflow feature is <a href="admin.workflow_configurables.html">enabled</a> (enabled by default): this type is used to verify that the file content in a commit matches the file content of its associated approved review. If one or more files in a commit do not match the content of the file in its associated review, the commit is rejected.</li>
                                                        <p>
                                                            <p>Using the <span class="code">strict</span> type prevents users from making changes to the file content after a review has been approved and then submitting the unapproved changes. </p>
                                                            <div class="note admonition" data-mc-autonum="Note "><span class="autonumber"><span class="admonition">Note </span></span>
                                                                <p><span class="code_clearBackground">strict</span> implies <span class="code_clearBackground">enforce</span>.</p>
                                                            </div>
                                                        </p>
                                                        <li><a name="admin_trigger_workflow_trigger_types"></a><b>Workflow trigger types</b> comment out if the Workflow feature is <a href="admin.workflow_configurables.html">disabled</a> (enabled by default). The <span class="code">enforce</span> and <span class="code">strict</span> triggers above must be commented out if the Workflow feature is <a href="admin.workflow_configurables.html">enabled</a>: </li>
                                                        <p>
                                                            <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                                <p style="font-weight: bold;">Known limitations</p>
                                                                <p>The workflow triggers do not support the following trigger functionality available in   <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> 2018.1 and earlier:</p>
                                                                <ul>
                                                                    <li><span class="code_clearBackground">EXEMPT_FILE_COUNT</span>: When set to a positive integer, commits with a file count greater or equal to this value are exempt from <code class="code_clearBackground">enforce</code> or <code class="code_clearBackground">strict</code> verifications.</li>
                                                                    <li><span class="code_clearBackground">EXEMPT_EXTENSIONS</span>: A comma separated list of file extension. Commits with files having only these extensions are exempt from <code class="code_clearBackground">enforce</code> or <code class="code_clearBackground">strict</code> verifications.</li>
                                                                </ul>
                                                                <p>To continue to use this functionality, you must keep your existing <code class="code_clearBackground">enforce</code> and <code class="code_clearBackground">strict</code> triggers and <a href="admin.workflow_configurables.html">disable the Workflow feature</a>. </p>
                                                            </div>
                                                            <div class="tip admonition" data-mc-autonum="Tip "><span class="autonumber"><span class="admonition">Tip </span></span>
                                                                <p>By default, all group members and users must follow any workflow rules that apply to  changelists and reviews. However, your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> administrator can configure specific groups and users so that they are excluded from following the workflow rules. This applies to actions  taken in the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> UI, the <span class="mc-variable Perforce.P4D variable">P4D</span> command line, a <span class="mc-variable Perforce.P4D variable">P4D</span> client, and the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> API. </p>
                                                            </div>
                                                        </p>
                                                        <p>The following trigger types are used by <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> for workflow rules. They are not intended for use in custom trigger scripts. <ul><li><span class="code">checkenforced</span>: this type is used by the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> <a href="admin.workflow_configurables.html#admin_workflow_configurable_global-rules" title="On commit with a review rule" alt="On commit with a review rule"><b>On commit with a review</b> workflow rule</a> and cannot be configured. <code>checkenforced</code> triggers on a <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>change-submit</code> event. </li><p>If a commit is made to a branch that has <b>On commit with a review</b> set to <b>Reject unless approved</b>, and it is not associated with a review (or the review is not approved), the commit is rejected. If the commit is associated with an approved review, a content check is carried out by <code>checkstrict</code>. </p><li><a name="admin.trigger.options_type_strict"></a><span class="code">checkstrict</span>: this type is used by the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> <a href="admin.workflow_configurables.html#admin_workflow_configurable_global-rules" title="On commit without a review workflow rule" alt="On commit without a review workflow rule"><b>On commit without a review</b> workflow rule</a> and cannot be configured. <code>checkstrict</code> triggers on a <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>change-content</code> event. </li><p>This check is performed after <code>checkenforced</code>. If the <b>On commit without a review</b> rule is set to <b>Reject</b>, and one or more files in a commit do not match the content of the file in its associated review, the commit is rejected.  </p><li><span class="code">checkshelve</span>: this type is used by the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> <a href="admin.workflow_configurables.html#admin_workflow_configurable_global-rules" title="On update of a review in an end state workflow rule" alt="On update of a review in an end state workflow rule"><b>On update of a review in an end state</b> workflow rule</a> and cannot be configured. <code>checkshelve</code> triggers on a <span class="mc-variable Perforce.Helix_short variable">Helix server</span> <code>shelve-submit</code> event. </li><p>If a shelf is associated with a review, and it is committed to a branch that has <b>On update of a review in an end state</b> set to <b>Reject</b>, <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> checks what state the review is in to make sure it is not in a <a href="admin.reviews.html#admin.reviews.end_states" title="Protected state" alt="Protected state">protected state</a>. If the review is in a protected state, the commit is rejected. </p></ul></p>
                                                    </ul>
                                                    <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                        <p>You cannot mix <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> trigger types with unrelated <span class="mc-variable Perforce.Helix_short variable">Helix server</span> events; the behavior is undetermined, and the information required for each type of processing may not be available to the trigger.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">-v ID</span>
                                                    </p>
                                                    <p>Specifies <code style="font-style: italic;">ID</code>, which is the identifier for the current trigger type.</p>
                                                    <p>When the <code style="font-style: italic;">type</code> is <code>job</code>, <code>user</code>, <code>userdel</code>, <code>group</code>, <code>groupdel</code>, or <code>changesave</code>, <code style="font-style: italic;">ID</code> should be <code style="font-style: normal;">%formname%</code> to specify the specific form identifier <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> should process.</p>
                                                    <p>When the <code style="font-style: italic;">type</code> is <code>shelve</code>, <code>commit</code>, <code>shelvedel</code>, <code>checkenforced</code>,  <code>checkstrict</code>, or <code>checkshelve</code> <code style="font-style: italic;">ID</code> should be <code>%change%</code> to specify the specific changelist <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> should process.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">-p port</span> <b>(optional)</b> <b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>Specifies the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> port (<span class="code">P4PORT</span>). This value is optional, and is only used for types <span class="code">enforce </span>or <span class="code">strict </span>as the trigger has to run its own commands against the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> during its processing.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">-r </span><b>(optional)</b> <b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>Specifies that, when types <span class="code">enforce</span> or <span class="code">strict</span> are being processed, the verifications should only be performed on commits that are currently in review.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">-g </span><b>(optional)</b> <b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>Specifies a <span class="code">group</span> to exclude from <span class="code">enforce</span> or <span class="code">strict</span> verifications. Members of the group (including sub-groups) are not subject to <span class="code">enforce</span> or <span class="code">strict</span> verifications.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">-c config_file</span> <b>(optional)</b></p>
                                                    <p>Specifies an optional <code style="font-style: italic;">config_file</code> which is used to specify configuration items.</p>
                                                </li>
                                            </ul>
                                            <h2 data-mc-autonum=""><a name="Configuration_items" data-mc-generated-bookmark="TOC"></a><span class="autonumber"><span></span></span><a name="admin.trigger.configuration_items"></a>Configuration items</h2>
                                            <p>The following configuration items are used in the <code>swarm-trigger.conf</code> (or another file, if the <code>-c</code> option is used in the trigger entries).</p>
                                            <ul>
                                                <li>
                                                    <p><span class="code_clearBackground">SWARM_HOST</span><b> (required)</b>
                                                    </p>
                                                    <p>Specifies the host URL of your <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> instance, with the leading <code>http://</code> or <code>https://</code>. For example: <code>https://myswarm.url</code>. </p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">SWARM_TOKEN</span><b> (required)</b>
                                                    </p>
                                                    <p>A token used when talking to <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>. To obtain the token, log into <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> as a user with <i>super</i> privileges and select the <a href="basics.notable.html#basics.notable.about" data-mc-conditions="Perforce.Swarm">About <span class="mc-variable Perforce.Swarm_short variable">Swarm</span></a>  from the user menu in the main navigation bar.</p>
                                                    <p>You can also manually create additional tokens. Tokens are empty files stored within <code class="code_clearBackground"><a href="admin.swarm_root.html"><i>SWARM_ROOT</i></a>/data/queue/tokens</code> (the filename is the token and is reported on the <b>About <span class="mc-variable Perforce.Swarm_short variable">Swarm</span></b> dialog), that should be readable by the web server.</p>
                                                    <p>You might manually create additional tokens to allow other processes to talk to <span class="mc-variable Perforce.Swarm_short variable">Swarm</span>, such as JIRA build tasks, and to selectively invalidate access to <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> without interfering with regular <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> operations.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">ADMIN_USER</span> <b>(optional) </b><![CDATA[  ]]><b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>When <span class="code">enforce </span>or <span class="code">strict </span>verifications are to be performed, you may need specify a username of a user in the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> that has <i>admin </i>privileges. If you do not specify a username, the trigger script uses the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> user set in the environment.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">ADMIN_TICKET_FILE</span> <b>(optional) </b><![CDATA[  ]]><b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>When <span class="code">enforce </span>or <span class="code">strict </span>verifications are to be performed, you may need specify the path to the <span class="code">.p4tickets</span> file, if your <span class="mc-variable Perforce.Helix_short variable">Helix server</span> tickets file is not the default <span class="code">$HOME/.p4tickets</span>.</p>
                                                    <div class="important admonition" data-mc-autonum="Important "><span class="autonumber"><span class="admonition">Important </span></span>
                                                        <p>Ensure that the ticket belongs to a user with <i>admin </i>privileges in the <span class="mc-variable Perforce.Helix_short variable">Helix server</span>, and is a member of a group with an <span class="code_clearBackground">unlimited </span>or very long ticket timeout. If this user's authentication times out, <span class="code_clearBackground">enforce </span>and <span class="code_clearBackground">strict </span>verifications stop working.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">P4_PORT </span> <b>(optional) </b><![CDATA[  ]]><b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>When <span class="code">enforce</span> or <span class="code">strict</span> verifications are to be performed, you may need to set the port value (<span class="code">P4PORT</span>) of the <span class="mc-variable Perforce.Helix_short variable">Helix server</span>, particularly if the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> is on a non-standard port, or if the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> is not using the default hostname.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">P4</span> <b>(optional) </b><![CDATA[  ]]><b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>Specifies the full path to <span class="code">p4</span>, the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> command-line client. This is only required when <span class="code">p4</span> is not found in the <span class="code">PATH</span> of the <span class="mc-variable Perforce.Helix_short variable">Helix server</span> environment, and when <span class="code">enforce</span> or <span class="code">strict</span> verifications are to be performed.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">EXEMPT_FILE_COUNT</span> <b>(optional) </b><![CDATA[  ]]><b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>When set to a positive integer, commits with a file count greater or equal to this value are exempt from <span class="code">enforce</span> or <span class="code">strict</span> verifications.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">EXEMPT_EXTENSIONS</span> <b>(optional)</b> <b>Do not use if the Workflow feature is enabled (default)</b></p>
                                                    <p>A comma-separated list of file extensions. Commits with files having only these extensions are exempt from <span class="code">enforce</span> or <span class="code">strict</span> verifications.</p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">VERIFY_SSL</span> <b>(optional)</b></p>
                                                    <p>If HTTPS is used on the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> web server, this controls whether the SSL certificate is validated or not. </p>
                                                    <p>By default <code>VERIFY_SSL</code> is set to <code>1</code>, this means any SSL certificates must be valid. If the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> web server is using a self signed certificate, <code>VERIFY_SSL</code> must be set to <code>0</code>. </p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">TIMEOUT</span><b> (optional)</b>
                                                    </p>
                                                    <p>Sets the number of seconds to wait before returning an error when communicating with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server. </p>
                                                    <p>The default setting is <code>30</code> seconds. </p>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">IGNORE_TIMEOUT</span><b> (optional)</b>
                                                    </p>
                                                    <p>Configure the action to take if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server times out. For example, if you are submitting a large number of files to the <span class="mc-variable Perforce.Helix_short variable">Helix server</span>. </p>
                                                    <p>Options are:</p>
                                                    <ul>
                                                        <li><b>0</b> if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server times out, the submit will fail. This is the default setting.</li>
                                                        <li><b>1</b> if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server times out, the submit will continue. This  increases the reliability of submits. </li>
                                                    </ul>
                                                </li>
                                                <li>
                                                    <p><span class="code_clearBackground">IGNORE_NOSERVER</span><b> (optional)</b><![CDATA[  ]]></p>
                                                    <p>Configure the action to take if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server fails. For example, the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server is down. </p>
                                                    <p>Options are:</p>
                                                    <ul>
                                                        <li><b>0</b> if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server fails, the submit will fail.  This is the default setting.</li>
                                                        <li><b>1</b>  if communication with the <span class="mc-variable Perforce.Swarm_short variable">Swarm</span> server fails, the submit will continue.  This  increases the reliability of submits. </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <p class="invisible"><a href="../Shared/SearchTips-swarm.html" class="MCXref xref">Your search for  returned  result(s).</a>
                                    </p>
                                    <p class="invisible"><span class="invisible"><link href="../Resources/Fonts/OpenSans-Regular.ttf" /><link href="../Resources/Fonts/OpenSans-Bold.ttf" /><link href="../Resources/Fonts/OpenSans-BoldItalic.ttf" /><link href="../Resources/Fonts/OpenSans-Italic.ttf" /><link href="../Resources/Fonts/cour.ttf" /><link href="../Resources/Fonts/courbd.ttf" /><link href="../Resources/Fonts/courbi.ttf" /><link href="../Resources/Fonts/couri.ttf" /></span>
                                    </p>
                                    <div class="home-footer">
                                        <div><a href="https://www.perforce.com/support/documentation" target="_blank"><img src="../Resources/FooterImages/Docs_28x28.png" title="View additional product documentation" alt="Additional product documentation" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support/training" target="_blank"><img src="../Resources/FooterImages/training_28x28.png" title="Visit the Perforce Training portal" alt="Perforce training portal" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support/video-tutorials" target="_blank"><img src="../Resources/FooterImages/video-tutorials_28x28.png" title="Visit the Perforce video library" alt="Perforce video library" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://community.perforce.com/s/" target="_blank"><img src="../Resources/FooterImages/KB_28x28.png" title="Visit the Perforce knowledge base" alt=" Perforce knowledge base" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="https://www.perforce.com/support" target="_blank"><img src="../Resources/FooterImages/Support_28x28.png" title="Go to Perforce customer support" alt="Perforce customer support" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="mailto:manual@perforce.com?subject=Documentation feedback" target="_blank"><img src="../Resources/FooterImages/feedback_28x28.png" title="How can we improve this topic?" alt="Email us at: manual@perforce.com" class="FooterIcon" style="width: 28;height: 28;" /></a>
                                        </div>
                                        <div><a href="http://www.perforce.com/" target="_blank"><img src="../Resources/FooterImages/Perforce-LOGO-WHITE_150x17.png" style="width: 150;height: 17;" alt="" /></a>
                                        </div>
                                    </div>
                                    <script type="text/javascript" src="../Resources/google-code-prettify/prettify.js">
                                    </script>
                                    <script type="text/javascript">/* <![CDATA[ */
    // hookup prettify
    $("pre.programlisting").each(function () {
      var $this = $(this),
          lang = $this.attr("lang");
      if (lang) {
        $this.addClass("lang-" + lang);
       // if (lang !== "bash") 
		// {
        $this.addClass("prettyprint");
        //}
      }
    });
    window.prettyPrint();
    /* ]]> */</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>